<Type Name="AuthorizationStoreRoleProvider" FullName="System.Web.Security.AuthorizationStoreRoleProvider">
  <Metadata><Meta Name="ms.openlocfilehash" Value="61272b5eecf9555d7aaba7ecd9d69f4f9ecc638a" /><Meta Name="ms.sourcegitcommit" Value="1403e40e1f487577d6846a42664d2e74b78a08b7" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="01/29/2020" /><Meta Name="ms.locfileid" Value="76825217" /></Metadata><TypeSignature Language="C#" Value="public class AuthorizationStoreRoleProvider : System.Web.Security.RoleProvider" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit AuthorizationStoreRoleProvider extends System.Web.Security.RoleProvider" />
  <TypeSignature Language="DocId" Value="T:System.Web.Security.AuthorizationStoreRoleProvider" />
  <TypeSignature Language="VB.NET" Value="Public Class AuthorizationStoreRoleProvider&#xA;Inherits RoleProvider" />
  <TypeSignature Language="C++ CLI" Value="public ref class AuthorizationStoreRoleProvider : System::Web::Security::RoleProvider" />
  <TypeSignature Language="F#" Value="type AuthorizationStoreRoleProvider = class&#xA;    inherit RoleProvider" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Web.Security.RoleProvider</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="6ce56-101">在 XML 文件中、Active Directory 中或 Active Directory 应用程序模式服务器上管理 ASP.NET 应用程序的角色成员资格信息在授权管理器策略存储区中的存储。</span><span class="sxs-lookup"><span data-stu-id="6ce56-101">Manages storage of role-membership information for an ASP.NET application in an authorization-manager policy store, either in an XML file, in an Active Directory, or on an Active Directory Application Mode server.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6ce56-102">此类由 <xref:System.Web.Security.Roles> 和 <xref:System.Web.Security.RolePrincipal> 类用于为使用授权管理器存储的 ASP.NET 应用程序提供角色管理服务。</span><span class="sxs-lookup"><span data-stu-id="6ce56-102">This class is used by the <xref:System.Web.Security.Roles> and <xref:System.Web.Security.RolePrincipal> classes to provide role-management services for an ASP.NET application using an authorization-manager store.</span></span> <span data-ttu-id="6ce56-103">你可以使用角色管理为应用程序指定不同的授权级别。</span><span class="sxs-lookup"><span data-stu-id="6ce56-103">You can use role management to specify different levels of authorization for your application.</span></span> <span data-ttu-id="6ce56-104">可以使用 Microsoft 管理控制台访问授权管理器。</span><span class="sxs-lookup"><span data-stu-id="6ce56-104">The authorization manager can be accessed using the Microsoft Management Console.</span></span>  
  
 <span data-ttu-id="6ce56-105"><xref:System.Web.Security.AuthorizationStoreRoleProvider> 对象同时适用于 Windows 身份验证和窗体身份验证模式。</span><span class="sxs-lookup"><span data-stu-id="6ce56-105">The <xref:System.Web.Security.AuthorizationStoreRoleProvider> object works with both Windows authentication and forms authentication modes.</span></span>  
  
 <span data-ttu-id="6ce56-106">可以将 <xref:System.Web.Security.AuthorizationStoreRoleProvider> 对象配置为使用本地 XML 文件或 Active Directory 或 Active Directory 应用程序模式（ADAM）服务器。</span><span class="sxs-lookup"><span data-stu-id="6ce56-106">You can configure the <xref:System.Web.Security.AuthorizationStoreRoleProvider> object to use either a local XML file or an Active Directory or Active Directory Application Mode (ADAM) server.</span></span> <span data-ttu-id="6ce56-107">使用本地文件时，连接字符串应类似于下面的示例。</span><span class="sxs-lookup"><span data-stu-id="6ce56-107">When using a local file, the connection string should look like the following example.</span></span>  
  
```  
msxml://<path to xml file>  
```  
  
 <span data-ttu-id="6ce56-108">如果本地文件存储在 ASP.NET Web 应用程序的目录树中，则可以使用波形符（"~"）字符来表示根目录。</span><span class="sxs-lookup"><span data-stu-id="6ce56-108">If the local file is stored in the directory tree of an ASP.NET Web application, you can use the tilde ("~") character to indicate the root directory.</span></span> <span data-ttu-id="6ce56-109">例如，若要指示本地文件存储在 Web 应用程序的数据目录中，可以使用类似于以下示例的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-109">For example, to indicate that the local file is stored in the Web application's data directory, you would use a connection string similar to the following example.</span></span>  
  
 `msxml://~\App_Data\datafilename.xml`  
  
> [!IMPORTANT]
>  <span data-ttu-id="6ce56-110">将 XML 数据文件存储在 Web 应用程序目录中是潜在的安全威胁。</span><span class="sxs-lookup"><span data-stu-id="6ce56-110">Storing an XML data file in the Web application directory is a potential security threat.</span></span> <span data-ttu-id="6ce56-111">默认情况下，IIS 将向 Web 提供 XML 数据文件。</span><span class="sxs-lookup"><span data-stu-id="6ce56-111">By default, IIS will serve XML data files to the Web.</span></span> <span data-ttu-id="6ce56-112">若要在 ASP.NET 应用程序中使用本地数据文件时提高安全性，应将数据文件存储在 `App_Data` 目录中。</span><span class="sxs-lookup"><span data-stu-id="6ce56-112">To improve security when using a local data file in an ASP.NET application, you should store the data file in the `App_Data` directory.</span></span> <span data-ttu-id="6ce56-113">存储在 `App_Data` 目录中的文件不会提供给 Web。</span><span class="sxs-lookup"><span data-stu-id="6ce56-113">Files stored in the `App_Data` directory will not be served to the Web.</span></span>  
  
 <span data-ttu-id="6ce56-114">如果对策略存储使用 Active Directory 或 ADAM 服务器，则连接字符串应类似于以下示例。</span><span class="sxs-lookup"><span data-stu-id="6ce56-114">If you are using an Active Directory or ADAM server for the policy store, your connection string should be similar to the following example.</span></span>  
  
 `msldap://myserver/CN=MyAzManStore,OU=MyOU,DC=MyDomain,DC=MyDC,DC=Com`  
  
 <span data-ttu-id="6ce56-115"><xref:System.Web.Security.AuthorizationStoreRoleProvider> 对象方法的文档中列出的异常是由 <xref:System.Web.Security.AuthorizationStoreRoleProvider> 对象引发的异常。</span><span class="sxs-lookup"><span data-stu-id="6ce56-115">The exceptions listed in the documentation for <xref:System.Web.Security.AuthorizationStoreRoleProvider> object methods are the exceptions that are raised by the <xref:System.Web.Security.AuthorizationStoreRoleProvider> object.</span></span> <span data-ttu-id="6ce56-116">由于提供程序依赖于基础身份验证管理器运行时，因此只要 <xref:System.Web.Security.AuthorizationStoreRoleProvider> 对象将方法调用转发到身份验证管理器运行时，就会引发 <xref:System.Runtime.InteropServices.COMException> 异常。</span><span class="sxs-lookup"><span data-stu-id="6ce56-116">Since the provider relies on the underlying Authentication Manager runtime, a <xref:System.Runtime.InteropServices.COMException> exception may be thrown whenever the <xref:System.Web.Security.AuthorizationStoreRoleProvider> object forwards a method call to the Authentication Manager runtime.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="6ce56-117">在部分信任环境中运行时，<xref:System.Web.Security.AuthorizationStoreRoleProvider> 对象具有以下要求：</span><span class="sxs-lookup"><span data-stu-id="6ce56-117">The <xref:System.Web.Security.AuthorizationStoreRoleProvider> object has the following requirements for running in partial-trust environments:</span></span>  
>   
>  <span data-ttu-id="6ce56-118">在 ASP.NET 应用程序中使用基于文件的策略存储时，由当前信任级别授予的文件 i/o 权限决定了提供程序是否允许读取和写入操作。</span><span class="sxs-lookup"><span data-stu-id="6ce56-118">When using a file-based policy store in an ASP.NET application, the file I/O permissions granted by the current trust level determine whether read and write actions are allowed by the provider.</span></span> <span data-ttu-id="6ce56-119">ASP.NET 应用程序必须对文件具有读取权限才能从策略存储区中读取数据，并且必须具有写入权限才能保存新信息或更新策略存储中的现有信息。</span><span class="sxs-lookup"><span data-stu-id="6ce56-119">The ASP.NET application must have read permission on the file to read data from the policy store, and must have write permission to save new information or update existing information in the policy store.</span></span> <span data-ttu-id="6ce56-120">默认的中等信任策略文件在其应用程序目录中提供 ASP.NET 应用程序的读/写权限。</span><span class="sxs-lookup"><span data-stu-id="6ce56-120">The default Medium-trust policy file gives an ASP.NET application read/write permissions in its application directory.</span></span> <span data-ttu-id="6ce56-121">默认的低信任策略文件仅在其应用程序目录中提供 ASP.NET 应用程序 read 权限。</span><span class="sxs-lookup"><span data-stu-id="6ce56-121">The default Low-trust policy file only gives an ASP.NET application read permission in its application directory.</span></span> <span data-ttu-id="6ce56-122">此外，ASP.NET 应用程序运行时所用的进程标识必须具有读取和/或写入策略文件的文件系统权限。</span><span class="sxs-lookup"><span data-stu-id="6ce56-122">In addition, the process identity under which the ASP.NET application runs must have file-system permissions to read and/or write the policy file.</span></span>  
>   
>  <span data-ttu-id="6ce56-123">使用 Active Directory 或 ADAM 服务器时，ASP.NET 应用程序需要非托管代码权限，因为内部 <xref:System.Web.Security.AuthorizationStoreRoleProvider> 对象代码使用 COM 互操作。</span><span class="sxs-lookup"><span data-stu-id="6ce56-123">When using an Active Directory or ADAM server, the ASP.NET application needs unmanaged-code permission because the internal <xref:System.Web.Security.AuthorizationStoreRoleProvider> object code uses COM interop.</span></span>  
>   
>  <span data-ttu-id="6ce56-124">使用 ASP.NET 外部的 <xref:System.Web.Security.AuthorizationStoreRoleProvider> 对象时，调用代码需要非托管代码权限。</span><span class="sxs-lookup"><span data-stu-id="6ce56-124">When using the <xref:System.Web.Security.AuthorizationStoreRoleProvider> object outside of ASP.NET, the calling code needs unmanaged-code permission.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="6ce56-125">下面的代码示例演示了一个设置为使用 <xref:System.Web.Security.AuthorizationStoreRoleProvider> 进行角色管理的 web.config 文件。</span><span class="sxs-lookup"><span data-stu-id="6ce56-125">The following code example shows a Web.config file set to use the <xref:System.Web.Security.AuthorizationStoreRoleProvider> for role management.</span></span>  
  
```  
<configuration>  
  <connectionStrings>  
    <add name="AuthorizationServices" connectionString="msxml://~\App_Data\SampleStore.xml" />  
  </connectionStrings>  
  
  <system.web>  
  
    <authentication mode="Windows" />  
    <identity impersonate="true" />  
  
    <roleManager defaultProvider="AuthorizationStoreRoleProvider"   
      enabled="true"  
      cacheRolesInCookie="true"  
      cookieName=".ASPROLES"  
      cookieTimeout="30"  
      cookiePath="/"  
      cookieRequireSSL="false"  
      cookieSlidingExpiration="true"  
      cookieProtection="All" >  
      <providers>  
        <clear />  
          <add  
            name="AuthorizationStoreRoleProvider"  
            type="System.Web.Security.AuthorizationStoreRoleProvider"  
            connectionStringName="AuthorizationServices"  
            applicationName="SampleApplication"   
            cacheRefreshInterval="60"  
            scopeName="" />  
      </providers>  
    </roleManager>  
  
  </system.web>  
</configuration>  
```  
  
 ]]></format>
    </remarks>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-126">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-126">Understanding ASP.NET Role Management</span></span></related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public AuthorizationStoreRoleProvider ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.AuthorizationStoreRoleProvider.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; AuthorizationStoreRoleProvider();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="6ce56-127">初始化 <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="6ce56-127">Initializes a new instance of the <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6ce56-128"><xref:System.Web.Security.AuthorizationStoreRoleProvider.%23ctor%2A> 构造函数由 ASP.NET 调用，以创建在应用程序的配置中指定的 <xref:System.Web.Security.AuthorizationStoreRoleProvider> 类的实例。</span><span class="sxs-lookup"><span data-stu-id="6ce56-128">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.%23ctor%2A> constructor is called by ASP.NET to create an instance of the <xref:System.Web.Security.AuthorizationStoreRoleProvider> class as specified in the configuration for the application.</span></span> <span data-ttu-id="6ce56-129">不应在代码中使用此构造函数。</span><span class="sxs-lookup"><span data-stu-id="6ce56-129">This constructor is not intended to be used from your code.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-130">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-130">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="AddUsersToRoles">
      <MemberSignature Language="C#" Value="public override void AddUsersToRoles (string[] usernames, string[] roleNames);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void AddUsersToRoles(string[] usernames, string[] roleNames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.AuthorizationStoreRoleProvider.AddUsersToRoles(System.String[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub AddUsersToRoles (usernames As String(), roleNames As String())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void AddUsersToRoles(cli::array &lt;System::String ^&gt; ^ usernames, cli::array &lt;System::String ^&gt; ^ roleNames);" />
      <MemberSignature Language="F#" Value="override this.AddUsersToRoles : string[] * string[] -&gt; unit" Usage="authorizationStoreRoleProvider.AddUsersToRoles (usernames, roleNames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="usernames" Type="System.String[]" />
        <Parameter Name="roleNames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="usernames"><span data-ttu-id="6ce56-131">要添加到指定的角色的用户名的字符串数组。</span><span class="sxs-lookup"><span data-stu-id="6ce56-131">A string array of user names to be added to the specified roles.</span></span></param>
        <param name="roleNames"><span data-ttu-id="6ce56-132">一个字符串数组，其中包含要将指定用户名添加到的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="6ce56-132">A string array of role names to add the specified user names to.</span></span></param>
        <summary><span data-ttu-id="6ce56-133">将指定用户名添加到每个指定的角色。</span><span class="sxs-lookup"><span data-stu-id="6ce56-133">Adds the specified user names to each of the specified roles.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6ce56-134"><xref:System.Web.Security.Roles> 类调用 <xref:System.Web.Security.AuthorizationStoreRoleProvider.AddUsersToRoles%2A> 方法，以便将一个或多个用户与 ASP.NET 应用程序的配置文件（web.config）中指定的授权管理器数据存储区中的一个或多个角色相关联。</span><span class="sxs-lookup"><span data-stu-id="6ce56-134">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.AddUsersToRoles%2A> method is called by the <xref:System.Web.Security.Roles> class to associate one or more users with one or more roles in the authorization-manager data store specified in the ASP.NET application's configuration file (Web.config).</span></span> <span data-ttu-id="6ce56-135">此方法由 <xref:System.Web.Security.Roles> 类的 <xref:System.Web.Security.Roles.AddUserToRole%2A?displayProperty=nameWithType>、<xref:System.Web.Security.Roles.AddUserToRoles%2A?displayProperty=nameWithType>、<xref:System.Web.Security.Roles.AddUsersToRole%2A?displayProperty=nameWithType>和 <xref:System.Web.Security.Roles.AddUsersToRoles%2A?displayProperty=nameWithType> 方法调用。</span><span class="sxs-lookup"><span data-stu-id="6ce56-135">This method is called by the <xref:System.Web.Security.Roles.AddUserToRole%2A?displayProperty=nameWithType>, <xref:System.Web.Security.Roles.AddUserToRoles%2A?displayProperty=nameWithType>, <xref:System.Web.Security.Roles.AddUsersToRole%2A?displayProperty=nameWithType>, and <xref:System.Web.Security.Roles.AddUsersToRoles%2A?displayProperty=nameWithType> methods of the <xref:System.Web.Security.Roles> class.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="6ce56-136">下面的代码示例将一个或多个用户添加到角色或从角色中删除用户。</span><span class="sxs-lookup"><span data-stu-id="6ce56-136">The following code example adds one or more users to a role or removes a user from a role.</span></span> <span data-ttu-id="6ce56-137">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.AuthorizationStoreRoleProvider>。</span><span class="sxs-lookup"><span data-stu-id="6ce56-137">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.AuthorizationStoreRoleProvider>.</span></span>  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/adduserstorolecs.aspx#3)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/adduserstorolevb.aspx#3)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6ce56-138">指定的用户名之一为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-138">One of the specified user names is <see langword="null" />.</span></span>  
  
<span data-ttu-id="6ce56-139">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-139">-or-</span></span> 
<span data-ttu-id="6ce56-140">指定的角色名之一为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-140">One of the specified role names is <see langword="null" />.</span></span>  
  
<span data-ttu-id="6ce56-141">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-141">-or-</span></span> 
 <span data-ttu-id="6ce56-142"><paramref name="usernames" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-142"><paramref name="usernames" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="6ce56-143">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-143">-or-</span></span> 
 <span data-ttu-id="6ce56-144"><paramref name="roleNames" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-144"><paramref name="roleNames" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6ce56-145">指定的用户名之一为空字符串或是包含一个逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="6ce56-145">One of the specified user names is an empty string or contains a comma (,).</span></span>  
  
<span data-ttu-id="6ce56-146">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-146">-or-</span></span> 
<span data-ttu-id="6ce56-147">指定的角色名之一为空字符串或是包含一个逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="6ce56-147">One of the specified role names is an empty string or contains a comma (,).</span></span>  
  
<span data-ttu-id="6ce56-148">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-148">-or-</span></span> 
 <span data-ttu-id="6ce56-149"><paramref name="usernames" /> 包含重复的元素。</span><span class="sxs-lookup"><span data-stu-id="6ce56-149"><paramref name="usernames" /> contains a duplicate element.</span></span>  
  
<span data-ttu-id="6ce56-150">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-150">-or-</span></span> 
 <span data-ttu-id="6ce56-151"><paramref name="roleNames" /> 包含重复的元素。</span><span class="sxs-lookup"><span data-stu-id="6ce56-151"><paramref name="roleNames" /> contains a duplicate element.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="6ce56-152">未找到已配置的 <see langword="applicationName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-152">The configured <see langword="applicationName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-153">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-153">-or-</span></span> 
<span data-ttu-id="6ce56-154">未找到已配置的 <see langword="scopeName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-154">The configured <see langword="scopeName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-155">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-155">-or-</span></span> 
<span data-ttu-id="6ce56-156">服务器上没有安装身份验证管理器运行时。</span><span class="sxs-lookup"><span data-stu-id="6ce56-156">The authorization-manager runtime is not installed on the server.</span></span></exception>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="6ce56-157"><see langword="connectionStringName" /> 特性引用了一个指向不存在的文件的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-157">The <see langword="connectionStringName" /> attribute references a connection string to a file that does not exist.</span></span></exception>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="6ce56-158"><see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> 实例使用基于文件的策略存储进行配置，且当前的信任级别不允许对文件进行读访问。</span><span class="sxs-lookup"><span data-stu-id="6ce56-158">The <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> instance is configured with a file-based policy store, and read access to the file is not allowed at the current trust level.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-159">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-159">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ApplicationName">
      <MemberSignature Language="C#" Value="public override string ApplicationName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string ApplicationName" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Property ApplicationName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property System::String ^ ApplicationName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ApplicationName : string with get, set" Usage="System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6ce56-160">获取或设置要存储和检索其角色信息的授权存储应用程序的名称。</span><span class="sxs-lookup"><span data-stu-id="6ce56-160">Gets or sets the name of the authorization store application for which to store and retrieve role information.</span></span></summary>
        <value><span data-ttu-id="6ce56-161">要存储和检索其角色信息的授权存储应用程序的名称。</span><span class="sxs-lookup"><span data-stu-id="6ce56-161">The name of the authorization store application for which to store and retrieve role information.</span></span> <span data-ttu-id="6ce56-162">默认值为当前 <see cref="P:System.Web.HttpRequest.ApplicationPath" /> 的 <see cref="P:System.Web.HttpContext.Request" /> 属性值。</span><span class="sxs-lookup"><span data-stu-id="6ce56-162">The default is the <see cref="P:System.Web.HttpRequest.ApplicationPath" /> property value for the current <see cref="P:System.Web.HttpContext.Request" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6ce56-163"><xref:System.Web.Security.AuthorizationStoreRoleProvider> 使用 <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> 将用户和角色与不同的授权管理器应用程序相关联，这使得多个 ASP.NET 应用程序可以使用相同的授权管理器策略存储区来存储角色信息，而不会在重复的角色名称之间发生冲突。</span><span class="sxs-lookup"><span data-stu-id="6ce56-163">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> is used by the <xref:System.Web.Security.AuthorizationStoreRoleProvider> to associate users and roles with different authorization-manager applications, which enables multiple ASP.NET applications to use the same authorization-manager policy store to store role information without running into conflicts between duplicate role names.</span></span> <span data-ttu-id="6ce56-164">另外，多个 ASP.NET 应用程序可以通过在 <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> 属性中指定相同的值，来使用相同的策略存储。</span><span class="sxs-lookup"><span data-stu-id="6ce56-164">Alternatively, multiple ASP.NET applications can use the same policy store by specifying the same value in the <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> property.</span></span> <span data-ttu-id="6ce56-165">可以通过编程方式设置 <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> 属性，也可以通过使用 `applicationName` 特性在应用程序的 web.config 文件中以声明方式设置该属性。</span><span class="sxs-lookup"><span data-stu-id="6ce56-165">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> property can be set programmatically, or it can be set declaratively in the application's Web.config file by using the `applicationName` attribute.</span></span>  
  
 <span data-ttu-id="6ce56-166">如果没有为 Web.config 文件中的 `applicationName` 属性指定值，则使用当前 <xref:System.Web.HttpContext.Request%2A?displayProperty=nameWithType> 对象的 <xref:System.Web.HttpRequest.ApplicationPath%2A?displayProperty=nameWithType> 属性值。</span><span class="sxs-lookup"><span data-stu-id="6ce56-166">If a value is not specified for the `applicationName` attribute in the Web.config file, then the <xref:System.Web.HttpRequest.ApplicationPath%2A?displayProperty=nameWithType> property value for the current <xref:System.Web.HttpContext.Request%2A?displayProperty=nameWithType> object is used.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="6ce56-167">授权管理器应用程序名称不能包含 <xref:System.Web.HttpRequest.ApplicationPath%2A?displayProperty=nameWithType> 属性中包含的 "/" 字符。</span><span class="sxs-lookup"><span data-stu-id="6ce56-167">Authorization-manager application names cannot contain the "/" character that is included in the <xref:System.Web.HttpRequest.ApplicationPath%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="6ce56-168">因此，<xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> 属性的默认值不能用作授权管理器应用程序名称，并且在应用程序的 Web.config 文件中，必须始终在 `provider` 元素中指定 `applicationName` 属性以配置您的 <xref:System.Web.Security.AuthorizationStoreRoleProvider> 实例。</span><span class="sxs-lookup"><span data-stu-id="6ce56-168">As a result, the default value for the <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> property cannot be used as an authorization-manager application name, and in the application's Web.config file, you must always specify an `applicationName` attribute in the `provider` element to configure your <xref:System.Web.Security.AuthorizationStoreRoleProvider> instance.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="6ce56-169">由于单个默认角色提供程序实例用于 <xref:System.Web.HttpApplication> 对象提供的所有请求，因此可以同时执行多个请求，并尝试设置 <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> 属性值。</span><span class="sxs-lookup"><span data-stu-id="6ce56-169">Because a single default role provider instance is used for all of the requests served by an <xref:System.Web.HttpApplication> object, you can have multiple requests executing concurrently and attempting to set the <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> property value.</span></span> <span data-ttu-id="6ce56-170"><xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> 属性对于多个写入不是线程安全的，当存在多个应用程序用户时，更改 <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> 属性值可能会导致意外的行为。</span><span class="sxs-lookup"><span data-stu-id="6ce56-170">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> property is not thread safe for multiple writes, and changing the <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> property value can result in unexpected behavior when there are multiple users of an application.</span></span> <span data-ttu-id="6ce56-171">建议你避免编写允许用户设置 <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> 属性的代码，除非你必须这样做。</span><span class="sxs-lookup"><span data-stu-id="6ce56-171">We recommend that you avoid writing code that allows users to set the <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> property unless you must.</span></span> <span data-ttu-id="6ce56-172">可能需要设置 <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> 属性的应用程序的一个示例是管理多个应用程序的角色数据的管理应用程序。</span><span class="sxs-lookup"><span data-stu-id="6ce56-172">An example of an application where setting the <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> property may be required is an administrative application that manages role data for multiple applications.</span></span> <span data-ttu-id="6ce56-173">此类应用程序应为单用户应用程序，而不是 Web 应用程序。</span><span class="sxs-lookup"><span data-stu-id="6ce56-173">Such an application should be a single-user application and not a Web application.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="6ce56-174">下面的示例演示 ASP.NET 应用程序的 web.config 文件的 `system.web` 部分中的元素。</span><span class="sxs-lookup"><span data-stu-id="6ce56-174">The following example shows the  element in the `system.web` section of the Web.config file for an ASP.NET application.</span></span> <span data-ttu-id="6ce56-175">它指定应用程序的 <xref:System.Web.Security.AuthorizationStoreRoleProvider> 实例，并将 <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> 属性设置为 `MyApplication`。</span><span class="sxs-lookup"><span data-stu-id="6ce56-175">It specifies the application's <xref:System.Web.Security.AuthorizationStoreRoleProvider> instance and sets the <xref:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName%2A> property to `MyApplication`.</span></span>  
  
```  
<roleManager defaultProvider="AuthorizationStoreProvider"   
  enabled="true"  
  cacheRolesInCookie="true"  
  cookieName=".ASPROLES"  
  cookieTimeout="30"  
  cookiePath="/"  
  cookieRequireSSL="false"  
  cookieSlidingExpiration="true"  
  cookieProtection="All" >  
  <providers>  
    <add  
      name="SqlProvider"  
      type="System.Web.Security.AuthorizationStoreRoleProvider"  
      connectionStringName="AuthorizationStoreServices"   
      scopeName="MyScope"  
      applicationName="MyApplication" />  
  </providers>  
</roleManager>  
```  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="6ce56-176">尝试将 <see cref="P:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName" /> 设置为长于 256 个字符的字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-176">An attempt was made to set the <see cref="P:System.Web.Security.AuthorizationStoreRoleProvider.ApplicationName" /> to a string that is longer than 256 characters.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-177">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-177">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CacheRefreshInterval">
      <MemberSignature Language="C#" Value="public int CacheRefreshInterval { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance int32 CacheRefreshInterval" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.AuthorizationStoreRoleProvider.CacheRefreshInterval" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property CacheRefreshInterval As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property int CacheRefreshInterval { int get(); };" />
      <MemberSignature Language="F#" Value="member this.CacheRefreshInterval : int" Usage="System.Web.Security.AuthorizationStoreRoleProvider.CacheRefreshInterval" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6ce56-178">获取策略存储数据区的缓存刷新间隔时间（分钟数）。</span><span class="sxs-lookup"><span data-stu-id="6ce56-178">Gets the number of minutes between refreshes of the cache of the policy-store data.</span></span></summary>
        <value><span data-ttu-id="6ce56-179">缓存的策略存储区数据的刷新间隔时间（分钟数）。</span><span class="sxs-lookup"><span data-stu-id="6ce56-179">The number of minutes between refreshes of cached policy-store data.</span></span> <span data-ttu-id="6ce56-180">默认值为 60。</span><span class="sxs-lookup"><span data-stu-id="6ce56-180">The default is 60.</span></span></value>
        <remarks>To be added.</remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-181">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-181">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CreateRole">
      <MemberSignature Language="C#" Value="public override void CreateRole (string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void CreateRole(string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.AuthorizationStoreRoleProvider.CreateRole(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub CreateRole (roleName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void CreateRole(System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="override this.CreateRole : string -&gt; unit" Usage="authorizationStoreRoleProvider.CreateRole roleName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName"><span data-ttu-id="6ce56-182">要创建的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="6ce56-182">The name of the role to create.</span></span></param>
        <summary><span data-ttu-id="6ce56-183">将一个新角色添加到角色授权管理器策略存储区。</span><span class="sxs-lookup"><span data-stu-id="6ce56-183">Adds a new role to the role authorization-manager policy store.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6ce56-184"><xref:System.Web.Security.Roles> 类调用 <xref:System.Web.Security.AuthorizationStoreRoleProvider.CreateRole%2A> 方法，在 ASP.NET 应用程序的配置文件（web.config）中指定的授权管理器数据存储区中创建角色。</span><span class="sxs-lookup"><span data-stu-id="6ce56-184">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.CreateRole%2A> method is called by the <xref:System.Web.Security.Roles> class to create a role in the authorization-manager data store specified in the ASP.NET application's configuration file (Web.config).</span></span>  
  
 <span data-ttu-id="6ce56-185">角色名称不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="6ce56-185">Role names are not case sensitive.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="6ce56-186">下面的代码示例在授权管理器策略存储区中创建一个新角色。</span><span class="sxs-lookup"><span data-stu-id="6ce56-186">The following code example creates a new role in the authorization-manager policy store.</span></span> <span data-ttu-id="6ce56-187">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.AuthorizationStoreRoleProvider>。</span><span class="sxs-lookup"><span data-stu-id="6ce56-187">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.AuthorizationStoreRoleProvider>.</span></span>  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/createrolecs.aspx#1)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/createrolevb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6ce56-188"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-188"><paramref name="roleName" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6ce56-189"><paramref name="roleName" /> 是一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-189"><paramref name="roleName" /> is an empty string.</span></span>  
  
<span data-ttu-id="6ce56-190">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-190">-or-</span></span> 
 <span data-ttu-id="6ce56-191"><paramref name="roleName" /> 包含一个逗号。</span><span class="sxs-lookup"><span data-stu-id="6ce56-191"><paramref name="roleName" /> contains a comma.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="6ce56-192">未找到已配置的 <see langword="applicationName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-192">The configured <see langword="applicationName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-193">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-193">-or-</span></span> 
<span data-ttu-id="6ce56-194">未找到已配置的 <see langword="scopeName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-194">The configured <see langword="scopeName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-195">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-195">-or-</span></span> 
<span data-ttu-id="6ce56-196">服务器上没有安装身份验证管理器运行时。</span><span class="sxs-lookup"><span data-stu-id="6ce56-196">The authorization-manager runtime is not installed on the server.</span></span></exception>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="6ce56-197"><see langword="connectionStringName" /> 特性引用了一个指向不存在的文件的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-197">The <see langword="connectionStringName" /> attribute references a connection string to a file that does not exist.</span></span></exception>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="6ce56-198"><see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> 实例使用基于文件的策略存储进行配置，且当前的信任级别不允许对文件进行读访问。</span><span class="sxs-lookup"><span data-stu-id="6ce56-198">The <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> instance is configured with a file-based policy store, and read access to the file is not allowed at the current trust level.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-199">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-199">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="DeleteRole">
      <MemberSignature Language="C#" Value="public override bool DeleteRole (string roleName, bool throwOnPopulatedRole);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance bool DeleteRole(string roleName, bool throwOnPopulatedRole) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.AuthorizationStoreRoleProvider.DeleteRole(System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function DeleteRole (roleName As String, throwOnPopulatedRole As Boolean) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override bool DeleteRole(System::String ^ roleName, bool throwOnPopulatedRole);" />
      <MemberSignature Language="F#" Value="override this.DeleteRole : string * bool -&gt; bool" Usage="authorizationStoreRoleProvider.DeleteRole (roleName, throwOnPopulatedRole)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
        <Parameter Name="throwOnPopulatedRole" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="roleName"><span data-ttu-id="6ce56-200">要删除的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="6ce56-200">The name of the role to delete.</span></span></param>
        <param name="throwOnPopulatedRole"><span data-ttu-id="6ce56-201">如果为 <see langword="true" />，则当 <paramref name="roleName" /> 包含一个或多个成员时将引发异常。</span><span class="sxs-lookup"><span data-stu-id="6ce56-201">If <see langword="true" />, throws an exception if <paramref name="roleName" /> has one or more members.</span></span></param>
        <summary><span data-ttu-id="6ce56-202">从授权管理器策略存储区中移除角色。</span><span class="sxs-lookup"><span data-stu-id="6ce56-202">Removes a role from the authorization-manager policy store.</span></span></summary>
        <returns><span data-ttu-id="6ce56-203">如果角色已删除，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-203"><see langword="true" /> if the role was deleted; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6ce56-204"><xref:System.Web.Security.Roles> 类调用 <xref:System.Web.Security.AuthorizationStoreRoleProvider.DeleteRole%2A> 方法，以便从 ASP.NET 应用程序的配置文件（web.config）中指定的授权管理器策略存储区中删除角色。</span><span class="sxs-lookup"><span data-stu-id="6ce56-204">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.DeleteRole%2A> method is called by the <xref:System.Web.Security.Roles> class to delete a role from the authorization-manager policy store specified in the ASP.NET application's configuration file (Web.config).</span></span> <span data-ttu-id="6ce56-205">删除角色时，也会从策略存储中删除与该角色关联的用户的列表。</span><span class="sxs-lookup"><span data-stu-id="6ce56-205">When a role is deleted, the list of users associated with that role is also deleted from the policy store.</span></span> <span data-ttu-id="6ce56-206">数据库中的用户信息不受影响。</span><span class="sxs-lookup"><span data-stu-id="6ce56-206">The user information in the database is not affected.</span></span>  
  
 <span data-ttu-id="6ce56-207">如果 `true``throwOnPopulatedRole`，则将引发异常，并且如果 `roleName` 参数标识的角色具有一个或多个成员，则不会删除该角色。</span><span class="sxs-lookup"><span data-stu-id="6ce56-207">If `throwOnPopulatedRole` is `true`, then an exception will be thrown and the role will not be deleted if the role identified by the `roleName` parameter has one or more members.</span></span> <span data-ttu-id="6ce56-208">如果 `false``throwOnPopulatedRole`，则无论角色是否为空，都将被删除。</span><span class="sxs-lookup"><span data-stu-id="6ce56-208">If `throwOnPopulatedRole` is `false`, then the role will be deleted whether it is empty or not.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="6ce56-209">下面的示例从授权管理器策略存储区中删除角色。</span><span class="sxs-lookup"><span data-stu-id="6ce56-209">The following example deletes a role from the authorization-manager policy store.</span></span> <span data-ttu-id="6ce56-210">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.AuthorizationStoreRoleProvider>。</span><span class="sxs-lookup"><span data-stu-id="6ce56-210">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.AuthorizationStoreRoleProvider>.</span></span>  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#2](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/deleterolecs.aspx#2)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/deleterolevb.aspx#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6ce56-211"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-211"><paramref name="roleName" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6ce56-212"><paramref name="roleName" /> 是一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-212"><paramref name="roleName" /> is an empty string.</span></span>  
  
<span data-ttu-id="6ce56-213">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-213">-or-</span></span> 
 <span data-ttu-id="6ce56-214"><paramref name="roleName" /> 包含一个逗号。</span><span class="sxs-lookup"><span data-stu-id="6ce56-214"><paramref name="roleName" /> contains a comma.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="6ce56-215"><paramref name="roleName" /> 具有一个或多个成员且 <paramref name="throwOnPopulatedRole" /> 为 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-215"><paramref name="roleName" /> has one or more members and <paramref name="throwOnPopulatedRole" /> is <see langword="true" />.</span></span>  
  
<span data-ttu-id="6ce56-216">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-216">-or-</span></span> 
<span data-ttu-id="6ce56-217">未找到已配置的 <see langword="applicationName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-217">The configured <see langword="applicationName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-218">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-218">-or-</span></span> 
<span data-ttu-id="6ce56-219">未找到已配置的 <see langword="scopeName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-219">The configured <see langword="scopeName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-220">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-220">-or-</span></span> 
<span data-ttu-id="6ce56-221">服务器上没有安装身份验证管理器运行时。</span><span class="sxs-lookup"><span data-stu-id="6ce56-221">The authorization-manager runtime is not installed on the server.</span></span></exception>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="6ce56-222"><see langword="connectionStringName" /> 特性引用了一个指向不存在的文件的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-222">The <see langword="connectionStringName" /> attribute references a connection string to a file that does not exist.</span></span></exception>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="6ce56-223"><see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> 实例使用基于文件的策略存储进行配置，且当前的信任级别不允许对文件进行读访问。</span><span class="sxs-lookup"><span data-stu-id="6ce56-223">The <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> instance is configured with a file-based policy store, and read access to the file is not allowed at the current trust level.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-224">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-224">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="FindUsersInRole">
      <MemberSignature Language="C#" Value="public override string[] FindUsersInRole (string roleName, string usernameToMatch);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance string[] FindUsersInRole(string roleName, string usernameToMatch) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.AuthorizationStoreRoleProvider.FindUsersInRole(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function FindUsersInRole (roleName As String, usernameToMatch As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override cli::array &lt;System::String ^&gt; ^ FindUsersInRole(System::String ^ roleName, System::String ^ usernameToMatch);" />
      <MemberSignature Language="F#" Value="override this.FindUsersInRole : string * string -&gt; string[]" Usage="authorizationStoreRoleProvider.FindUsersInRole (roleName, usernameToMatch)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
        <Parameter Name="usernameToMatch" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName"><span data-ttu-id="6ce56-225">作为搜索范围的角色。</span><span class="sxs-lookup"><span data-stu-id="6ce56-225">The role to search in.</span></span></param>
        <param name="usernameToMatch"><span data-ttu-id="6ce56-226">要搜索的用户名。</span><span class="sxs-lookup"><span data-stu-id="6ce56-226">The user name to search for.</span></span></param>
        <summary><span data-ttu-id="6ce56-227">授权存储区角色提供程序不支持此方法。</span><span class="sxs-lookup"><span data-stu-id="6ce56-227">This method is not supported by the authorization store role provider.</span></span></summary>
        <returns><span data-ttu-id="6ce56-228">一个字符串数组，包含用户名与 <paramref name="usernameToMatch" /> 匹配且是指定角色的成员的所有用户的名称。</span><span class="sxs-lookup"><span data-stu-id="6ce56-228">A string array containing the names of all the users whose user name matches <paramref name="usernameToMatch" /> and who are members of the specified role.</span></span></returns>
        <remarks>To be added.</remarks>
        <exception cref="T:System.NotImplementedException"><span data-ttu-id="6ce56-229">调用了不受支持的方法。</span><span class="sxs-lookup"><span data-stu-id="6ce56-229">An unsupported method was called.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-230">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-230">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetAllRoles">
      <MemberSignature Language="C#" Value="public override string[] GetAllRoles ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance string[] GetAllRoles() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.AuthorizationStoreRoleProvider.GetAllRoles" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function GetAllRoles () As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override cli::array &lt;System::String ^&gt; ^ GetAllRoles();" />
      <MemberSignature Language="F#" Value="override this.GetAllRoles : unit -&gt; string[]" Usage="authorizationStoreRoleProvider.GetAllRoles " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="6ce56-231">获取应用程序的所有角色的列表。</span><span class="sxs-lookup"><span data-stu-id="6ce56-231">Gets a list of all the roles for the application.</span></span></summary>
        <returns><span data-ttu-id="6ce56-232">一个字符串数组，包含在特定应用程序的授权管理器策略存储区中存储的所有角色的名称。</span><span class="sxs-lookup"><span data-stu-id="6ce56-232">A string array containing the names of all the roles stored in the authorization-manager policy store for a particular application.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6ce56-233"><xref:System.Web.Security.Roles> 类调用 <xref:System.Web.Security.AuthorizationStoreRoleProvider.GetAllRoles%2A> 方法来检索 ASP.NET 应用程序的配置文件（web.config）中指定的授权管理器策略存储区中的所有角色的列表。</span><span class="sxs-lookup"><span data-stu-id="6ce56-233">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.GetAllRoles%2A> method is called by the <xref:System.Web.Security.Roles> class to retrieve a list of all the roles in the authorization-manager policy store specified in the ASP.NET application's configuration file (Web.config).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="6ce56-234">下面的代码示例使用 <xref:System.Web.Security.Roles.GetAllRoles%2A> 方法获取应用程序的角色列表，并将结果绑定到 <xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType> 控件。</span><span class="sxs-lookup"><span data-stu-id="6ce56-234">The following code example uses the <xref:System.Web.Security.Roles.GetAllRoles%2A> method to get the list of roles for an application and bind the results to a <xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType> control.</span></span> <span data-ttu-id="6ce56-235">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.AuthorizationStoreRoleProvider>。</span><span class="sxs-lookup"><span data-stu-id="6ce56-235">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.AuthorizationStoreRoleProvider>.</span></span>  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/createrolecs.aspx#1)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/createrolevb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="6ce56-236">未找到已配置的 <see langword="applicationName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-236">The configured <see langword="applicationName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-237">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-237">-or-</span></span> 
<span data-ttu-id="6ce56-238">未找到已配置的 <see langword="scopeName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-238">The configured <see langword="scopeName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-239">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-239">-or-</span></span> 
<span data-ttu-id="6ce56-240">服务器上没有安装身份验证管理器运行时。</span><span class="sxs-lookup"><span data-stu-id="6ce56-240">The authorization-manager runtime is not installed on the server.</span></span></exception>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="6ce56-241"><see langword="connectionStringName" /> 特性引用了一个指向不存在的文件的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-241">The <see langword="connectionStringName" /> attribute references a connection string to a file that does not exist.</span></span></exception>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="6ce56-242"><see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> 实例使用基于文件的策略存储进行配置，且当前的信任级别不允许对文件进行读访问。</span><span class="sxs-lookup"><span data-stu-id="6ce56-242">The <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> instance is configured with a file-based policy store, and read access to the file is not allowed at the current trust level.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-243">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-243">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetRolesForUser">
      <MemberSignature Language="C#" Value="public override string[] GetRolesForUser (string username);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance string[] GetRolesForUser(string username) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.AuthorizationStoreRoleProvider.GetRolesForUser(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function GetRolesForUser (username As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override cli::array &lt;System::String ^&gt; ^ GetRolesForUser(System::String ^ username);" />
      <MemberSignature Language="F#" Value="override this.GetRolesForUser : string -&gt; string[]" Usage="authorizationStoreRoleProvider.GetRolesForUser username" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="username" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="username"><span data-ttu-id="6ce56-244">要为其返回角色列表的用户。</span><span class="sxs-lookup"><span data-stu-id="6ce56-244">The user to return a list of roles for.</span></span></param>
        <summary><span data-ttu-id="6ce56-245">获取一个用户所属角色的列表。</span><span class="sxs-lookup"><span data-stu-id="6ce56-245">Gets a list of the roles that a user is in.</span></span></summary>
        <returns><span data-ttu-id="6ce56-246">一个字符串数组，其中包含指定用户所属的所有角色的名称。</span><span class="sxs-lookup"><span data-stu-id="6ce56-246">A string array containing the names of all the roles that the specified user is in.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6ce56-247"><xref:System.Web.Security.Roles> 类调用 <xref:System.Web.Security.AuthorizationStoreRoleProvider.GetRolesForUser%2A> 方法，以便从 ASP.NET 应用程序的配置文件（web.config）中指定的授权管理器策略存储中检索指定用户的角色的列表。</span><span class="sxs-lookup"><span data-stu-id="6ce56-247">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.GetRolesForUser%2A> method is called by the <xref:System.Web.Security.Roles> class to retrieve a list of a specified user's roles from the authorization-manager policy store specified in the ASP.NET application's configuration file (Web.config).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="6ce56-248">下面的代码示例使用 <xref:System.Web.Security.Roles.GetRolesForUser%2A> 方法检索指定用户的角色列表，并将其绑定到 <xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType> 控件。</span><span class="sxs-lookup"><span data-stu-id="6ce56-248">The following code example uses the <xref:System.Web.Security.Roles.GetRolesForUser%2A> method to retrieve a list of roles for a specified user and binds them to a <xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType> control.</span></span> <span data-ttu-id="6ce56-249">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.AuthorizationStoreRoleProvider>。</span><span class="sxs-lookup"><span data-stu-id="6ce56-249">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.AuthorizationStoreRoleProvider>.</span></span>  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#4](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/ViewRolescs.aspx#4)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#4](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/ViewRolesvb.aspx#4)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6ce56-250"><paramref name="username" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-250"><paramref name="username" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6ce56-251"><paramref name="username" /> 包含一个逗号。</span><span class="sxs-lookup"><span data-stu-id="6ce56-251"><paramref name="username" /> contains a comma.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="6ce56-252">未找到已配置的 <see langword="applicationName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-252">The configured <see langword="applicationName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-253">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-253">-or-</span></span> 
<span data-ttu-id="6ce56-254">未找到已配置的 <see langword="scopeName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-254">The configured <see langword="scopeName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-255">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-255">-or-</span></span> 
<span data-ttu-id="6ce56-256">服务器上没有安装身份验证管理器运行时。</span><span class="sxs-lookup"><span data-stu-id="6ce56-256">The authorization-manager runtime is not installed on the server.</span></span></exception>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="6ce56-257"><see langword="connectionStringName" /> 特性引用了一个指向不存在的文件的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-257">The <see langword="connectionStringName" /> attribute references a connection string to a file that does not exist.</span></span></exception>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="6ce56-258"><see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> 实例使用基于文件的策略存储进行配置，且当前的信任级别不允许对文件进行读访问。</span><span class="sxs-lookup"><span data-stu-id="6ce56-258">The <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> instance is configured with a file-based policy store, and read access to the file is not allowed at the current trust level.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-259">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-259">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetUsersInRole">
      <MemberSignature Language="C#" Value="public override string[] GetUsersInRole (string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance string[] GetUsersInRole(string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.AuthorizationStoreRoleProvider.GetUsersInRole(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function GetUsersInRole (roleName As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override cli::array &lt;System::String ^&gt; ^ GetUsersInRole(System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="override this.GetUsersInRole : string -&gt; string[]" Usage="authorizationStoreRoleProvider.GetUsersInRole roleName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName"><span data-ttu-id="6ce56-260">要获取其用户列表的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="6ce56-260">The name of the role to get the list of users for.</span></span></param>
        <summary><span data-ttu-id="6ce56-261">获取属于指定角色的用户的列表。</span><span class="sxs-lookup"><span data-stu-id="6ce56-261">Gets a list of users in the specified role.</span></span></summary>
        <returns><span data-ttu-id="6ce56-262">一个字符串数组，其中包含指定角色拥有的所有成员的用户名。</span><span class="sxs-lookup"><span data-stu-id="6ce56-262">A string array containing the names of all the users who are members of the specified role.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6ce56-263"><xref:System.Web.Security.Roles> 类调用 <xref:System.Web.Security.AuthorizationStoreRoleProvider.GetUsersInRole%2A> 方法，以检索与 ASP.NET 应用程序的配置文件（web.config）中指定的授权管理器策略存储区中的指定角色关联的用户列表。</span><span class="sxs-lookup"><span data-stu-id="6ce56-263">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.GetUsersInRole%2A> method is called by the <xref:System.Web.Security.Roles> class to retrieve the list of users associated with the specified role in the authorization-manager policy store specified in the ASP.NET application's configuration file (Web.config).</span></span>  
  
 <span data-ttu-id="6ce56-264"><xref:System.Web.Security.AuthorizationStoreRoleProvider.GetUsersInRole%2A> 方法仅返回直接包含在由 `roleName` 参数指定的授权管理器角色中的用户名。</span><span class="sxs-lookup"><span data-stu-id="6ce56-264">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.GetUsersInRole%2A> method only returns user names that are directly contained in the authorization-manager role specified by the `roleName` parameter.</span></span> <span data-ttu-id="6ce56-265"><xref:System.Web.Security.AuthorizationStoreRoleProvider.GetUsersInRole%2A> 方法调用的基础授权管理器 API 不支持组扩展，因此，不会返回嵌套 NT 组中包含的用户、嵌套的授权管理器组和 LDAP 查询组。</span><span class="sxs-lookup"><span data-stu-id="6ce56-265">The underlying authorization-manager API called by the <xref:System.Web.Security.AuthorizationStoreRoleProvider.GetUsersInRole%2A> method does not support group expansion, so users contained in nested NT groups, nested authorization-manager groups, and LDAP query groups will not be returned.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="6ce56-266">下面的代码示例使用 <xref:System.Web.Security.Roles.GetUsersInRole%2A> 方法获取特定角色中的用户列表，并将结果绑定到 <xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType> 控件。</span><span class="sxs-lookup"><span data-stu-id="6ce56-266">The following code example uses the <xref:System.Web.Security.Roles.GetUsersInRole%2A> method to get a list of the users in a particular role and bind the results to a <xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType> control.</span></span> <span data-ttu-id="6ce56-267">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.AuthorizationStoreRoleProvider>。</span><span class="sxs-lookup"><span data-stu-id="6ce56-267">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.AuthorizationStoreRoleProvider>.</span></span>  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/adduserstorolecs.aspx#3)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/adduserstorolevb.aspx#3)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6ce56-268"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-268"><paramref name="roleName" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6ce56-269"><paramref name="roleName" /> 是一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-269"><paramref name="roleName" /> is an empty string.</span></span>  
  
<span data-ttu-id="6ce56-270">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-270">-or-</span></span> 
 <span data-ttu-id="6ce56-271"><paramref name="roleName" /> 包含一个逗号。</span><span class="sxs-lookup"><span data-stu-id="6ce56-271"><paramref name="roleName" /> contains a comma.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="6ce56-272">未找到已配置的 <see langword="applicationName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-272">The configured <see langword="applicationName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-273">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-273">-or-</span></span> 
<span data-ttu-id="6ce56-274">未找到已配置的 <see langword="scopeName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-274">The configured <see langword="scopeName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-275">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-275">-or-</span></span> 
<span data-ttu-id="6ce56-276">服务器上没有安装身份验证管理器运行时。</span><span class="sxs-lookup"><span data-stu-id="6ce56-276">The authorization-manager runtime is not installed on the server.</span></span></exception>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="6ce56-277"><see langword="connectionStringName" /> 特性引用了一个指向不存在的文件的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-277">The <see langword="connectionStringName" /> attribute references a connection string to a file that does not exist.</span></span></exception>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="6ce56-278"><see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> 实例使用基于文件的策略存储进行配置，且当前的信任级别不允许对文件进行读访问。</span><span class="sxs-lookup"><span data-stu-id="6ce56-278">The <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> instance is configured with a file-based policy store, and read access to the file is not allowed at the current trust level.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-279">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-279">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Initialize">
      <MemberSignature Language="C#" Value="public override void Initialize (string name, System.Collections.Specialized.NameValueCollection config);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void Initialize(string name, class System.Collections.Specialized.NameValueCollection config) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.AuthorizationStoreRoleProvider.Initialize(System.String,System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub Initialize (name As String, config As NameValueCollection)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void Initialize(System::String ^ name, System::Collections::Specialized::NameValueCollection ^ config);" />
      <MemberSignature Language="F#" Value="override this.Initialize : string * System.Collections.Specialized.NameValueCollection -&gt; unit" Usage="authorizationStoreRoleProvider.Initialize (name, config)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="name" Type="System.String" />
        <Parameter Name="config" Type="System.Collections.Specialized.NameValueCollection" />
      </Parameters>
      <Docs>
        <param name="name"><span data-ttu-id="6ce56-280">要初始化的 <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> 实例的名称。</span><span class="sxs-lookup"><span data-stu-id="6ce56-280">The name of the <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> instance to initialize.</span></span></param>
        <param name="config"><span data-ttu-id="6ce56-281">一个 <see cref="T:System.Collections.Specialized.NameValueCollection" />，包含角色提供程序的配置选项的名称和值。</span><span class="sxs-lookup"><span data-stu-id="6ce56-281">A <see cref="T:System.Collections.Specialized.NameValueCollection" /> that contains the names and values of configuration options for the role provider.</span></span></param>
        <summary><span data-ttu-id="6ce56-282">使用 ASP.NET 应用程序的配置文件中指定的属性值初始化授权管理器角色提供程序。</span><span class="sxs-lookup"><span data-stu-id="6ce56-282">Initializes the authorization-manager role provider with the property values specified in the ASP.NET application's configuration file.</span></span> <span data-ttu-id="6ce56-283">此方法不能直接在代码中使用。</span><span class="sxs-lookup"><span data-stu-id="6ce56-283">This method is not intended to be used directly from your code.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6ce56-284"><xref:System.Web.Security.AuthorizationStoreRoleProvider.Initialize%2A> 方法使用 ASP.NET 应用程序配置文件（web.config）中指定的属性值初始化 <xref:System.Web.Security.AuthorizationStoreRoleProvider>，不应在代码中直接使用。</span><span class="sxs-lookup"><span data-stu-id="6ce56-284">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.Initialize%2A> method initializes the <xref:System.Web.Security.AuthorizationStoreRoleProvider> with the property values specified in the ASP.NET application configuration file (Web.config) and is not intended to be used directly from your code.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6ce56-285"><paramref name="config" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-285"><paramref name="config" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="6ce56-286"><see langword="connectionStringName" /> 属性为空或在 [connectionStrings 元素（ASP.NET 设置架构）](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bf7sd233(v=vs.100))配置部分中不存在。</span><span class="sxs-lookup"><span data-stu-id="6ce56-286">The <see langword="connectionStringName" /> attribute is empty or does not exist in the [connectionStrings Element (ASP.NET Settings Schema)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bf7sd233(v=vs.100)) configuration section.</span></span>  
  
<span data-ttu-id="6ce56-287">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-287">-or-</span></span> 
<span data-ttu-id="6ce56-288">配置的 <see langword="applicationName" /> 的长度超过 256 个字符。</span><span class="sxs-lookup"><span data-stu-id="6ce56-288">The configured <see langword="applicationName" /> is longer than 256 characters.</span></span>  
  
<span data-ttu-id="6ce56-289">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-289">-or-</span></span> 
<span data-ttu-id="6ce56-290">此 <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> 实例的配置包含无法识别的特性。</span><span class="sxs-lookup"><span data-stu-id="6ce56-290">The configuration for this <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> instance contains an unrecognized attribute.</span></span></exception>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="6ce56-291">ASP.NET 应用程序未在 <see cref="F:System.Web.AspNetHostingPermissionLevel.Low" /> 信任级别或更高级别下运行。</span><span class="sxs-lookup"><span data-stu-id="6ce56-291">The ASP.NET application is not running at <see cref="F:System.Web.AspNetHostingPermissionLevel.Low" /> trust or higher.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-292">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-292">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="IsUserInRole">
      <MemberSignature Language="C#" Value="public override bool IsUserInRole (string username, string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance bool IsUserInRole(string username, string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.AuthorizationStoreRoleProvider.IsUserInRole(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function IsUserInRole (username As String, roleName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override bool IsUserInRole(System::String ^ username, System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="override this.IsUserInRole : string * string -&gt; bool" Usage="authorizationStoreRoleProvider.IsUserInRole (username, roleName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="username" Type="System.String" />
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="username"><span data-ttu-id="6ce56-293">要搜索的用户名。</span><span class="sxs-lookup"><span data-stu-id="6ce56-293">The user name to search for.</span></span></param>
        <param name="roleName"><span data-ttu-id="6ce56-294">作为搜索范围的角色。</span><span class="sxs-lookup"><span data-stu-id="6ce56-294">The role to search in.</span></span></param>
        <summary><span data-ttu-id="6ce56-295">获取一个指示指定用户是否属于指定角色的值。</span><span class="sxs-lookup"><span data-stu-id="6ce56-295">Gets a value indicating whether the specified user is in the specified role.</span></span></summary>
        <returns><span data-ttu-id="6ce56-296">如果指定的用户名属于指定角色，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-296"><see langword="true" /> if the specified user name is in the specified role; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6ce56-297"><xref:System.Web.Security.Roles> 类和 <xref:System.Web.UI.Page.User%2A?displayProperty=nameWithType> 属性的 <xref:System.Security.Principal.IPrincipal.IsInRole%2A> 方法调用 <xref:System.Web.Security.AuthorizationStoreRoleProvider.IsUserInRole%2A> 方法，以确定用户是否与 ASP.NET 应用程序的配置文件（Web.config）中指定的授权管理器数据存储区中的某个角色关联。</span><span class="sxs-lookup"><span data-stu-id="6ce56-297">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.IsUserInRole%2A> method is called by the <xref:System.Web.Security.Roles> class and the <xref:System.Security.Principal.IPrincipal.IsInRole%2A> method of the <xref:System.Web.UI.Page.User%2A?displayProperty=nameWithType> property to determine whether a user is associated with a role in the authorization-manager data store specified in the ASP.NET application's configuration file (Web.config).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="6ce56-298">下面的代码示例以编程方式进行检查，以查看登录的用户是否属于管理员角色，然后才允许用户查看用户角色。</span><span class="sxs-lookup"><span data-stu-id="6ce56-298">The following code example programmatically checks to see whether the logged-on user is in the Administrators role before allowing the user to view user roles.</span></span> <span data-ttu-id="6ce56-299">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.AuthorizationStoreRoleProvider>。</span><span class="sxs-lookup"><span data-stu-id="6ce56-299">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.AuthorizationStoreRoleProvider>.</span></span>  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#4](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/ViewRolescs.aspx#4)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#4](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/ViewRolesvb.aspx#4)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6ce56-300"><paramref name="username" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-300"><paramref name="username" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="6ce56-301">-or</span><span class="sxs-lookup"><span data-stu-id="6ce56-301">-or</span></span> 
 <span data-ttu-id="6ce56-302"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-302"><paramref name="roleName" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6ce56-303"><paramref name="roleName" /> 是一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-303"><paramref name="roleName" /> is an empty string.</span></span>  
  
<span data-ttu-id="6ce56-304">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-304">-or-</span></span> 
 <span data-ttu-id="6ce56-305"><paramref name="roleName" /> 包含一个逗号。</span><span class="sxs-lookup"><span data-stu-id="6ce56-305"><paramref name="roleName" /> contains a comma.</span></span>  
  
<span data-ttu-id="6ce56-306">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-306">-or-</span></span> 
 <span data-ttu-id="6ce56-307"><paramref name="username" /> 包含一个逗号。</span><span class="sxs-lookup"><span data-stu-id="6ce56-307"><paramref name="username" /> contains a comma.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="6ce56-308">未找到已配置的 <see langword="applicationName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-308">The configured <see langword="applicationName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-309">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-309">-or-</span></span> 
<span data-ttu-id="6ce56-310">未找到已配置的 <see langword="scopeName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-310">The configured <see langword="scopeName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-311">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-311">-or-</span></span> 
<span data-ttu-id="6ce56-312">服务器上没有安装身份验证管理器运行时。</span><span class="sxs-lookup"><span data-stu-id="6ce56-312">The authorization-manager runtime is not installed on the server.</span></span></exception>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="6ce56-313"><see langword="connectionStringName" /> 特性引用了一个指向不存在的文件的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-313">The <see langword="connectionStringName" /> attribute references a connection string to a file that does not exist.</span></span></exception>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="6ce56-314"><see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> 实例使用基于文件的策略存储进行配置，且当前的信任级别不允许对文件进行读访问。</span><span class="sxs-lookup"><span data-stu-id="6ce56-314">The <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> instance is configured with a file-based policy store, and read access to the file is not allowed at the current trust level.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-315">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-315">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="RemoveUsersFromRoles">
      <MemberSignature Language="C#" Value="public override void RemoveUsersFromRoles (string[] userNames, string[] roleNames);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void RemoveUsersFromRoles(string[] userNames, string[] roleNames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.AuthorizationStoreRoleProvider.RemoveUsersFromRoles(System.String[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub RemoveUsersFromRoles (userNames As String(), roleNames As String())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void RemoveUsersFromRoles(cli::array &lt;System::String ^&gt; ^ userNames, cli::array &lt;System::String ^&gt; ^ roleNames);" />
      <MemberSignature Language="F#" Value="override this.RemoveUsersFromRoles : string[] * string[] -&gt; unit" Usage="authorizationStoreRoleProvider.RemoveUsersFromRoles (userNames, roleNames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="userNames" Type="System.String[]" />
        <Parameter Name="roleNames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="userNames"><span data-ttu-id="6ce56-316">一个字符串数组，其中包含要从指定的角色移除的用户名。</span><span class="sxs-lookup"><span data-stu-id="6ce56-316">A string array of user names to be removed from the specified roles.</span></span></param>
        <param name="roleNames"><span data-ttu-id="6ce56-317">一个字符串数组，其中包含要将指定的用户名从中移除的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="6ce56-317">A string array of role names to remove the specified user names from.</span></span></param>
        <summary><span data-ttu-id="6ce56-318">移除指定角色中的指定用户名。</span><span class="sxs-lookup"><span data-stu-id="6ce56-318">Removes the specified user names from the specified roles.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6ce56-319"><xref:System.Web.Security.Roles> 类调用 <xref:System.Web.Security.AuthorizationStoreRoleProvider.RemoveUsersFromRoles%2A> 方法，以便从 ASP.NET 应用程序的配置文件（web.config）中指定的授权管理器策略存储区中的一个或多个角色中删除一个或多个用户。</span><span class="sxs-lookup"><span data-stu-id="6ce56-319">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.RemoveUsersFromRoles%2A> method is called by the <xref:System.Web.Security.Roles> class to remove one or more users from one or more roles in the authorization-manager policy store specified in the ASP.NET application's configuration file (Web.config).</span></span> <span data-ttu-id="6ce56-320">此方法由 <xref:System.Web.Security.Roles> 类的 <xref:System.Web.Security.Roles.RemoveUserFromRole%2A>、<xref:System.Web.Security.Roles.RemoveUserFromRoles%2A>、<xref:System.Web.Security.Roles.RemoveUsersFromRole%2A>和 <xref:System.Web.Security.Roles.RemoveUsersFromRoles%2A> 方法调用。</span><span class="sxs-lookup"><span data-stu-id="6ce56-320">This method is called by the <xref:System.Web.Security.Roles.RemoveUserFromRole%2A>, <xref:System.Web.Security.Roles.RemoveUserFromRoles%2A>, <xref:System.Web.Security.Roles.RemoveUsersFromRole%2A>, and <xref:System.Web.Security.Roles.RemoveUsersFromRoles%2A> methods of the <xref:System.Web.Security.Roles> class.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="6ce56-321">下面的代码示例将一个或多个用户添加到角色或从角色中删除用户。</span><span class="sxs-lookup"><span data-stu-id="6ce56-321">The following code example adds one or more users to a role or removes a user from a role.</span></span> <span data-ttu-id="6ce56-322">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.AuthorizationStoreRoleProvider>。</span><span class="sxs-lookup"><span data-stu-id="6ce56-322">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.AuthorizationStoreRoleProvider>.</span></span>  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/adduserstorolecs.aspx#3)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/adduserstorolevb.aspx#3)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6ce56-323">指定的用户名之一为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-323">One of the specified user names is <see langword="null" />.</span></span>  
  
<span data-ttu-id="6ce56-324">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-324">-or-</span></span> 
<span data-ttu-id="6ce56-325">指定的角色名之一为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-325">One of the specified role names is <see langword="null" />.</span></span>  
  
<span data-ttu-id="6ce56-326">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-326">-or-</span></span> 
 <span data-ttu-id="6ce56-327"><paramref name="userNames" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-327"><paramref name="userNames" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="6ce56-328">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-328">-or-</span></span> 
 <span data-ttu-id="6ce56-329"><paramref name="roleNames" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-329"><paramref name="roleNames" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6ce56-330">指定的用户名之一为空字符串或是包含一个逗号。</span><span class="sxs-lookup"><span data-stu-id="6ce56-330">One of the specified user names is an empty string or contains a comma.</span></span>  
  
<span data-ttu-id="6ce56-331">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-331">-or-</span></span> 
<span data-ttu-id="6ce56-332">指定的角色名之一为空字符串或是包含一个逗号。</span><span class="sxs-lookup"><span data-stu-id="6ce56-332">One of the specified role names is an empty string or contains a comma.</span></span>  
  
<span data-ttu-id="6ce56-333">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-333">-or-</span></span> 
 <span data-ttu-id="6ce56-334"><paramref name="userNames" /> 包含重复的元素。</span><span class="sxs-lookup"><span data-stu-id="6ce56-334"><paramref name="userNames" /> contains a duplicate element.</span></span>  
  
<span data-ttu-id="6ce56-335">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-335">-or-</span></span> 
 <span data-ttu-id="6ce56-336"><paramref name="roleNames" /> 包含重复的元素。</span><span class="sxs-lookup"><span data-stu-id="6ce56-336"><paramref name="roleNames" /> contains a duplicate element.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="6ce56-337">未找到已配置的 <see langword="applicationName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-337">The configured <see langword="applicationName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-338">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-338">-or-</span></span> 
<span data-ttu-id="6ce56-339">未找到已配置的 <see langword="scopeName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-339">The configured <see langword="scopeName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-340">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-340">-or-</span></span> 
<span data-ttu-id="6ce56-341">服务器上没有安装身份验证管理器运行时。</span><span class="sxs-lookup"><span data-stu-id="6ce56-341">The authorization-manager runtime is not installed on the server.</span></span></exception>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="6ce56-342"><see langword="connectionStringName" /> 特性引用了一个指向不存在的文件的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-342">The <see langword="connectionStringName" /> attribute references a connection string to a file that does not exist.</span></span></exception>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="6ce56-343"><see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> 实例使用基于文件的策略存储进行配置，且当前的信任级别不允许对文件进行读访问。</span><span class="sxs-lookup"><span data-stu-id="6ce56-343">The <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> instance is configured with a file-based policy store, and read access to the file is not allowed at the current trust level.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-344">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-344">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="RoleExists">
      <MemberSignature Language="C#" Value="public override bool RoleExists (string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance bool RoleExists(string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.AuthorizationStoreRoleProvider.RoleExists(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function RoleExists (roleName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override bool RoleExists(System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="override this.RoleExists : string -&gt; bool" Usage="authorizationStoreRoleProvider.RoleExists roleName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName"><span data-ttu-id="6ce56-345">要在授权管理器策略存储区中搜索的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="6ce56-345">The name of the role to search for in the authorization-manager policy store.</span></span></param>
        <summary><span data-ttu-id="6ce56-346">获取一个值，该值指示指定角色名是否已存在于授权管理器策略存储区中。</span><span class="sxs-lookup"><span data-stu-id="6ce56-346">Gets a value indicating whether the specified role name already exists in the authorization-manager policy store.</span></span></summary>
        <returns><span data-ttu-id="6ce56-347">如果角色名已存在于授权管理器策略存储区中，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-347"><see langword="true" /> if the role name already exists in the authorization-manager policy store; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6ce56-348"><xref:System.Web.Security.Roles> 类调用 <xref:System.Web.Security.AuthorizationStoreRoleProvider.RoleExists%2A> 方法，以确定 ASP.NET 应用程序的配置文件（web.config）中指定的授权管理器数据存储中是否存在角色名称。</span><span class="sxs-lookup"><span data-stu-id="6ce56-348">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.RoleExists%2A> method is called by the <xref:System.Web.Security.Roles> class to determine whether a role name exists in the authorization-manager data store specified in the ASP.NET application's configuration file (Web.config).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="6ce56-349">下面的代码示例使用 <xref:System.Web.Security.Roles.RoleExists%2A> 方法来确定角色名称是否已存在，然后再创建角色。</span><span class="sxs-lookup"><span data-stu-id="6ce56-349">The following code example uses the <xref:System.Web.Security.Roles.RoleExists%2A> method to determine whether a role name already exists before creating the role.</span></span> <span data-ttu-id="6ce56-350">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.AuthorizationStoreRoleProvider>。</span><span class="sxs-lookup"><span data-stu-id="6ce56-350">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.AuthorizationStoreRoleProvider>.</span></span>  
  
 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/createrolecs.aspx#1)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/createrolevb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6ce56-351"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-351"><paramref name="roleName" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6ce56-352"><paramref name="roleName" /> 是一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-352"><paramref name="roleName" /> is an empty string.</span></span>  
  
<span data-ttu-id="6ce56-353">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-353">-or-</span></span> 
 <span data-ttu-id="6ce56-354"><paramref name="roleName" /> 包含一个逗号。</span><span class="sxs-lookup"><span data-stu-id="6ce56-354"><paramref name="roleName" /> contains a comma.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="6ce56-355">未找到已配置的 <see langword="applicationName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-355">The configured <see langword="applicationName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-356">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-356">-or-</span></span> 
<span data-ttu-id="6ce56-357">未找到已配置的 <see langword="scopeName" />。</span><span class="sxs-lookup"><span data-stu-id="6ce56-357">The configured <see langword="scopeName" /> was not found.</span></span>  
  
<span data-ttu-id="6ce56-358">-或-</span><span class="sxs-lookup"><span data-stu-id="6ce56-358">-or-</span></span> 
<span data-ttu-id="6ce56-359">服务器上没有安装身份验证管理器运行时。</span><span class="sxs-lookup"><span data-stu-id="6ce56-359">The authorization-manager runtime is not installed on the server.</span></span></exception>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="6ce56-360"><see langword="connectionStringName" /> 特性引用了一个指向不存在的文件的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="6ce56-360">The <see langword="connectionStringName" /> attribute references a connection string to a file that does not exist.</span></span></exception>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="6ce56-361"><see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> 实例使用基于文件的策略存储进行配置，且当前的信任级别不允许对文件进行读访问。</span><span class="sxs-lookup"><span data-stu-id="6ce56-361">The <see cref="T:System.Web.Security.AuthorizationStoreRoleProvider" /> instance is configured with a file-based policy store, and read access to the file is not allowed at the current trust level.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-362">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-362">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ScopeName">
      <MemberSignature Language="C#" Value="public string ScopeName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string ScopeName" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.AuthorizationStoreRoleProvider.ScopeName" />
      <MemberSignature Language="VB.NET" Value="Public Property ScopeName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ ScopeName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ScopeName : string with get, set" Usage="System.Web.Security.AuthorizationStoreRoleProvider.ScopeName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6ce56-363">获取或设置授权存储区的范围名。</span><span class="sxs-lookup"><span data-stu-id="6ce56-363">Gets or sets the scope name for the authorization store.</span></span></summary>
        <value><span data-ttu-id="6ce56-364">授权存储区的范围名。</span><span class="sxs-lookup"><span data-stu-id="6ce56-364">The scope name for the authorization store.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6ce56-365"><xref:System.Web.Security.AuthorizationStoreRoleProvider.ScopeName%2A> 属性可以使用配置节的 `providers` 部分中提供程序实例的 `scopeName` 配置特性进行设置。</span><span class="sxs-lookup"><span data-stu-id="6ce56-365">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.ScopeName%2A> property can be set using the `scopeName` configuration attribute for the provider instance in the `providers` section of the  configuration section.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="6ce56-366">由于单个默认角色提供程序实例用于 <xref:System.Web.HttpApplication> 对象提供的所有请求，因此可以同时执行多个请求，并尝试设置 <xref:System.Web.Security.AuthorizationStoreRoleProvider.ScopeName%2A> 属性值。</span><span class="sxs-lookup"><span data-stu-id="6ce56-366">Because a single default role provider instance is used for all of the requests served by an <xref:System.Web.HttpApplication> object, you can have multiple requests executing concurrently and attempting to set the <xref:System.Web.Security.AuthorizationStoreRoleProvider.ScopeName%2A> property value.</span></span> <span data-ttu-id="6ce56-367"><xref:System.Web.Security.AuthorizationStoreRoleProvider.ScopeName%2A> 属性对于多个写入不是线程安全的，当存在多个应用程序用户时，更改 <xref:System.Web.Security.AuthorizationStoreRoleProvider.ScopeName%2A> 属性值可能会导致意外的行为。</span><span class="sxs-lookup"><span data-stu-id="6ce56-367">The <xref:System.Web.Security.AuthorizationStoreRoleProvider.ScopeName%2A> property is not thread safe for multiple writes, and changing the <xref:System.Web.Security.AuthorizationStoreRoleProvider.ScopeName%2A> property value can result in unexpected behavior when there are multiple users of an application.</span></span> <span data-ttu-id="6ce56-368">建议你避免编写允许用户设置 <xref:System.Web.Security.AuthorizationStoreRoleProvider.ScopeName%2A> 属性的代码，除非你必须这样做。</span><span class="sxs-lookup"><span data-stu-id="6ce56-368">We recommend that you avoid writing code that allows users to set the <xref:System.Web.Security.AuthorizationStoreRoleProvider.ScopeName%2A> property unless you must.</span></span> <span data-ttu-id="6ce56-369">可能需要设置 <xref:System.Web.Security.AuthorizationStoreRoleProvider.ScopeName%2A> 属性的应用程序的一个示例是管理多个应用程序的角色数据的管理应用程序。</span><span class="sxs-lookup"><span data-stu-id="6ce56-369">An example of an application where setting the <xref:System.Web.Security.AuthorizationStoreRoleProvider.ScopeName%2A> property may be required is an administrative application that manages role data for multiple applications.</span></span> <span data-ttu-id="6ce56-370">此类应用程序应为单用户应用程序，而不是 Web 应用程序。</span><span class="sxs-lookup"><span data-stu-id="6ce56-370">Such an application should be a single-user application and not a Web application.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="6ce56-371">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="6ce56-371">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
  </Members>
</Type>
