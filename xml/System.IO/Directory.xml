<Type Name="Directory" FullName="System.IO.Directory">
  <Metadata><Meta Name="ms.openlocfilehash" Value="0837d53ef7ad995539aa8b377b7f149e583f1065" /><Meta Name="ms.sourcegitcommit" Value="a8ff98b48bda124cfcb2605f5da9b21bc6dcd791" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="02/14/2020" /><Meta Name="ms.locfileid" Value="77225314" /></Metadata><TypeSignature Language="C#" Value="public static class Directory" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract sealed beforefieldinit Directory extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.IO.Directory" />
  <TypeSignature Language="VB.NET" Value="Public Class Directory" />
  <TypeSignature Language="C++ CLI" Value="public ref class Directory abstract sealed" />
  <TypeSignature Language="F#" Value="type Directory = class" />
  <AssemblyInfo>
    <AssemblyName>System.IO.FileSystem</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.1.0</AssemblyVersion>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.1.1.0</AssemblyVersion>
    <AssemblyVersion>4.1.2.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.1.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
      <AttributeName>System.Runtime.InteropServices.ComVisible(true)</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="994d2-101">公开用于通过目录和子目录进行创建、移动和枚举的静态方法。</span><span class="sxs-lookup"><span data-stu-id="994d2-101">Exposes static methods for creating, moving, and enumerating through directories and subdirectories.</span></span> <span data-ttu-id="994d2-102">无法继承此类。</span><span class="sxs-lookup"><span data-stu-id="994d2-102">This class cannot be inherited.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-103">使用 <xref:System.IO.Directory> 类执行典型操作，例如复制、移动、重命名、创建和删除目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-103">Use the <xref:System.IO.Directory> class for typical operations such as copying, moving, renaming, creating, and deleting directories.</span></span>  
  
-   <span data-ttu-id="994d2-104">若要创建目录，请使用 <xref:System.IO.Directory.CreateDirectory%2A> 方法之一。</span><span class="sxs-lookup"><span data-stu-id="994d2-104">To create a directory, use one of the <xref:System.IO.Directory.CreateDirectory%2A> methods.</span></span>  
  
-   <span data-ttu-id="994d2-105">若要删除目录，请使用 <xref:System.IO.Directory.Delete%2A> 方法之一。</span><span class="sxs-lookup"><span data-stu-id="994d2-105">To delete a directory, use one of the <xref:System.IO.Directory.Delete%2A> methods.</span></span>  
  
-   <span data-ttu-id="994d2-106">若要获取或设置应用程序的当前目录，请使用 <xref:System.IO.Directory.GetCurrentDirectory%2A> 或 <xref:System.IO.Directory.SetCurrentDirectory%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="994d2-106">To get or set the current directory for an app, use the <xref:System.IO.Directory.GetCurrentDirectory%2A> or <xref:System.IO.Directory.SetCurrentDirectory%2A> method.</span></span>  
  
-   <span data-ttu-id="994d2-107">若要操作与创建、访问和写入目录有关的 <xref:System.DateTime> 信息，请使用 <xref:System.IO.Directory.SetLastAccessTime%2A> 和 <xref:System.IO.Directory.SetCreationTime%2A>等方法。</span><span class="sxs-lookup"><span data-stu-id="994d2-107">To manipulate <xref:System.DateTime> information related to the creation, access, and writing of a directory, use methods such as <xref:System.IO.Directory.SetLastAccessTime%2A> and <xref:System.IO.Directory.SetCreationTime%2A>.</span></span>  
  
 <span data-ttu-id="994d2-108"><xref:System.IO.Directory> 类的静态方法对所有方法执行安全检查。</span><span class="sxs-lookup"><span data-stu-id="994d2-108">The static methods of the <xref:System.IO.Directory> class perform security checks on all methods.</span></span> <span data-ttu-id="994d2-109">如果要多次重用某个对象，请考虑使用 <xref:System.IO.DirectoryInfo> 的相应实例方法，因为并不总是需要安全检查。</span><span class="sxs-lookup"><span data-stu-id="994d2-109">If you are going to reuse an object several times, consider using the corresponding instance method of <xref:System.IO.DirectoryInfo> instead, because the security check will not always be necessary.</span></span>  
  
 <span data-ttu-id="994d2-110">如果只执行一个与目录相关的操作，则使用静态 <xref:System.IO.Directory> 方法（而不是相应的 <xref:System.IO.DirectoryInfo> 实例方法）可能更有效。</span><span class="sxs-lookup"><span data-stu-id="994d2-110">If you are performing only one directory-related action, it might be more efficient to use a static <xref:System.IO.Directory> method rather than a corresponding <xref:System.IO.DirectoryInfo> instance method.</span></span> <span data-ttu-id="994d2-111">大多数 <xref:System.IO.Directory> 方法都需要正在操作的目录的路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-111">Most <xref:System.IO.Directory> methods require the path to the directory that you are manipulating.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="994d2-112">在接受字符串 `path` 参数的成员中，该路径必须格式正确，否则会引发异常。</span><span class="sxs-lookup"><span data-stu-id="994d2-112">In members that accept a string `path` parameter, that path must be well-formed or an exception is raised.</span></span> <span data-ttu-id="994d2-113">例如，如果路径是完全限定的，但以空格（"c：\temp"）开头，则路径字符串不会被剪裁，因此路径被视为格式不正确，并引发异常。</span><span class="sxs-lookup"><span data-stu-id="994d2-113">For example, if a path is fully qualified but begins with a space (" c:\temp"), the path string isn't trimmed, so the path is considered malformed and an exception is raised.</span></span> <span data-ttu-id="994d2-114">此外，路径或路径的组合不能完全限定两次。</span><span class="sxs-lookup"><span data-stu-id="994d2-114">In addition, a path or a combination of paths cannot be fully qualified twice.</span></span> <span data-ttu-id="994d2-115">例如，"c：\temp c：\windows" 也会引发异常。</span><span class="sxs-lookup"><span data-stu-id="994d2-115">For example, "c:\temp c:\windows" also raises an exception.</span></span> <span data-ttu-id="994d2-116">使用接受路径字符串的方法时，请确保路径格式正确。</span><span class="sxs-lookup"><span data-stu-id="994d2-116">Ensure that your paths are well-formed when using methods that accept a path string.</span></span> <span data-ttu-id="994d2-117">有关详细信息，请参阅<xref:System.IO.Path>.</span><span class="sxs-lookup"><span data-stu-id="994d2-117">For more information see <xref:System.IO.Path>.</span></span>  
  
 <span data-ttu-id="994d2-118">在接受路径的成员中，路径可以引用文件或目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-118">In members that accept a path, the path can refer to a file or a directory.</span></span> <span data-ttu-id="994d2-119">你可以使用服务器和共享名称的完整路径、相对路径或通用命名约定（UNC）路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-119">You can use a full path, a relative path, or a Universal Naming Convention (UNC) path for a server and share name.</span></span> <span data-ttu-id="994d2-120">例如，以下所有内容都是可接受的路径：</span><span class="sxs-lookup"><span data-stu-id="994d2-120">For example, all the following are acceptable paths:</span></span>  
  
-   <span data-ttu-id="994d2-121">Visual Basic 中的 "c：\\C#\MyDir" 或 "c:\MyDir"。</span><span class="sxs-lookup"><span data-stu-id="994d2-121">"c:\\\MyDir" in C#, or "c:\MyDir" in Visual Basic.</span></span>  
  
-   <span data-ttu-id="994d2-122">Visual Basic 中的 "MyDir\\C#\MySubdir" 或 "MyDir\MySubDir"。</span><span class="sxs-lookup"><span data-stu-id="994d2-122">"MyDir\\\MySubdir" in C#, or "MyDir\MySubDir" in Visual Basic.</span></span>  
  
-   <span data-ttu-id="994d2-123">\\中的 "\\\\\\\MyServer\\C#\MyShare" 或 "Visual Basic \MyServer\MyShare"。</span><span class="sxs-lookup"><span data-stu-id="994d2-123">"\\\\\\\MyServer\\\MyShare" in C#, or "\\\MyServer\MyShare" in Visual Basic.</span></span>  
  
 <span data-ttu-id="994d2-124">默认情况下，将向所有用户授予对新目录的完全读/写访问权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-124">By default, full read/write access to new directories is granted to all users.</span></span> <span data-ttu-id="994d2-125">但是，应用必须具有正确的安全性才能访问现有目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-125">However, the app must have the correct security to access existing directories.</span></span>  
  
 <span data-ttu-id="994d2-126">若要请求目录及其所有子目录的权限，请使用目录分隔符结束路径字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-126">To demand permissions for a directory and all its subdirectories, end the path string with the directory separator character.</span></span> <span data-ttu-id="994d2-127">（例如，"C：\Temp\\" 授予对 C:\Temp\ 及其所有子目录的访问权限。）若要只请求特定目录的权限，请以句点结束路径字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-127">(For example, "C:\Temp\\" grants access to C:\Temp\ and all its subdirectories.) To demand permissions only for a specific directory, end the path string with a period.</span></span> <span data-ttu-id="994d2-128">（例如，"C：\Temp\\"。</span><span class="sxs-lookup"><span data-stu-id="994d2-128">(For example, "C:\Temp\\."</span></span> <span data-ttu-id="994d2-129">仅向 C：\Temp\\（而不是其子目录）授予访问权限。）</span><span class="sxs-lookup"><span data-stu-id="994d2-129">grants access only to C:\Temp\\, not to its subdirectories.)</span></span>  
  
 <span data-ttu-id="994d2-130">在接受 `searchPattern` 参数的成员中，搜索字符串可以是原义字符和两个通配符的任意组合;\* 和？。</span><span class="sxs-lookup"><span data-stu-id="994d2-130">In members that accept a `searchPattern` parameter, the search string can be any combination of literal characters and two wildcard characters; \* and ?.</span></span> <span data-ttu-id="994d2-131">此参数不能识别正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-131">This parameter does not recognize regular expressions.</span></span> <span data-ttu-id="994d2-132">有关详细信息，请参阅 <xref:System.IO.Directory.EnumerateDirectories%28System.String%2CSystem.String%29> 方法或使用 `searchPattern` 参数的任何其他方法。</span><span class="sxs-lookup"><span data-stu-id="994d2-132">For more information, see the <xref:System.IO.Directory.EnumerateDirectories%28System.String%2CSystem.String%29> method or any other method that uses the `searchPattern` parameter.</span></span>  
  
 <span data-ttu-id="994d2-133">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-133">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
 <span data-ttu-id="994d2-134"><xref:System.IO.Directory> 和 <xref:System.IO.DirectoryInfo> 不支持在 [!INCLUDE[win8_appstore_long](~/includes/win8-appstore-long-md.md)] 应用中使用。</span><span class="sxs-lookup"><span data-stu-id="994d2-134"><xref:System.IO.Directory> and <xref:System.IO.DirectoryInfo> are not supported for use in [!INCLUDE[win8_appstore_long](~/includes/win8-appstore-long-md.md)] apps.</span></span> <span data-ttu-id="994d2-135">有关如何访问 [!INCLUDE[win8_appstore_long](~/includes/win8-appstore-long-md.md)] 应用中的文件和文件夹的信息，请参阅[访问数据和文件（Windows 应用商店应用）](https://msdn.microsoft.com/library/windows/apps/hh758319.aspx)。</span><span class="sxs-lookup"><span data-stu-id="994d2-135">For information about how to access files and folders in [!INCLUDE[win8_appstore_long](~/includes/win8-appstore-long-md.md)] apps, see [Accessing data and files (Windows Store apps)](https://msdn.microsoft.com/library/windows/apps/hh758319.aspx).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-136">以下示例演示了如何从目录中检索所有文本文件，并将其移动到新目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-136">The following example shows how to retrieve all the text files from a directory and move them to a new directory.</span></span> <span data-ttu-id="994d2-137">文件移动后，它们将不再存在于原始目录中。</span><span class="sxs-lookup"><span data-stu-id="994d2-137">After the files are moved, they no longer exist in the original directory.</span></span>  
  
 [!code-csharp[System.IO.Directory#10](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.Directory/CS/class2.cs#10)]
 [!code-vb[System.IO.Directory#10](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.Directory/VB/class2.vb#10)]  
  
 <span data-ttu-id="994d2-138">下面的示例演示如何使用 <xref:System.IO.Directory.EnumerateFiles%2A> 方法从目录中检索文本文件的集合，然后在查询中使用该集合查找包含 "Example" 的所有行。</span><span class="sxs-lookup"><span data-stu-id="994d2-138">The following example demonstrates how to use the <xref:System.IO.Directory.EnumerateFiles%2A> method to retrieve a collection of text files from a directory, and then use that collection in a query to find all the lines that contain "Example".</span></span>  
  
 [!code-csharp[System.IO.Directory#11](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.Directory/CS/class3.cs#11)]
 [!code-vb[System.IO.Directory#11](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.Directory/VB/class3.vb#11)]  
  
 <span data-ttu-id="994d2-139">下面的示例演示如何将目录及其所有文件移动到新目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-139">The following example demonstrates how to move a directory and all its files to a new directory.</span></span> <span data-ttu-id="994d2-140">移动原始目录后，原始目录将不再存在。</span><span class="sxs-lookup"><span data-stu-id="994d2-140">The original directory no longer exists after it has been moved.</span></span>  
  
 [!code-csharp[System.IO.Directory#14](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.Directory/CS/class6.cs#14)]
 [!code-vb[System.IO.Directory#14](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.Directory/VB/class6.vb#14)]  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.IO.DriveInfo" />
    <altmember cref="T:System.IO.File" />
    <altmember cref="T:System.IO.DirectoryInfo" />
    <altmember cref="T:System.IO.FileInfo" />
    <altmember cref="T:System.IO.FileSystemWatcher" />
    <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-141">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-141">File and Stream I/O</span></span></related>
    <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-142">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-142">How to: Read Text from a File</span></span></related>
    <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-143">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-143">How to: Write Text to a File</span></span></related>
    <related type="Article" href="~/docs/standard/io/how-to-read-and-write-to-a-newly-created-data-file.md"><span data-ttu-id="994d2-144">如何：对新建的数据文件进行读取和写入</span><span class="sxs-lookup"><span data-stu-id="994d2-144">How to: Read and Write to a Newly Created Data File</span></span></related>
  </Docs>
  <Members>
    <MemberGroup MemberName="CreateDirectory">
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="994d2-145">在指定路径中创建所有目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-145">Creates all the directories in a specified path.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="CreateDirectory">
      <MemberSignature Language="C#" Value="public static System.IO.DirectoryInfo CreateDirectory (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.IO.DirectoryInfo CreateDirectory(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.CreateDirectory(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function CreateDirectory (path As String) As DirectoryInfo" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::IO::DirectoryInfo ^ CreateDirectory(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member CreateDirectory : string -&gt; System.IO.DirectoryInfo" Usage="System.IO.Directory.CreateDirectory path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.IO.DirectoryInfo</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-146">要创建的目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-146">The directory to create.</span></span></param>
        <summary><span data-ttu-id="994d2-147">在指定路径中创建所有目录和子目录，除非它们已经存在。</span><span class="sxs-lookup"><span data-stu-id="994d2-147">Creates all directories and subdirectories in the specified path unless they already exist.</span></span></summary>
        <returns><span data-ttu-id="994d2-148">一个表示在指定路径的目录的对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-148">An object that represents the directory at the specified path.</span></span> <span data-ttu-id="994d2-149">无论指定路径的目录是否已经存在，都将返回此对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-149">This object is returned regardless of whether a directory at the specified path already exists.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-150">将创建 `path` 中指定的任何和所有目录，除非它们已经存在或者 `path` 的某些部分无效。</span><span class="sxs-lookup"><span data-stu-id="994d2-150">Any and all directories specified in `path` are created, unless they already exist or unless some part of `path` is invalid.</span></span> <span data-ttu-id="994d2-151">如果该目录已存在，则此方法不会创建新目录，但会返回现有目录的 <xref:System.IO.DirectoryInfo> 对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-151">If the directory already exists, this method does not create a new directory, but it returns a <xref:System.IO.DirectoryInfo> object for the existing directory.</span></span>  
  
 <span data-ttu-id="994d2-152">`path` 参数指定目录路径而不是文件路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-152">The `path` parameter specifies a directory path, not a file path.</span></span>  
  
 <span data-ttu-id="994d2-153">创建目录之前，从 `path` 参数的末尾删除尾随空格。</span><span class="sxs-lookup"><span data-stu-id="994d2-153">Trailing spaces are removed from the end of the `path` parameter before creating the directory.</span></span>  
  
 <span data-ttu-id="994d2-154">你可以在远程计算机上创建一个目录，该目录位于你对其具有写访问权限的共享上。</span><span class="sxs-lookup"><span data-stu-id="994d2-154">You can create a directory on a remote computer, on a share that you have write access to.</span></span> <span data-ttu-id="994d2-155">支持 UNC 路径;例如，你可以在 Visual Basic 中指定以下 `path`： `\\2009\Archives\December`，并在中C#指定 `\\\\2009\\Archives\\December`。</span><span class="sxs-lookup"><span data-stu-id="994d2-155">UNC paths are supported; for example, you can specify the following for `path`: `\\2009\Archives\December` in Visual Basic, and `\\\\2009\\Archives\\December` in C#.</span></span>  
  
 <span data-ttu-id="994d2-156">创建仅带有冒号字符的目录（:)不受支持，将导致引发 `NotSupportedException`。</span><span class="sxs-lookup"><span data-stu-id="994d2-156">Creating a directory with only the colon character (:) is not supported, and will cause a `NotSupportedException` to be thrown.</span></span>  
  
 <span data-ttu-id="994d2-157">在 Unix 系统上，使用正斜杠（/）作为路径分隔符。</span><span class="sxs-lookup"><span data-stu-id="994d2-157">On Unix systems, use a forward slash (/) as path separator.</span></span>  
  
## Examples  
 
<span data-ttu-id="994d2-158">下面的示例创建并删除指定的目录：</span><span class="sxs-lookup"><span data-stu-id="994d2-158">The following example creates and deletes the specified directory:</span></span>
  
[!code-cpp[Dir_CreateDir#1](~/samples/snippets/cpp/VS_Snippets_CLR/Dir_CreateDir/CPP/dir_createdir.cpp#1)]
[!code-csharp[Dir_CreateDir#1](~/samples/snippets/csharp/VS_Snippets_CLR/Dir_CreateDir/CS/dir_createdir.cs#1)]
[!code-vb[Dir_CreateDir#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Dir_CreateDir/VB/dir_createdir.vb#1)]  
  
<span data-ttu-id="994d2-159">若要在当前目录为*C:\Users\User1*时创建目录*C:\Users\User1\Public\Html* ，请使用以下任意调用来确保正确解释反斜杠：</span><span class="sxs-lookup"><span data-stu-id="994d2-159">To create the directory *C:\Users\User1\Public\Html* when the current directory is *C:\Users\User1*, use any of the following calls to ensure that the backslash is interpreted properly:</span></span>
  
```vb  
Directory.CreateDirectory("Public\Html")   
Directory.CreateDirectory("\Users\User1\Public\Html")   
Directory.CreateDirectory("c:\Users\User1\Public\Html")  
```  

```csharp  
Directory.CreateDirectory("Public\\Html");  
Directory.CreateDirectory("\\Users\\User1\\Public\\Html");  
Directory.CreateDirectory("c:\\Users\\User1\\Public\\Html");  
```  
  
```cpp
Directory::CreateDirectory("Public\\Html");  
Directory::CreateDirectory("\\Users\\User1\\Public\\Html");  
Directory::CreateDirectory("c:\\Users\\User1\\Public\\Html");  
```  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-160"><paramref name="path" /> 指定的目录是文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-160">The directory specified by <paramref name="path" /> is a file.</span></span>  
  
<span data-ttu-id="994d2-161">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-161">-or-</span></span> 
<span data-ttu-id="994d2-162">网络名称未知。</span><span class="sxs-lookup"><span data-stu-id="994d2-162">The network name is not known.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-163">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-163">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-164"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-164"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-165">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-165">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-166">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-166">-or-</span></span> 
 <span data-ttu-id="994d2-167"><paramref name="path" /> 的前缀仅为（或只包含）一个冒号字符 (:)。</span><span class="sxs-lookup"><span data-stu-id="994d2-167"><paramref name="path" /> is prefixed with, or contains, only a colon character (:).</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-168"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-168"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-169">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-169">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-170">指定的路径无效（例如，它位于未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-170">The specified path is invalid (for example, it is on an unmapped drive).</span></span></exception>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="994d2-171"><paramref name="path" /> 包含不是驱动器标签（“C:\\”）的一部分的冒号字符 (:)。</span><span class="sxs-lookup"><span data-stu-id="994d2-171"><paramref name="path" /> contains a colon character (:) that is not part of a drive label ("C:\\").</span></span></exception>
        <altmember cref="T:System.IO.DirectoryInfo" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-172">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-172">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-173">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-173">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-174">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-174">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CreateDirectory">
      <MemberSignature Language="C#" Value="public static System.IO.DirectoryInfo CreateDirectory (string path, System.Security.AccessControl.DirectorySecurity directorySecurity);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.IO.DirectoryInfo CreateDirectory(string path, class System.Security.AccessControl.DirectorySecurity directorySecurity) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.CreateDirectory(System.String,System.Security.AccessControl.DirectorySecurity)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::IO::DirectoryInfo ^ CreateDirectory(System::String ^ path, System::Security::AccessControl::DirectorySecurity ^ directorySecurity);" />
      <MemberSignature Language="F#" Value="static member CreateDirectory : string * System.Security.AccessControl.DirectorySecurity -&gt; System.IO.DirectoryInfo" Usage="System.IO.Directory.CreateDirectory (path, directorySecurity)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.IO.DirectoryInfo</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="directorySecurity" Type="System.Security.AccessControl.DirectorySecurity" Index="1" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-175">要创建的目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-175">The directory to create.</span></span></param>
        <param name="directorySecurity"><span data-ttu-id="994d2-176">要应用于此目录的访问控制。</span><span class="sxs-lookup"><span data-stu-id="994d2-176">The access control to apply to the directory.</span></span></param>
        <summary><span data-ttu-id="994d2-177">在指定路径中创建所有目录（除非已存在），并应用指定的 Windows 安全性。</span><span class="sxs-lookup"><span data-stu-id="994d2-177">Creates all the directories in the specified path, unless they already exist, applying the specified Windows security.</span></span></summary>
        <returns><span data-ttu-id="994d2-178">一个表示在指定路径的目录的对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-178">An object that represents the directory at the specified path.</span></span> <span data-ttu-id="994d2-179">无论指定路径的目录是否已经存在，都将返回此对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-179">This object is returned regardless of whether a directory at the specified path already exists.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-180">使用此方法重载来创建具有访问控制的目录，因此在应用安全之前，无法访问该目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-180">Use this method overload to create a directory with access control, so there is no chance the directory can be accessed before security is applied.</span></span>  
  
 <span data-ttu-id="994d2-181">将创建 `path` 参数中指定的任何和所有目录，除非它们已经存在或 `path` 的某些部分无效。</span><span class="sxs-lookup"><span data-stu-id="994d2-181">Any and all directories specified in the `path` parameter are created, unless they already exist or unless some part of `path` is invalid.</span></span> <span data-ttu-id="994d2-182">`path` 参数指定目录路径而不是文件路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-182">The `path` parameter specifies a directory path, not a file path.</span></span> <span data-ttu-id="994d2-183">如果该目录已存在，则此方法不会创建新目录，但会返回现有目录的 <xref:System.IO.DirectoryInfo> 对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-183">If the directory already exists, this method does not create a new directory, but it returns a <xref:System.IO.DirectoryInfo> object for the existing directory.</span></span>  
  
 <span data-ttu-id="994d2-184">创建目录之前，从 `path` 参数的末尾删除尾随空格。</span><span class="sxs-lookup"><span data-stu-id="994d2-184">Trailing spaces are removed from the end of the `path` parameter before creating the directory.</span></span>  
  
 <span data-ttu-id="994d2-185">你可以在远程计算机上创建一个目录，该目录位于你对其具有写访问权限的共享上。</span><span class="sxs-lookup"><span data-stu-id="994d2-185">You can create a directory on a remote computer, on a share that you have write access to.</span></span> <span data-ttu-id="994d2-186">支持 UNC 路径;例如，你可以在 Visual Basic 中指定以下 `path`： `\\2009\Archives\December`，并在中C#指定 `\\\\2009\\Archives\\December`。</span><span class="sxs-lookup"><span data-stu-id="994d2-186">UNC paths are supported; for example, you can specify the following for `path`: `\\2009\Archives\December` in Visual Basic, and `\\\\2009\\Archives\\December` in C#.</span></span>  
  
 <span data-ttu-id="994d2-187">创建仅带有冒号字符的目录（:)不支持，并导致引发 `NotSupportedException`。</span><span class="sxs-lookup"><span data-stu-id="994d2-187">Creating a directory with only the colon character (:) is not supported and causes a `NotSupportedException` to be thrown.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-188">下面的示例创建一个新目录，其中包含两个用户帐户的访问规则。</span><span class="sxs-lookup"><span data-stu-id="994d2-188">The following example creates a new directory with access rules for two user accounts.</span></span>  
  
 [!code-csharp[System.IO.Directory#15](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.Directory/CS/class7.cs#15)]
 [!code-vb[System.IO.Directory#15](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.Directory/VB/class7.vb#15)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-189"><paramref name="path" /> 指定的目录是文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-189">The directory specified by <paramref name="path" /> is a file.</span></span>  
  
<span data-ttu-id="994d2-190">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-190">-or-</span></span> 
<span data-ttu-id="994d2-191">网络名称未知。</span><span class="sxs-lookup"><span data-stu-id="994d2-191">The network name is not known.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-192">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-192">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-193"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-193"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-194">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-194">You can query for invalid characters by using the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-195">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-195">-or-</span></span> 
 <span data-ttu-id="994d2-196"><paramref name="path" /> 的前缀仅为（或只包含）一个冒号字符 (:)。</span><span class="sxs-lookup"><span data-stu-id="994d2-196"><paramref name="path" /> is prefixed with, or contains, only a colon character (:).</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-197"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-197"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-198">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-198">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-199">指定的路径无效（例如，它位于未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-199">The specified path is invalid (for example, it is on an unmapped drive).</span></span></exception>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="994d2-200"><paramref name="path" /> 包含不是驱动器标签（“C:\\”）的一部分的冒号字符 (:)。</span><span class="sxs-lookup"><span data-stu-id="994d2-200"><paramref name="path" /> contains a colon character (:) that is not part of a drive label ("C:\\").</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="Delete">
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="994d2-201">删除指定目录及（可选地）删除其任意子目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-201">Deletes a specified directory, and optionally any subdirectories.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="Delete">
      <MemberSignature Language="C#" Value="public static void Delete (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void Delete(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.Delete(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub Delete (path As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void Delete(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member Delete : string -&gt; unit" Usage="System.IO.Directory.Delete path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-202">要移除的空目录的名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-202">The name of the empty directory to remove.</span></span> <span data-ttu-id="994d2-203">此目录必须可写且为空。</span><span class="sxs-lookup"><span data-stu-id="994d2-203">This directory must be writable and empty.</span></span></param>
        <summary><span data-ttu-id="994d2-204">从指定路径删除空目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-204">Deletes an empty directory from a specified path.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-205">此方法的行为与 <xref:System.IO.Directory.Delete%28System.String%2CSystem.Boolean%29> 为第二个参数指定的 `false` 的行为相同。</span><span class="sxs-lookup"><span data-stu-id="994d2-205">This method behaves identically to <xref:System.IO.Directory.Delete%28System.String%2CSystem.Boolean%29> with `false` specified for the second parameter.</span></span>  
  
 <span data-ttu-id="994d2-206">`path` 参数可以指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-206">The `path` parameter may specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-207">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-207">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-208">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-208">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-209">删除目录之前，从 `path` 参数的末尾删除尾随空格。</span><span class="sxs-lookup"><span data-stu-id="994d2-209">Trailing spaces are removed from the end of the `path` parameter before deleting the directory.</span></span>  
  
 <span data-ttu-id="994d2-210">如果在 `path` 参数中指定的目录包含文件或子目录，则此方法会引发 <xref:System.IO.IOException>。</span><span class="sxs-lookup"><span data-stu-id="994d2-210">This method throws an <xref:System.IO.IOException> if the directory specified in the `path` parameter contains files or subdirectories.</span></span>  
  
 <span data-ttu-id="994d2-211">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-211">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-212">在某些情况下，如果在文件资源管理器中打开指定的目录，则 <xref:System.IO.Directory.Delete%2A> 方法可能无法将其删除。</span><span class="sxs-lookup"><span data-stu-id="994d2-212">In some cases, if you have the specified directory open in File Explorer, the <xref:System.IO.Directory.Delete%2A> method may not be able to delete it.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-213">下面的示例演示如何创建新的目录和子目录，然后仅删除子目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-213">The following example shows how to create a new directory and subdirectory, and then delete only the subdirectory.</span></span>  
  
 [!code-csharp[System.IO.Directory.Delete#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.io.directory.delete/cs/class1.cs#1)]
 [!code-vb[System.IO.Directory.Delete#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.io.directory.delete/vb/class1.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-214">存在具有相同名称和 <paramref name="path" /> 指定的位置的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-214">A file with the same name and location specified by <paramref name="path" /> exists.</span></span>  
  
<span data-ttu-id="994d2-215">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-215">-or-</span></span> 
<span data-ttu-id="994d2-216">该目录是应用程序的当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-216">The directory is the application's current working directory.</span></span>  
  
<span data-ttu-id="994d2-217">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-217">-or-</span></span> 
<span data-ttu-id="994d2-218"><paramref name="path" /> 指定的目录不为空。</span><span class="sxs-lookup"><span data-stu-id="994d2-218">The directory specified by <paramref name="path" /> is not empty.</span></span>  
  
<span data-ttu-id="994d2-219">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-219">-or-</span></span> 
<span data-ttu-id="994d2-220">该目录为只读或包含一个只读文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-220">The directory is read-only or contains a read-only file.</span></span>  
  
<span data-ttu-id="994d2-221">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-221">-or-</span></span> 
<span data-ttu-id="994d2-222">另一个进程正在使用该目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-222">The directory is being used by another process.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-223">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-223">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-224"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-224"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-225">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-225">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-226"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-226"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-227">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-227">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-228">不存在或找不到 <paramref name="path" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-228"><paramref name="path" /> does not exist or could not be found.</span></span>  
  
<span data-ttu-id="994d2-229">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-229">-or-</span></span> 
<span data-ttu-id="994d2-230">指定的路径无效（例如，它位于未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-230">The specified path is invalid (for example, it is on an unmapped drive).</span></span></exception>
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-231">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-231">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-232">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-232">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-233">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-233">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Delete">
      <MemberSignature Language="C#" Value="public static void Delete (string path, bool recursive);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void Delete(string path, bool recursive) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.Delete(System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub Delete (path As String, recursive As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void Delete(System::String ^ path, bool recursive);" />
      <MemberSignature Language="F#" Value="static member Delete : string * bool -&gt; unit" Usage="System.IO.Directory.Delete (path, recursive)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="recursive" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-234">要删除的目录的名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-234">The name of the directory to remove.</span></span></param>
        <param name="recursive"><span data-ttu-id="994d2-235">若要删除 <see langword="true" /> 中的目录、子目录和文件，则为 <paramref name="path" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-235"><see langword="true" /> to remove directories, subdirectories, and files in <paramref name="path" />; otherwise, <see langword="false" />.</span></span></param>
        <summary><span data-ttu-id="994d2-236">删除指定的目录，并删除该目录中的所有子目录和文件（如果表示）。</span><span class="sxs-lookup"><span data-stu-id="994d2-236">Deletes the specified directory and, if indicated, any subdirectories and files in the directory.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-237">`path` 参数可以指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-237">The `path` parameter may specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-238">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-238">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-239">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-239">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-240">删除目录之前，从 `path` 参数的末尾删除尾随空格。</span><span class="sxs-lookup"><span data-stu-id="994d2-240">Trailing spaces are removed from the end of the `path` parameter before deleting the directory.</span></span>  
  
 <span data-ttu-id="994d2-241">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-241">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-242">如果 `recursive` 参数 `true`，则用户必须对当前目录以及所有子目录具有写入权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-242">If the `recursive` parameter is `true`, the user must have write permission for the current directory as well as for all subdirectories.</span></span>  
  
 <span data-ttu-id="994d2-243">删除包含重分析点的目录（如符号链接或装入点）时，此方法的行为稍有不同。</span><span class="sxs-lookup"><span data-stu-id="994d2-243">The behavior of this method differs slightly when deleting a directory that contains a reparse point, such as a symbolic link or a mount point.</span></span> <span data-ttu-id="994d2-244">如果重新分析点是目录（如装入点），则会将其卸载，并删除装入点。</span><span class="sxs-lookup"><span data-stu-id="994d2-244">If the reparse point is a directory, such as a mount point, it is unmounted and the mount point is deleted.</span></span> <span data-ttu-id="994d2-245">此方法不会通过重新分析点进行递归。</span><span class="sxs-lookup"><span data-stu-id="994d2-245">This method does not recurse through the reparse point.</span></span> <span data-ttu-id="994d2-246">如果重新分析点是文件的符号链接，则将删除重新分析点，而不是符号链接的目标。</span><span class="sxs-lookup"><span data-stu-id="994d2-246">If the reparse point is a symbolic link to a file, the reparse point is deleted and not the target of the symbolic link.</span></span>  
  
 <span data-ttu-id="994d2-247">在某些情况下，如果在文件资源管理器中打开指定的目录，则 <xref:System.IO.Directory.Delete%2A> 方法可能无法将其删除。</span><span class="sxs-lookup"><span data-stu-id="994d2-247">In some cases, if you have the specified directory open in File Explorer, the <xref:System.IO.Directory.Delete%2A> method may not be able to delete it.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-248">下面的示例演示如何在子目录中创建新的目录、子目录和文件，然后以递归方式删除所有新项。</span><span class="sxs-lookup"><span data-stu-id="994d2-248">The following example shows how to create a new directory, subdirectory, and file in the subdirectory, and then recursively delete all the new items.</span></span>  
  
 [!code-csharp[System.IO.Directory.Delete#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.io.directory.delete/cs/class2.cs#2)]
 [!code-vb[System.IO.Directory.Delete#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.io.directory.delete/vb/class2.vb#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-249">存在具有相同名称和 <paramref name="path" /> 指定的位置的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-249">A file with the same name and location specified by <paramref name="path" /> exists.</span></span>  
  
<span data-ttu-id="994d2-250">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-250">-or-</span></span> 
<span data-ttu-id="994d2-251"><paramref name="path" /> 指定的目录为只读，或者 <paramref name="recursive" /> 的值为 <see langword="false" />，且 <paramref name="path" /> 不是空目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-251">The directory specified by <paramref name="path" /> is read-only, or <paramref name="recursive" /> is <see langword="false" /> and <paramref name="path" /> is not an empty directory.</span></span>  
  
<span data-ttu-id="994d2-252">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-252">-or-</span></span> 
<span data-ttu-id="994d2-253">该目录是应用程序的当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-253">The directory is the application's current working directory.</span></span>  
  
<span data-ttu-id="994d2-254">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-254">-or-</span></span> 
<span data-ttu-id="994d2-255">该目录包含一个只读文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-255">The directory contains a read-only file.</span></span>  
  
<span data-ttu-id="994d2-256">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-256">-or-</span></span> 
<span data-ttu-id="994d2-257">另一个进程正在使用该目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-257">The directory is being used by another process.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-258">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-258">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-259"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-259"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-260">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-260">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-261"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-261"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-262">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-262">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-263">不存在或找不到 <paramref name="path" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-263"><paramref name="path" /> does not exist or could not be found.</span></span>  
  
<span data-ttu-id="994d2-264">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-264">-or-</span></span> 
<span data-ttu-id="994d2-265">指定的路径无效（例如，它位于未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-265">The specified path is invalid (for example, it is on an unmapped drive).</span></span></exception>
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-266">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-266">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-267">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-267">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-268">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-268">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="EnumerateDirectories">
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="994d2-269">返回满足指定条件的目录完整名称的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-269">Returns an enumerable collection of directory full names that meet specified criteria.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="EnumerateDirectories">
      <MemberSignature Language="C#" Value="public static System.Collections.Generic.IEnumerable&lt;string&gt; EnumerateDirectories (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Collections.Generic.IEnumerable`1&lt;string&gt; EnumerateDirectories(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.EnumerateDirectories(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function EnumerateDirectories (path As String) As IEnumerable(Of String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Collections::Generic::IEnumerable&lt;System::String ^&gt; ^ EnumerateDirectories(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member EnumerateDirectories : string -&gt; seq&lt;string&gt;" Usage="System.IO.Directory.EnumerateDirectories path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IEnumerable&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-270">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-270">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-271">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-271">This string is not case-sensitive.</span></span></param>
        <summary><span data-ttu-id="994d2-272">返回指定路径中的目录完整名称的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-272">Returns an enumerable collection of directory full names in a specified path.</span></span></summary>
        <returns><span data-ttu-id="994d2-273">一个可枚举集合，它包含目录中由 <paramref name="path" /> 指定的目录的完整名称（包括路径）。</span><span class="sxs-lookup"><span data-stu-id="994d2-273">An enumerable collection of the full names (including paths) for the directories in the directory specified by <paramref name="path" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-274">可以在 `path` 参数中指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-274">You can specify relative or absolute path information in the `path` parameter.</span></span> <span data-ttu-id="994d2-275">相对路径信息被解释为相对于当前工作目录，您可以使用 <xref:System.IO.Directory.GetCurrentDirectory%2A> 方法来确定。</span><span class="sxs-lookup"><span data-stu-id="994d2-275">Relative path information is interpreted as relative to the current working directory, which you can determine by using the <xref:System.IO.Directory.GetCurrentDirectory%2A> method.</span></span> <span data-ttu-id="994d2-276">返回的目录名称以你在 `path` 参数中提供的值为前缀。</span><span class="sxs-lookup"><span data-stu-id="994d2-276">The returned directory names are prefixed with the value you provided in the `path` parameter.</span></span> <span data-ttu-id="994d2-277">例如，如果在 `path` 参数中提供了相对路径，则返回的目录名称将包含相对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-277">For example, if you provide a relative path in the `path` parameter, the returned directory names will contain a relative path.</span></span>  
  
 <span data-ttu-id="994d2-278"><xref:System.IO.Directory.EnumerateDirectories%2A> 和 <xref:System.IO.Directory.GetDirectories%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateDirectories%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetDirectories%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-278">The <xref:System.IO.Directory.EnumerateDirectories%2A> and <xref:System.IO.Directory.GetDirectories%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateDirectories%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetDirectories%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-279">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateDirectories%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-279">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateDirectories%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-280">未缓存返回的集合;对集合中的 <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> 的每个调用都将启动一个新枚举。</span><span class="sxs-lookup"><span data-stu-id="994d2-280">The returned collection is not cached; each call to the <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> on the collection will start a new enumeration.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-281">下面的示例枚举指定路径中的顶层目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-281">The following example enumerates the top-level directories in a specified path.</span></span>  
  
 [!code-csharp[System.IO.EnumDirs1#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.io.enumdirs1/cs/program.cs#1)]
 [!code-vb[System.IO.EnumDirs1#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.io.enumdirs1/vb/program.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-282"><paramref name="path" /> 是一个长度为零的字符串，仅包含空格，或包含无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-282"><paramref name="path" /> is a zero-length string, contains only white space, or contains invalid characters.</span></span> <span data-ttu-id="994d2-283">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-283">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-284"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-284"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-285"><paramref name="path" /> 无效，如引用未映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="994d2-285"><paramref name="path" /> is invalid, such as referring to an unmapped drive.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-286"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-286"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-287">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-287">The specified path, file name, or combined exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="994d2-288">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-288">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-289">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-289">The caller does not have the required permission.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="EnumerateDirectories">
      <MemberSignature Language="C#" Value="public static System.Collections.Generic.IEnumerable&lt;string&gt; EnumerateDirectories (string path, string searchPattern);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Collections.Generic.IEnumerable`1&lt;string&gt; EnumerateDirectories(string path, string searchPattern) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.EnumerateDirectories(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function EnumerateDirectories (path As String, searchPattern As String) As IEnumerable(Of String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Collections::Generic::IEnumerable&lt;System::String ^&gt; ^ EnumerateDirectories(System::String ^ path, System::String ^ searchPattern);" />
      <MemberSignature Language="F#" Value="static member EnumerateDirectories : string * string -&gt; seq&lt;string&gt;" Usage="System.IO.Directory.EnumerateDirectories (path, searchPattern)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IEnumerable&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-290">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-290">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-291">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-291">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-292">要与 <paramref name="path" /> 中的目录名称匹配的搜索字符串成。</span><span class="sxs-lookup"><span data-stu-id="994d2-292">The search string to match against the names of directories in <paramref name="path" />.</span></span>  <span data-ttu-id="994d2-293">此参数可以包含有效文本路径和通配符（\* 和 ?）的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-293">This parameter can contain a combination of valid literal path and wildcard (\* and ?) characters, but it doesn't support regular expressions.</span></span></param>
        <summary><span data-ttu-id="994d2-294">返回指定路径中与搜索模式匹配的目录完整名称的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-294">Returns an enumerable collection of directory full names that match a search pattern in a specified path.</span></span></summary>
        <returns><span data-ttu-id="994d2-295"><paramref name="path" /> 指定且与指定的搜索模式相匹配的目录中的文件的全名（包括路径）的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-295">An enumerable collection of the full names (including paths) for the directories in the directory specified by <paramref name="path" /> and that match the specified search pattern.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-296">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-296">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-297">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-297">The following wildcard specifiers are permitted in `searchPattern`.</span></span>  
  
|<span data-ttu-id="994d2-298">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-298">Wildcard specifier</span></span>|<span data-ttu-id="994d2-299">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-299">Matches</span></span>|  
|------------------------|-------------|  
|<span data-ttu-id="994d2-300">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-300">\* (asterisk)</span></span>|<span data-ttu-id="994d2-301">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-301">Zero or more characters in that position.</span></span>|  
|<span data-ttu-id="994d2-302">?</span><span class="sxs-lookup"><span data-stu-id="994d2-302">?</span></span> <span data-ttu-id="994d2-303">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-303">(question mark)</span></span>|<span data-ttu-id="994d2-304">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-304">Zero or one character in that position.</span></span>|  
  
 <span data-ttu-id="994d2-305">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-305">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-306">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-306">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-307">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-307">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>  
  
 <span data-ttu-id="994d2-308">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-308">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-309">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-309">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>  
  
 <span data-ttu-id="994d2-310">可以在 `path` 参数中指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-310">You can specify relative or absolute path information in the `path` parameter.</span></span> <span data-ttu-id="994d2-311">相对路径信息被解释为相对于当前工作目录，您可以使用 <xref:System.IO.Directory.GetCurrentDirectory%2A> 方法来确定。</span><span class="sxs-lookup"><span data-stu-id="994d2-311">Relative path information is interpreted as relative to the current working directory, which you can determine by using the <xref:System.IO.Directory.GetCurrentDirectory%2A> method.</span></span> <span data-ttu-id="994d2-312">返回的目录名称以你在 `path` 参数中提供的值为前缀。</span><span class="sxs-lookup"><span data-stu-id="994d2-312">The returned directory names are prefixed with the value you provided in the `path` parameter.</span></span> <span data-ttu-id="994d2-313">例如，如果在 `path` 参数中提供了相对路径，则返回的目录名称将包含相对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-313">For example, if you provide a relative path in the `path` parameter, the returned directory names will contain a relative path.</span></span>  
  
 <span data-ttu-id="994d2-314"><xref:System.IO.Directory.EnumerateDirectories%2A> 和 <xref:System.IO.Directory.GetDirectories%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateDirectories%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetDirectories%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-314">The <xref:System.IO.Directory.EnumerateDirectories%2A> and <xref:System.IO.Directory.GetDirectories%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateDirectories%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetDirectories%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-315">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateDirectories%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-315">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateDirectories%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-316">未缓存返回的集合;对集合中的 <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> 的每个调用都将启动一个新枚举。</span><span class="sxs-lookup"><span data-stu-id="994d2-316">The returned collection is not cached; each call to the <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> on the collection will start a new enumeration.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-317">下面的示例在指定路径中枚举与指定的搜索模式匹配的顶层目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-317">The following example enumerates the top-level directories in a specified path that match a specified search pattern.</span></span>  
  
 [!code-csharp[System.IO.EnumDirs2#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.io.enumdirs2/cs/program.cs#1)]
 [!code-vb[System.IO.EnumDirs2#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.io.enumdirs2/vb/program.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-318"><paramref name="path" /> 是一个长度为零的字符串，仅包含空格，或包含无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-318"><paramref name="path" /> is a zero-length string, contains only white space, or contains invalid characters.</span></span> <span data-ttu-id="994d2-319">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-319">You can query for invalid characters with the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-320">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-320">-or-</span></span> 
 <span data-ttu-id="994d2-321"><paramref name="searchPattern" /> 不包含有效模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-321"><paramref name="searchPattern" /> does not contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-322"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-322"><paramref name="path" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="994d2-323">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-323">-or-</span></span> 
 <span data-ttu-id="994d2-324"><paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-324"><paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-325"><paramref name="path" /> 无效，如引用未映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="994d2-325"><paramref name="path" /> is invalid, such as referring to an unmapped drive.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-326"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-326"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-327">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-327">The specified path, file name, or combined exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="994d2-328">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-328">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-329">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-329">The caller does not have the required permission.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="EnumerateDirectories">
      <MemberSignature Language="C#" Value="public static System.Collections.Generic.IEnumerable&lt;string&gt; EnumerateDirectories (string path, string searchPattern, System.IO.EnumerationOptions enumerationOptions);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Collections.Generic.IEnumerable`1&lt;string&gt; EnumerateDirectories(string path, string searchPattern, class System.IO.EnumerationOptions enumerationOptions) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.EnumerateDirectories(System.String,System.String,System.IO.EnumerationOptions)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Collections::Generic::IEnumerable&lt;System::String ^&gt; ^ EnumerateDirectories(System::String ^ path, System::String ^ searchPattern, System::IO::EnumerationOptions ^ enumerationOptions);" />
      <MemberSignature Language="F#" Value="static member EnumerateDirectories : string * string * System.IO.EnumerationOptions -&gt; seq&lt;string&gt;" Usage="System.IO.Directory.EnumerateDirectories (path, searchPattern, enumerationOptions)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IEnumerable&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
        <Parameter Name="enumerationOptions" Type="System.IO.EnumerationOptions" Index="2" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-330">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-330">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-331">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-331">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-332">要与 <paramref name="path" /> 中的目录名称匹配的搜索字符串成。</span><span class="sxs-lookup"><span data-stu-id="994d2-332">The search string to match against the names of directories in <paramref name="path" />.</span></span>  <span data-ttu-id="994d2-333">此参数可以包含有效文本路径和通配符（\* 和 ?）的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-333">This parameter can contain a combination of valid literal path and wildcard (\* and ?) characters, but it doesn't support regular expressions.</span></span></param>
        <param name="enumerationOptions"><span data-ttu-id="994d2-334">描述要使用的搜索和枚举配置的对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-334">An object that describes the search and enumeration configuration to use.</span></span></param>
        <summary><span data-ttu-id="994d2-335">返回指定路径中与搜索模式匹配的目录完整名称的可枚举集合，还可搜索子目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-335">Returns an enumerable collection of the directory full names that match a search pattern in a specified path, and optionally searches subdirectories.</span></span></summary>
        <returns><span data-ttu-id="994d2-336">一个可枚举集合，它包含 <paramref name="path" /> 指定的目录中与指定的搜索模式和枚举选项匹配的目录的完整名称（包括路径）。</span><span class="sxs-lookup"><span data-stu-id="994d2-336">An enumerable collection of the full names (including paths) for the directories in the directory specified by <paramref name="path" /> and that match the specified search pattern and enumeration options.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-337">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-337">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-338">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-338">The following wildcard specifiers are permitted in `searchPattern`.</span></span>

|<span data-ttu-id="994d2-339">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-339">Wildcard specifier</span></span>|<span data-ttu-id="994d2-340">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-340">Matches</span></span>|
|------------------------|-------------|
|<span data-ttu-id="994d2-341">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-341">\* (asterisk)</span></span>|<span data-ttu-id="994d2-342">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-342">Zero or more characters in that position.</span></span>|
|<span data-ttu-id="994d2-343">?</span><span class="sxs-lookup"><span data-stu-id="994d2-343">?</span></span> <span data-ttu-id="994d2-344">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-344">(question mark)</span></span>|<span data-ttu-id="994d2-345">此位置正好有一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-345">Exactly one character in that position.</span></span>|

 <span data-ttu-id="994d2-346">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-346">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-347">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-347">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-348">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-348">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>

 <span data-ttu-id="994d2-349">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-349">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-350">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-350">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>

 <span data-ttu-id="994d2-351">可以在 `path` 参数中指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-351">You can specify relative or absolute path information in the `path` parameter.</span></span> <span data-ttu-id="994d2-352">相对路径信息被解释为相对于当前工作目录，您可以使用 <xref:System.IO.Directory.GetCurrentDirectory%2A> 方法来确定。</span><span class="sxs-lookup"><span data-stu-id="994d2-352">Relative path information is interpreted as relative to the current working directory, which you can determine by using the <xref:System.IO.Directory.GetCurrentDirectory%2A> method.</span></span> <span data-ttu-id="994d2-353">返回的目录名称以你在 `path` 参数中提供的值为前缀。</span><span class="sxs-lookup"><span data-stu-id="994d2-353">The returned directory names are prefixed with the value you provided in the `path` parameter.</span></span> <span data-ttu-id="994d2-354">例如，如果在 `path` 参数中提供了相对路径，则返回的目录名称将包含相对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-354">For example, if you provide a relative path in the `path` parameter, the returned directory names will contain a relative path.</span></span>

 <span data-ttu-id="994d2-355"><xref:System.IO.Directory.EnumerateDirectories%2A> 和 <xref:System.IO.Directory.GetDirectories%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateDirectories%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetDirectories%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-355">The <xref:System.IO.Directory.EnumerateDirectories%2A> and <xref:System.IO.Directory.GetDirectories%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateDirectories%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetDirectories%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-356">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateDirectories%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-356">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateDirectories%2A> can be more efficient.</span></span>

 <span data-ttu-id="994d2-357">未缓存返回的集合;对集合中的 <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> 的每个调用都将启动一个新枚举。</span><span class="sxs-lookup"><span data-stu-id="994d2-357">The returned collection is not cached; each call to the <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> on the collection will start a new enumeration.</span></span>
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-358"><paramref name="path" /> 是一个长度为零的字符串，仅包含空格，或包含无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-358"><paramref name="path" /> is a zero-length string, contains only white space, or contains invalid characters.</span></span> <span data-ttu-id="994d2-359">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-359">You can query for invalid characters by using the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-360">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-360">-or-</span></span> 
 <span data-ttu-id="994d2-361"><paramref name="searchPattern" /> 不包含有效模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-361"><paramref name="searchPattern" /> does not contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-362"><paramref name="path" /> 或 <paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-362"><paramref name="path" /> or <paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-363"><paramref name="searchOption" /> 不是有效的 <see cref="T:System.IO.SearchOption" /> 值。</span><span class="sxs-lookup"><span data-stu-id="994d2-363"><paramref name="searchOption" /> is not a valid <see cref="T:System.IO.SearchOption" /> value.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-364"><paramref name="path" /> 无效，如引用未映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="994d2-364"><paramref name="path" /> is invalid, such as referring to an unmapped drive.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-365"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-365"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-366">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-366">The specified path, file name, or combined exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="994d2-367">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-367">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-368">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-368">The caller does not have the required permission.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="EnumerateDirectories">
      <MemberSignature Language="C#" Value="public static System.Collections.Generic.IEnumerable&lt;string&gt; EnumerateDirectories (string path, string searchPattern, System.IO.SearchOption searchOption);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Collections.Generic.IEnumerable`1&lt;string&gt; EnumerateDirectories(string path, string searchPattern, valuetype System.IO.SearchOption searchOption) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.EnumerateDirectories(System.String,System.String,System.IO.SearchOption)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Collections::Generic::IEnumerable&lt;System::String ^&gt; ^ EnumerateDirectories(System::String ^ path, System::String ^ searchPattern, System::IO::SearchOption searchOption);" />
      <MemberSignature Language="F#" Value="static member EnumerateDirectories : string * string * System.IO.SearchOption -&gt; seq&lt;string&gt;" Usage="System.IO.Directory.EnumerateDirectories (path, searchPattern, searchOption)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IEnumerable&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchOption" Type="System.IO.SearchOption" Index="2" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-369">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-369">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-370">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-370">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-371">要与 <paramref name="path" /> 中的目录名称匹配的搜索字符串成。</span><span class="sxs-lookup"><span data-stu-id="994d2-371">The search string to match against the names of directories in <paramref name="path" />.</span></span>  <span data-ttu-id="994d2-372">此参数可以包含有效文本路径和通配符（\* 和 ?）的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-372">This parameter can contain a combination of valid literal path and wildcard (\* and ?) characters, but it doesn't support regular expressions.</span></span></param>
        <param name="searchOption"><span data-ttu-id="994d2-373">指定搜索操作是应仅包含当前目录还是应包含所有子目录的枚举值之一。</span><span class="sxs-lookup"><span data-stu-id="994d2-373">One of the enumeration values that specifies whether the search operation should include only the current directory or should include all subdirectories.</span></span> <span data-ttu-id="994d2-374">默认值是 <see cref="F:System.IO.SearchOption.TopDirectoryOnly" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-374">The default value is <see cref="F:System.IO.SearchOption.TopDirectoryOnly" />.</span></span></param>
        <summary><span data-ttu-id="994d2-375">返回指定路径中与搜索模式匹配的目录完整名称的可枚举集合，还可搜索子目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-375">Returns an enumerable collection of directory full names that match a search pattern in a specified path, and optionally searches subdirectories.</span></span></summary>
        <returns><span data-ttu-id="994d2-376">一个可枚举集合，它包含 <paramref name="path" /> 指定的目录中与指定的搜索模式和搜索选项匹配的目录的完整名称（包括路径）。</span><span class="sxs-lookup"><span data-stu-id="994d2-376">An enumerable collection of the full names (including paths) for the directories in the directory specified by <paramref name="path" /> and that match the specified search pattern and search option.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-377">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-377">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-378">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-378">The following wildcard specifiers are permitted in `searchPattern`.</span></span>  
  
|<span data-ttu-id="994d2-379">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-379">Wildcard specifier</span></span>|<span data-ttu-id="994d2-380">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-380">Matches</span></span>|  
|------------------------|-------------|  
|<span data-ttu-id="994d2-381">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-381">\* (asterisk)</span></span>|<span data-ttu-id="994d2-382">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-382">Zero or more characters in that position.</span></span>|  
|<span data-ttu-id="994d2-383">?</span><span class="sxs-lookup"><span data-stu-id="994d2-383">?</span></span> <span data-ttu-id="994d2-384">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-384">(question mark)</span></span>|<span data-ttu-id="994d2-385">此位置正好有一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-385">Exactly one character in that position.</span></span>|  
  
 <span data-ttu-id="994d2-386">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-386">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-387">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-387">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-388">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-388">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>  
  
 <span data-ttu-id="994d2-389">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-389">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-390">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-390">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>  
  
 <span data-ttu-id="994d2-391">可以在 `path` 参数中指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-391">You can specify relative or absolute path information in the `path` parameter.</span></span> <span data-ttu-id="994d2-392">相对路径信息被解释为相对于当前工作目录，您可以使用 <xref:System.IO.Directory.GetCurrentDirectory%2A> 方法来确定。</span><span class="sxs-lookup"><span data-stu-id="994d2-392">Relative path information is interpreted as relative to the current working directory, which you can determine by using the <xref:System.IO.Directory.GetCurrentDirectory%2A> method.</span></span> <span data-ttu-id="994d2-393">返回的目录名称以你在 `path` 参数中提供的值为前缀。</span><span class="sxs-lookup"><span data-stu-id="994d2-393">The returned directory names are prefixed with the value you provided in the `path` parameter.</span></span> <span data-ttu-id="994d2-394">例如，如果在 `path` 参数中提供了相对路径，则返回的目录名称将包含相对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-394">For example, if you provide a relative path in the `path` parameter, the returned directory names will contain a relative path.</span></span>  
  
 <span data-ttu-id="994d2-395"><xref:System.IO.Directory.EnumerateDirectories%2A> 和 <xref:System.IO.Directory.GetDirectories%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateDirectories%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetDirectories%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-395">The <xref:System.IO.Directory.EnumerateDirectories%2A> and <xref:System.IO.Directory.GetDirectories%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateDirectories%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetDirectories%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-396">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateDirectories%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-396">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateDirectories%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-397">未缓存返回的集合;对集合中的 <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> 的每个调用都将启动一个新枚举。</span><span class="sxs-lookup"><span data-stu-id="994d2-397">The returned collection is not cached; each call to the <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> on the collection will start a new enumeration.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-398">下面的示例在指定路径中枚举与指定的搜索模式匹配的目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-398">The following example enumerates directories in a specified path that match a specified search pattern.</span></span> <span data-ttu-id="994d2-399">它使用 `searchOption` 参数来指定搜索中应包括所有子目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-399">It uses the `searchOption` parameter to specify that all subdirectories should be included in the search.</span></span>  
  
 [!code-csharp[System.IO.EnumDirs3#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.io.enumdirs3/cs/program.cs#1)]
 [!code-vb[System.IO.EnumDirs3#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.io.enumdirs3/vb/program.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-400"><paramref name="path" /> 是一个长度为零的字符串，仅包含空格，或包含无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-400"><paramref name="path" /> is a zero-length string, contains only white space, or contains invalid characters.</span></span> <span data-ttu-id="994d2-401">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-401">You can query for invalid characters by using the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-402">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-402">-or-</span></span> 
 <span data-ttu-id="994d2-403"><paramref name="searchPattern" /> 不包含有效模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-403"><paramref name="searchPattern" /> does not contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-404"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-404"><paramref name="path" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="994d2-405">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-405">-or-</span></span> 
 <span data-ttu-id="994d2-406"><paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-406"><paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-407"><paramref name="searchOption" /> 不是有效的 <see cref="T:System.IO.SearchOption" /> 值。</span><span class="sxs-lookup"><span data-stu-id="994d2-407"><paramref name="searchOption" /> is not a valid <see cref="T:System.IO.SearchOption" /> value.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-408"><paramref name="path" /> 无效，如引用未映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="994d2-408"><paramref name="path" /> is invalid, such as referring to an unmapped drive.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-409"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-409"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-410">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-410">The specified path, file name, or combined exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="994d2-411">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-411">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-412">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-412">The caller does not have the required permission.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="EnumerateFiles">
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="994d2-413">返回满足指定条件的完整文件名的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-413">Returns an enumerable collection of full file names that meet specified criteria.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="EnumerateFiles">
      <MemberSignature Language="C#" Value="public static System.Collections.Generic.IEnumerable&lt;string&gt; EnumerateFiles (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Collections.Generic.IEnumerable`1&lt;string&gt; EnumerateFiles(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.EnumerateFiles(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function EnumerateFiles (path As String) As IEnumerable(Of String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Collections::Generic::IEnumerable&lt;System::String ^&gt; ^ EnumerateFiles(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member EnumerateFiles : string -&gt; seq&lt;string&gt;" Usage="System.IO.Directory.EnumerateFiles path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IEnumerable&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-414">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-414">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-415">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-415">This string is not case-sensitive.</span></span></param>
        <summary><span data-ttu-id="994d2-416">返回指定路径中的完整文件名的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-416">Returns an enumerable collection of full file names in a specified path.</span></span></summary>
        <returns><span data-ttu-id="994d2-417">一个可枚举集合，它包含目录中 <paramref name="path" /> 指定的文件的完整名称（包括路径）。</span><span class="sxs-lookup"><span data-stu-id="994d2-417">An enumerable collection of the full names (including paths) for the files in the directory specified by <paramref name="path" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-418">可以指定具有 `path` 参数的相对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-418">You can specify relative path information with the `path` parameter.</span></span> <span data-ttu-id="994d2-419">相对路径信息被解释为相对于当前工作目录，您可以使用 <xref:System.IO.Directory.GetCurrentDirectory%2A> 方法来确定。</span><span class="sxs-lookup"><span data-stu-id="994d2-419">Relative path information is interpreted as relative to the current working directory, which you can determine by using the <xref:System.IO.Directory.GetCurrentDirectory%2A> method.</span></span>  
  
 <span data-ttu-id="994d2-420"><xref:System.IO.Directory.EnumerateFiles%2A> 和 <xref:System.IO.Directory.GetFiles%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateFiles%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetFiles%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-420">The <xref:System.IO.Directory.EnumerateFiles%2A> and <xref:System.IO.Directory.GetFiles%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateFiles%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetFiles%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-421">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateFiles%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-421">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateFiles%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-422">未缓存返回的集合;对集合中的 <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> 的每个调用都将启动一个新枚举。</span><span class="sxs-lookup"><span data-stu-id="994d2-422">The returned collection is not cached; each call to the <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> on the collection will start a new enumeration.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-423">下面的示例演示如何检索目录中的所有文件并将其移到新目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-423">The following example shows how to retrieve all the files in a directory and move them to a new directory.</span></span> <span data-ttu-id="994d2-424">文件移动后，它们将不再存在于原始目录中。</span><span class="sxs-lookup"><span data-stu-id="994d2-424">After the files are moved, they no longer exist in the original directory.</span></span>  
  
 [!code-csharp[System.IO.Directory#12](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.Directory/CS/class4.cs#12)]
 [!code-vb[System.IO.Directory#12](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.Directory/VB/class4.vb#12)]  
  
 <span data-ttu-id="994d2-425">下面的示例将枚举指定目录中的文件，读取文件的每一行，并在包含字符串 "欧洲" 时显示行。</span><span class="sxs-lookup"><span data-stu-id="994d2-425">The following example enumerates the files in the specified directory, reads each line of the file, and displays the line if it contains the string "Europe".</span></span>  
  
 [!code-csharp[System.IO.Directory.EnumFiles#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.io.directory.enumfiles/cs/program.cs#1)]
 [!code-vb[System.IO.Directory.EnumFiles#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.io.directory.enumfiles/vb/module1.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-426"><paramref name="path" /> 是一个长度为零的字符串，仅包含空格，或包含无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-426"><paramref name="path" /> is a zero-length string, contains only white space, or contains invalid characters.</span></span> <span data-ttu-id="994d2-427">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-427">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-428"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-428"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-429"><paramref name="path" /> 无效，如引用未映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="994d2-429"><paramref name="path" /> is invalid, such as referring to an unmapped drive.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-430"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-430"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-431">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-431">The specified path, file name, or combined exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="994d2-432">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-432">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-433">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-433">The caller does not have the required permission.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="EnumerateFiles">
      <MemberSignature Language="C#" Value="public static System.Collections.Generic.IEnumerable&lt;string&gt; EnumerateFiles (string path, string searchPattern);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Collections.Generic.IEnumerable`1&lt;string&gt; EnumerateFiles(string path, string searchPattern) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.EnumerateFiles(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function EnumerateFiles (path As String, searchPattern As String) As IEnumerable(Of String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Collections::Generic::IEnumerable&lt;System::String ^&gt; ^ EnumerateFiles(System::String ^ path, System::String ^ searchPattern);" />
      <MemberSignature Language="F#" Value="static member EnumerateFiles : string * string -&gt; seq&lt;string&gt;" Usage="System.IO.Directory.EnumerateFiles (path, searchPattern)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IEnumerable&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-434">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-434">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-435">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-435">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-436">要与 <paramref name="path" /> 中的文件名匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-436">The search string to match against the names of files in <paramref name="path" />.</span></span>  <span data-ttu-id="994d2-437">此参数可以包含有效文本路径和通配符（\* 和 ?）的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-437">This parameter can contain a combination of valid literal path and wildcard (\* and ?) characters, but it doesn't support regular expressions.</span></span></param>
        <summary><span data-ttu-id="994d2-438">返回指定路径中与搜索模式匹配的完整文件名的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-438">Returns an enumerable collection of full file names that match a search pattern in a specified path.</span></span></summary>
        <returns><span data-ttu-id="994d2-439"><paramref name="path" /> 指定且与指定的搜索模式相匹配的目录中的文件的全名（包括路径）的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-439">An enumerable collection of the full names (including paths) for the files in the directory specified by <paramref name="path" /> and that match the specified search pattern.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-440">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-440">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-441">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-441">The following wildcard specifiers are permitted in `searchPattern`.</span></span>  
  
|<span data-ttu-id="994d2-442">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-442">Wildcard specifier</span></span>|<span data-ttu-id="994d2-443">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-443">Matches</span></span>|  
|------------------------|-------------|  
|<span data-ttu-id="994d2-444">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-444">\* (asterisk)</span></span>|<span data-ttu-id="994d2-445">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-445">Zero or more characters in that position.</span></span>|  
|<span data-ttu-id="994d2-446">?</span><span class="sxs-lookup"><span data-stu-id="994d2-446">?</span></span> <span data-ttu-id="994d2-447">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-447">(question mark)</span></span>|<span data-ttu-id="994d2-448">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-448">Zero or one character in that position.</span></span>|  
  
 <span data-ttu-id="994d2-449">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-449">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-450">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-450">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-451">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-451">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="994d2-452">如果在 `searchPattern` 如 "\*.txt" 中使用星号通配符，则指定扩展中的字符数将影响搜索，如下所示：</span><span class="sxs-lookup"><span data-stu-id="994d2-452">When you use the asterisk wildcard character in a `searchPattern` such as "\*.txt", the number of characters in the specified extension affects the search as follows:</span></span>  
>   
> -   <span data-ttu-id="994d2-453">如果指定的扩展长度恰好为三个字符，则该方法将返回扩展名以指定扩展名开头的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-453">If the specified extension is exactly three characters long, the method returns files with extensions that begin with the specified extension.</span></span> <span data-ttu-id="994d2-454">例如，"\*.xls" 同时返回 "node.js" 和 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-454">For example, "\*.xls" returns both "book.xls" and "book.xlsx".</span></span>  
> -   <span data-ttu-id="994d2-455">在所有其他情况下，该方法将返回完全与指定扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-455">In all other cases, the method returns files that exactly match the specified extension.</span></span> <span data-ttu-id="994d2-456">例如，"\*" 将返回 "file.ai"，而不是 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-456">For example, "\*.ai" returns "file.ai" but not "file.aif".</span></span>  
>   
>  <span data-ttu-id="994d2-457">使用问号通配符时，此方法只返回与指定文件扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-457">When you use the question mark wildcard character, this method returns only files that match the specified file extension.</span></span> <span data-ttu-id="994d2-458">例如，给定两个文件： "file1" 和 "txtother"，在目录中，"文件？" 的搜索模式。txt "只返回第一个文件，而" file\*.txt "的搜索模式返回这两个文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-458">For example, given two files, "file1.txt" and "file1.txtother", in a directory, a search pattern of "file?.txt" returns just the first file, whereas a search pattern of "file\*.txt" returns both files.</span></span>  
  
 <span data-ttu-id="994d2-459">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-459">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-460">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-460">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>  
  
 <span data-ttu-id="994d2-461">可以指定具有 `path` 参数的相对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-461">You can specify relative path information with the `path` parameter.</span></span> <span data-ttu-id="994d2-462">相对路径信息被解释为相对于当前工作目录，您可以使用 <xref:System.IO.Directory.GetCurrentDirectory%2A> 方法来确定。</span><span class="sxs-lookup"><span data-stu-id="994d2-462">Relative path information is interpreted as relative to the current working directory, which you can determine by using the <xref:System.IO.Directory.GetCurrentDirectory%2A> method.</span></span>  
  
 <span data-ttu-id="994d2-463"><xref:System.IO.Directory.EnumerateFiles%2A> 和 <xref:System.IO.Directory.GetFiles%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateFiles%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetFiles%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-463">The <xref:System.IO.Directory.EnumerateFiles%2A> and <xref:System.IO.Directory.GetFiles%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateFiles%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetFiles%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-464">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateFiles%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-464">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateFiles%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-465">未缓存返回的集合;对集合中的 <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> 的每个调用都将启动一个新枚举。</span><span class="sxs-lookup"><span data-stu-id="994d2-465">The returned collection is not cached; each call to the <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> on the collection will start a new enumeration.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-466">下面的示例演示如何检索目录中的所有文本文件，并将其移动到新目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-466">The following example shows how to retrieve all the text files in a directory and move them to a new directory.</span></span> <span data-ttu-id="994d2-467">文件移动后，它们将不再存在于原始目录中。</span><span class="sxs-lookup"><span data-stu-id="994d2-467">After the files are moved, they no longer exist in the original directory.</span></span>  
  
 [!code-csharp[System.IO.Directory#10](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.Directory/CS/class2.cs#10)]
 [!code-vb[System.IO.Directory#10](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.Directory/VB/class2.vb#10)]  
  
 <span data-ttu-id="994d2-468">下面的示例将枚举具有 .txt 扩展名的指定目录中的文件，并读取该文件的每一行，如果该行包含字符串 "欧洲"，则会显示该行。</span><span class="sxs-lookup"><span data-stu-id="994d2-468">The following example enumerates the files in the specified directory that have a .txt extension, reads each line of the file, and displays the line if it contains the string "Europe".</span></span>  
  
 [!code-csharp[System.IO.Directory.EnumFiles2#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.io.directory.enumfiles2/cs/program.cs#1)]
 [!code-vb[System.IO.Directory.EnumFiles2#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.io.directory.enumfiles2/vb/module1.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-469"><paramref name="path" /> 是一个长度为零的字符串，仅包含空格，或包含无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-469"><paramref name="path" /> is a zero-length string, contains only white space, or contains invalid characters.</span></span> <span data-ttu-id="994d2-470">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-470">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-471">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-471">-or-</span></span> 
 <span data-ttu-id="994d2-472"><paramref name="searchPattern" /> 不包含有效模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-472"><paramref name="searchPattern" /> does not contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-473"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-473"><paramref name="path" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="994d2-474">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-474">-or-</span></span> 
 <span data-ttu-id="994d2-475"><paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-475"><paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-476"><paramref name="path" /> 无效，如引用未映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="994d2-476"><paramref name="path" /> is invalid, such as referring to an unmapped drive.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-477"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-477"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-478">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-478">The specified path, file name, or combined exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="994d2-479">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-479">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-480">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-480">The caller does not have the required permission.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="EnumerateFiles">
      <MemberSignature Language="C#" Value="public static System.Collections.Generic.IEnumerable&lt;string&gt; EnumerateFiles (string path, string searchPattern, System.IO.EnumerationOptions enumerationOptions);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Collections.Generic.IEnumerable`1&lt;string&gt; EnumerateFiles(string path, string searchPattern, class System.IO.EnumerationOptions enumerationOptions) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.EnumerateFiles(System.String,System.String,System.IO.EnumerationOptions)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Collections::Generic::IEnumerable&lt;System::String ^&gt; ^ EnumerateFiles(System::String ^ path, System::String ^ searchPattern, System::IO::EnumerationOptions ^ enumerationOptions);" />
      <MemberSignature Language="F#" Value="static member EnumerateFiles : string * string * System.IO.EnumerationOptions -&gt; seq&lt;string&gt;" Usage="System.IO.Directory.EnumerateFiles (path, searchPattern, enumerationOptions)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IEnumerable&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
        <Parameter Name="enumerationOptions" Type="System.IO.EnumerationOptions" Index="2" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-481">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-481">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-482">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-482">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-483">要与 <paramref name="path" /> 中的文件名匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-483">The search string to match against the names of files in <paramref name="path" />.</span></span>  <span data-ttu-id="994d2-484">此参数可以包含有效文本路径和通配符（\* 和 ?）的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-484">This parameter can contain a combination of valid literal path and wildcard (\* and ?) characters, but it doesn't support regular expressions.</span></span></param>
        <param name="enumerationOptions"><span data-ttu-id="994d2-485">描述要使用的搜索和枚举配置的对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-485">An object that describes the search and enumeration configuration to use.</span></span></param>
        <summary><span data-ttu-id="994d2-486">返回指定路径中与搜索模式和枚举选项匹配的完整文件名的可枚举集合，还可以搜索子目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-486">Returns an enumerable collection of full file names that match a search pattern and enumeration options in a specified path, and optionally searches subdirectories.</span></span></summary>
        <returns><span data-ttu-id="994d2-487">一个可枚举集合，它包含 <paramref name="path" /> 指定的目录中与指定的搜索模式和枚举选项匹配的文件的完整名称（包括路径）。</span><span class="sxs-lookup"><span data-stu-id="994d2-487">An enumerable collection of the full names (including paths) for the files in the directory specified by <paramref name="path" /> and that match the specified search pattern and enumeration options.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-488">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-488">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-489">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-489">The following wildcard specifiers are permitted in `searchPattern`.</span></span>

|<span data-ttu-id="994d2-490">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-490">Wildcard specifier</span></span>|<span data-ttu-id="994d2-491">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-491">Matches</span></span>|
|------------------------|-------------|
|<span data-ttu-id="994d2-492">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-492">\* (asterisk)</span></span>|<span data-ttu-id="994d2-493">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-493">Zero or more characters in that position.</span></span>|
|<span data-ttu-id="994d2-494">?</span><span class="sxs-lookup"><span data-stu-id="994d2-494">?</span></span> <span data-ttu-id="994d2-495">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-495">(question mark)</span></span>|<span data-ttu-id="994d2-496">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-496">Zero or one character in that position.</span></span>|

 <span data-ttu-id="994d2-497">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-497">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-498">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-498">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-499">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-499">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>

> [!NOTE]
>  <span data-ttu-id="994d2-500">如果在 `searchPattern` 如 "\*.txt" 中使用星号通配符，则指定扩展中的字符数将影响搜索，如下所示：</span><span class="sxs-lookup"><span data-stu-id="994d2-500">When you use the asterisk wildcard character in a `searchPattern` such as "\*.txt", the number of characters in the specified extension affects the search as follows:</span></span>
> 
> -   <span data-ttu-id="994d2-501">如果指定的扩展长度恰好为三个字符，则该方法将返回扩展名以指定扩展名开头的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-501">If the specified extension is exactly three characters long, the method returns files with extensions that begin with the specified extension.</span></span> <span data-ttu-id="994d2-502">例如，"\*.xls" 同时返回 "node.js" 和 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-502">For example, "\*.xls" returns both "book.xls" and "book.xlsx".</span></span>
> -   <span data-ttu-id="994d2-503">在所有其他情况下，该方法将返回完全与指定扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-503">In all other cases, the method returns files that exactly match the specified extension.</span></span> <span data-ttu-id="994d2-504">例如，"\*" 将返回 "file.ai"，而不是 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-504">For example, "\*.ai" returns "file.ai" but not "file.aif".</span></span>
> 
>  <span data-ttu-id="994d2-505">使用问号通配符时，此方法只返回与指定文件扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-505">When you use the question mark wildcard character, this method returns only files that match the specified file extension.</span></span> <span data-ttu-id="994d2-506">例如，给定两个文件： "file1" 和 "txtother"，在目录中，"文件？" 的搜索模式。txt "只返回第一个文件，而" file\*.txt "的搜索模式返回这两个文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-506">For example, given two files, "file1.txt" and "file1.txtother", in a directory, a search pattern of "file?.txt" returns just the first file, whereas a search pattern of "file\*.txt" returns both files.</span></span>

 <span data-ttu-id="994d2-507">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-507">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-508">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-508">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>

 <span data-ttu-id="994d2-509">可以指定具有 `path` 参数的相对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-509">You can specify relative path information with the `path` parameter.</span></span> <span data-ttu-id="994d2-510">相对路径信息被解释为相对于当前工作目录，您可以使用 <xref:System.IO.Directory.GetCurrentDirectory%2A> 方法来确定。</span><span class="sxs-lookup"><span data-stu-id="994d2-510">Relative path information is interpreted as relative to the current working directory, which you can determine by using the <xref:System.IO.Directory.GetCurrentDirectory%2A> method.</span></span>

 <span data-ttu-id="994d2-511"><xref:System.IO.Directory.EnumerateFiles%2A> 和 <xref:System.IO.Directory.GetFiles%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateFiles%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetFiles%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-511">The <xref:System.IO.Directory.EnumerateFiles%2A> and <xref:System.IO.Directory.GetFiles%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateFiles%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetFiles%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-512">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateFiles%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-512">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateFiles%2A> can be more efficient.</span></span>

 <span data-ttu-id="994d2-513">未缓存返回的集合;对集合中的 <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> 的每个调用都将启动一个新枚举。</span><span class="sxs-lookup"><span data-stu-id="994d2-513">The returned collection is not cached; each call to the <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> on the collection will start a new enumeration.</span></span>
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-514"><paramref name="path" /> 是一个长度为零的字符串，仅包含空格，或包含无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-514"><paramref name="path" /> is a zero-length string, contains only white space, or contains invalid characters.</span></span> <span data-ttu-id="994d2-515">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-515">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-516">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-516">-or-</span></span> 
 <span data-ttu-id="994d2-517"><paramref name="searchPattern" /> 不包含有效模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-517"><paramref name="searchPattern" /> does not contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-518"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-518"><paramref name="path" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="994d2-519">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-519">-or-</span></span> 
 <span data-ttu-id="994d2-520"><paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-520"><paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-521"><paramref name="searchOption" /> 不是有效的 <see cref="T:System.IO.SearchOption" /> 值。</span><span class="sxs-lookup"><span data-stu-id="994d2-521"><paramref name="searchOption" /> is not a valid <see cref="T:System.IO.SearchOption" /> value.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-522"><paramref name="path" /> 无效，如引用未映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="994d2-522"><paramref name="path" /> is invalid, such as referring to an unmapped drive.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-523"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-523"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-524">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-524">The specified path, file name, or combined exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-525">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-525">The caller does not have the required permission.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="EnumerateFiles">
      <MemberSignature Language="C#" Value="public static System.Collections.Generic.IEnumerable&lt;string&gt; EnumerateFiles (string path, string searchPattern, System.IO.SearchOption searchOption);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Collections.Generic.IEnumerable`1&lt;string&gt; EnumerateFiles(string path, string searchPattern, valuetype System.IO.SearchOption searchOption) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.EnumerateFiles(System.String,System.String,System.IO.SearchOption)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Collections::Generic::IEnumerable&lt;System::String ^&gt; ^ EnumerateFiles(System::String ^ path, System::String ^ searchPattern, System::IO::SearchOption searchOption);" />
      <MemberSignature Language="F#" Value="static member EnumerateFiles : string * string * System.IO.SearchOption -&gt; seq&lt;string&gt;" Usage="System.IO.Directory.EnumerateFiles (path, searchPattern, searchOption)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IEnumerable&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchOption" Type="System.IO.SearchOption" Index="2" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-526">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-526">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-527">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-527">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-528">要与 <paramref name="path" /> 中的文件名匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-528">The search string to match against the names of files in <paramref name="path" />.</span></span>  <span data-ttu-id="994d2-529">此参数可以包含有效文本路径和通配符（\* 和 ?）的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-529">This parameter can contain a combination of valid literal path and wildcard (\* and ?) characters, but it doesn't support regular expressions.</span></span></param>
        <param name="searchOption"><span data-ttu-id="994d2-530">指定搜索操作是应仅包含当前目录还是应包含所有子目录的枚举值之一。</span><span class="sxs-lookup"><span data-stu-id="994d2-530">One of the enumeration values that specifies whether the search operation should include only the current directory or should include all subdirectories.</span></span> <span data-ttu-id="994d2-531">默认值是 <see cref="F:System.IO.SearchOption.TopDirectoryOnly" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-531">The default value is <see cref="F:System.IO.SearchOption.TopDirectoryOnly" />.</span></span></param>
        <summary><span data-ttu-id="994d2-532">返回指定路径中与搜索模式匹配的完整文件名的可枚举集合，还可以搜索子目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-532">Returns an enumerable collection of full file names that match a search pattern in a specified path, and optionally searches subdirectories.</span></span></summary>
        <returns><span data-ttu-id="994d2-533">一个可枚举集合，它包含 <paramref name="path" /> 指定的目录中与指定的搜索模式和搜索选项匹配的文件的完整名称（包括路径）。</span><span class="sxs-lookup"><span data-stu-id="994d2-533">An enumerable collection of the full names (including paths) for the files in the directory specified by <paramref name="path" /> and that match the specified search pattern and search option.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-534">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-534">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-535">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-535">The following wildcard specifiers are permitted in `searchPattern`.</span></span>  
  
|<span data-ttu-id="994d2-536">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-536">Wildcard specifier</span></span>|<span data-ttu-id="994d2-537">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-537">Matches</span></span>|  
|------------------------|-------------|  
|<span data-ttu-id="994d2-538">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-538">\* (asterisk)</span></span>|<span data-ttu-id="994d2-539">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-539">Zero or more characters in that position.</span></span>|  
|<span data-ttu-id="994d2-540">?</span><span class="sxs-lookup"><span data-stu-id="994d2-540">?</span></span> <span data-ttu-id="994d2-541">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-541">(question mark)</span></span>|<span data-ttu-id="994d2-542">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-542">Zero or one character in that position.</span></span>|  
  
 <span data-ttu-id="994d2-543">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-543">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-544">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-544">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-545">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-545">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="994d2-546">如果在 `searchPattern` 如 "\*.txt" 中使用星号通配符，则指定扩展中的字符数将影响搜索，如下所示：</span><span class="sxs-lookup"><span data-stu-id="994d2-546">When you use the asterisk wildcard character in a `searchPattern` such as "\*.txt", the number of characters in the specified extension affects the search as follows:</span></span>  
>   
> -   <span data-ttu-id="994d2-547">如果指定的扩展长度恰好为三个字符，则该方法将返回扩展名以指定扩展名开头的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-547">If the specified extension is exactly three characters long, the method returns files with extensions that begin with the specified extension.</span></span> <span data-ttu-id="994d2-548">例如，"\*.xls" 同时返回 "node.js" 和 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-548">For example, "\*.xls" returns both "book.xls" and "book.xlsx".</span></span>  
> -   <span data-ttu-id="994d2-549">在所有其他情况下，该方法将返回完全与指定扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-549">In all other cases, the method returns files that exactly match the specified extension.</span></span> <span data-ttu-id="994d2-550">例如，"\*" 将返回 "file.ai"，而不是 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-550">For example, "\*.ai" returns "file.ai" but not "file.aif".</span></span>  
>   
>  <span data-ttu-id="994d2-551">使用问号通配符时，此方法只返回与指定文件扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-551">When you use the question mark wildcard character, this method returns only files that match the specified file extension.</span></span> <span data-ttu-id="994d2-552">例如，给定两个文件： "file1" 和 "txtother"，在目录中，"文件？" 的搜索模式。txt "只返回第一个文件，而" file\*.txt "的搜索模式返回这两个文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-552">For example, given two files, "file1.txt" and "file1.txtother", in a directory, a search pattern of "file?.txt" returns just the first file, whereas a search pattern of "file\*.txt" returns both files.</span></span>  
  
 <span data-ttu-id="994d2-553">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-553">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-554">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-554">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>  
  
 <span data-ttu-id="994d2-555">可以指定具有 `path` 参数的相对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-555">You can specify relative path information with the `path` parameter.</span></span> <span data-ttu-id="994d2-556">相对路径信息被解释为相对于当前工作目录，您可以使用 <xref:System.IO.Directory.GetCurrentDirectory%2A> 方法来确定。</span><span class="sxs-lookup"><span data-stu-id="994d2-556">Relative path information is interpreted as relative to the current working directory, which you can determine by using the <xref:System.IO.Directory.GetCurrentDirectory%2A> method.</span></span>  
  
 <span data-ttu-id="994d2-557"><xref:System.IO.Directory.EnumerateFiles%2A> 和 <xref:System.IO.Directory.GetFiles%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateFiles%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetFiles%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-557">The <xref:System.IO.Directory.EnumerateFiles%2A> and <xref:System.IO.Directory.GetFiles%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateFiles%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetFiles%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-558">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateFiles%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-558">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateFiles%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-559">未缓存返回的集合;对集合中的 <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> 的每个调用都将启动一个新枚举。</span><span class="sxs-lookup"><span data-stu-id="994d2-559">The returned collection is not cached; each call to the <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> on the collection will start a new enumeration.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-560">下面的示例演示如何检索目录及其子目录中的所有文本文件，并将其移动到新目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-560">The following example shows how to retrieve all the text files in a directory and its subdirectories, and move them to a new directory.</span></span> <span data-ttu-id="994d2-561">文件移动后，它们将不再存在于原始目录中。</span><span class="sxs-lookup"><span data-stu-id="994d2-561">After the files are moved, they no longer exist in the original directories.</span></span>  
  
 [!code-csharp[System.IO.Directory#13](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.Directory/CS/class5.cs#13)]
 [!code-vb[System.IO.Directory#13](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.Directory/VB/class5.vb#13)]  
  
 <span data-ttu-id="994d2-562">下面的示例以递归方式枚举具有 .txt 扩展名的所有文件，读取文件的每一行，并在包含字符串 "Microsoft" 时显示行。</span><span class="sxs-lookup"><span data-stu-id="994d2-562">The following example recursively enumerates all files that have a .txt extension, reads each line of the file, and displays the line if it contains the string "Microsoft".</span></span>  
  
 [!code-csharp[System.IO.Directory.EnumerateFiles#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.io.directory.enumeratefiles/cs/program.cs#1)]
 [!code-vb[System.IO.Directory.EnumerateFiles#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.io.directory.enumeratefiles/vb/program.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-563"><paramref name="path" /> 是一个长度为零的字符串，仅包含空格，或包含无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-563"><paramref name="path" /> is a zero-length string, contains only white space, or contains invalid characters.</span></span> <span data-ttu-id="994d2-564">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-564">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-565">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-565">-or-</span></span> 
 <span data-ttu-id="994d2-566"><paramref name="searchPattern" /> 不包含有效模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-566"><paramref name="searchPattern" /> does not contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-567"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-567"><paramref name="path" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="994d2-568">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-568">-or-</span></span> 
 <span data-ttu-id="994d2-569"><paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-569"><paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-570"><paramref name="searchOption" /> 不是有效的 <see cref="T:System.IO.SearchOption" /> 值。</span><span class="sxs-lookup"><span data-stu-id="994d2-570"><paramref name="searchOption" /> is not a valid <see cref="T:System.IO.SearchOption" /> value.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-571"><paramref name="path" /> 无效，如引用未映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="994d2-571"><paramref name="path" /> is invalid, such as referring to an unmapped drive.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-572"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-572"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-573">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-573">The specified path, file name, or combined exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="994d2-574">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-574">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-575">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-575">The caller does not have the required permission.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="EnumerateFileSystemEntries">
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="994d2-576">返回满足指定条件的文件系统项的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-576">Returns an enumerable collection of file-system entries that meet specified criteria.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="EnumerateFileSystemEntries">
      <MemberSignature Language="C#" Value="public static System.Collections.Generic.IEnumerable&lt;string&gt; EnumerateFileSystemEntries (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Collections.Generic.IEnumerable`1&lt;string&gt; EnumerateFileSystemEntries(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.EnumerateFileSystemEntries(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function EnumerateFileSystemEntries (path As String) As IEnumerable(Of String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Collections::Generic::IEnumerable&lt;System::String ^&gt; ^ EnumerateFileSystemEntries(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member EnumerateFileSystemEntries : string -&gt; seq&lt;string&gt;" Usage="System.IO.Directory.EnumerateFileSystemEntries path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IEnumerable&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-577">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-577">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-578">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-578">This string is not case-sensitive.</span></span></param>
        <summary><span data-ttu-id="994d2-579">返回指定路径中的文件名和目录名的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-579">Returns an enumerable collection of file names and directory names in a specified path.</span></span></summary>
        <returns><span data-ttu-id="994d2-580"><paramref name="path" /> 指定的目录中的文件系统条目的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-580">An enumerable collection of file-system entries in the directory specified by <paramref name="path" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-581">可以指定具有 `path` 参数的相对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-581">You can specify relative path information with the `path` parameter.</span></span> <span data-ttu-id="994d2-582">相对路径信息被解释为相对于当前工作目录，您可以使用 <xref:System.IO.Directory.GetCurrentDirectory%2A> 方法来确定。</span><span class="sxs-lookup"><span data-stu-id="994d2-582">Relative path information is interpreted as relative to the current working directory, which you can determine by using the <xref:System.IO.Directory.GetCurrentDirectory%2A> method.</span></span>

 <span data-ttu-id="994d2-583"><xref:System.IO.Directory.EnumerateFileSystemEntries%2A> 和 <xref:System.IO.Directory.GetFileSystemEntries%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateFileSystemEntries%2A>时，可以在返回整个集合之前，开始枚举条目的集合;使用 <xref:System.IO.Directory.GetFileSystemEntries%2A>时，必须等待返回整个项数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-583">The <xref:System.IO.Directory.EnumerateFileSystemEntries%2A> and <xref:System.IO.Directory.GetFileSystemEntries%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateFileSystemEntries%2A>, you can start enumerating the collection of entries before the whole collection is returned; when you use <xref:System.IO.Directory.GetFileSystemEntries%2A>, you must wait for the whole array of entries to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-584">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateFiles%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-584">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateFiles%2A> can be more efficient.</span></span>

 <span data-ttu-id="994d2-585">未缓存返回的集合;对集合中的 <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> 的每个调用都将启动一个新枚举。</span><span class="sxs-lookup"><span data-stu-id="994d2-585">The returned collection is not cached; each call to the <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> on the collection will start a new enumeration.</span></span>
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-586"><paramref name="path" /> 是一个长度为零的字符串，仅包含空格，或包含无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-586"><paramref name="path" /> is a zero-length string, contains only white space, or contains invalid characters.</span></span> <span data-ttu-id="994d2-587">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-587">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-588"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-588"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-589"><paramref name="path" /> 无效，如引用未映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="994d2-589"><paramref name="path" /> is invalid, such as referring to an unmapped drive.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-590"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-590"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-591">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-591">The specified path, file name, or combined exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="994d2-592">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-592">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-593">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-593">The caller does not have the required permission.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="EnumerateFileSystemEntries">
      <MemberSignature Language="C#" Value="public static System.Collections.Generic.IEnumerable&lt;string&gt; EnumerateFileSystemEntries (string path, string searchPattern);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Collections.Generic.IEnumerable`1&lt;string&gt; EnumerateFileSystemEntries(string path, string searchPattern) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.EnumerateFileSystemEntries(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function EnumerateFileSystemEntries (path As String, searchPattern As String) As IEnumerable(Of String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Collections::Generic::IEnumerable&lt;System::String ^&gt; ^ EnumerateFileSystemEntries(System::String ^ path, System::String ^ searchPattern);" />
      <MemberSignature Language="F#" Value="static member EnumerateFileSystemEntries : string * string -&gt; seq&lt;string&gt;" Usage="System.IO.Directory.EnumerateFileSystemEntries (path, searchPattern)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IEnumerable&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-594">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-594">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-595">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-595">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-596">要与 <paramref name="path" /> 中的文件系统条目的名称进行匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-596">The search string to match against the names of file-system entries in <paramref name="path" />.</span></span>  <span data-ttu-id="994d2-597">此参数可以包含有效文本路径和通配符（\* 和 ?）的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-597">This parameter can contain a combination of valid literal path and wildcard (\* and ?) characters, but it doesn't support regular expressions.</span></span></param>
        <summary><span data-ttu-id="994d2-598">返回指定路径中与搜索模式匹配的文件名和目录名的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-598">Returns an enumerable collection of file names and directory names that match a search pattern in a specified path.</span></span></summary>
        <returns><span data-ttu-id="994d2-599">由 <paramref name="path" /> 指定且与指定的搜索模式匹配的目录中的文件系统条目的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-599">An enumerable collection of file-system entries in the directory specified by <paramref name="path" /> and that match the specified search pattern.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-600">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-600">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-601">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-601">The following wildcard specifiers are permitted in `searchPattern`.</span></span> 
  
|<span data-ttu-id="994d2-602">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-602">Wildcard specifier</span></span>|<span data-ttu-id="994d2-603">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-603">Matches</span></span>|  
|------------------------|-------------|  
|<span data-ttu-id="994d2-604">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-604">\* (asterisk)</span></span>|<span data-ttu-id="994d2-605">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-605">Zero or more characters in that position.</span></span>|  
|<span data-ttu-id="994d2-606">?</span><span class="sxs-lookup"><span data-stu-id="994d2-606">?</span></span> <span data-ttu-id="994d2-607">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-607">(question mark)</span></span>|<span data-ttu-id="994d2-608">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-608">Zero or one character in that position.</span></span>|  
  
 <span data-ttu-id="994d2-609">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-609">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-610">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-610">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-611">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-611">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="994d2-612">如果在 `searchPattern` 如 "\*.txt" 中使用星号通配符，则指定扩展中的字符数将影响搜索，如下所示：</span><span class="sxs-lookup"><span data-stu-id="994d2-612">When you use the asterisk wildcard character in a `searchPattern` such as "\*.txt", the number of characters in the specified extension affects the search as follows:</span></span>  
>   
> -   <span data-ttu-id="994d2-613">如果指定的扩展长度恰好为三个字符，则该方法将返回扩展名以指定扩展名开头的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-613">If the specified extension is exactly three characters long, the method returns files with extensions that begin with the specified extension.</span></span> <span data-ttu-id="994d2-614">例如，"\*.xls" 同时返回 "node.js" 和 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-614">For example, "\*.xls" returns both "book.xls" and "book.xlsx".</span></span>  
> -   <span data-ttu-id="994d2-615">在所有其他情况下，该方法将返回完全与指定扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-615">In all other cases, the method returns files that exactly match the specified extension.</span></span> <span data-ttu-id="994d2-616">例如，"\*" 将返回 "file.ai"，而不是 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-616">For example, "\*.ai" returns "file.ai" but not "file.aif".</span></span>  
>   
>  <span data-ttu-id="994d2-617">使用问号通配符时，此方法只返回与指定文件扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-617">When you use the question mark wildcard character, this method returns only files that match the specified file extension.</span></span> <span data-ttu-id="994d2-618">例如，给定两个文件： "file1" 和 "txtother"，在目录中，"文件？" 的搜索模式。txt "只返回第一个文件，而" file\*.txt "的搜索模式返回这两个文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-618">For example, given two files, "file1.txt" and "file1.txtother", in a directory, a search pattern of "file?.txt" returns just the first file, whereas a search pattern of "file\*.txt" returns both files.</span></span>  
  
 <span data-ttu-id="994d2-619">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-619">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-620">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-620">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>  
  
 <span data-ttu-id="994d2-621">可以指定具有 `path` 参数的相对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-621">You can specify relative path information with the `path` parameter.</span></span> <span data-ttu-id="994d2-622">相对路径信息被解释为相对于当前工作目录，您可以使用 <xref:System.IO.Directory.GetCurrentDirectory%2A> 方法来确定。</span><span class="sxs-lookup"><span data-stu-id="994d2-622">Relative path information is interpreted as relative to the current working directory, which you can determine by using the <xref:System.IO.Directory.GetCurrentDirectory%2A> method.</span></span>  
  
 <span data-ttu-id="994d2-623"><xref:System.IO.Directory.EnumerateFileSystemEntries%2A> 和 <xref:System.IO.Directory.GetFileSystemEntries%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateFileSystemEntries%2A>时，可以在返回整个集合之前，开始枚举条目的集合;使用 <xref:System.IO.Directory.GetFileSystemEntries%2A>时，必须等待返回整个项数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-623">The <xref:System.IO.Directory.EnumerateFileSystemEntries%2A> and <xref:System.IO.Directory.GetFileSystemEntries%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateFileSystemEntries%2A>, you can start enumerating the collection of entries before the whole collection is returned; when you use <xref:System.IO.Directory.GetFileSystemEntries%2A>, you must wait for the whole array of entries to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-624">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateFiles%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-624">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateFiles%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-625">未缓存返回的集合;对集合中的 <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> 的每个调用都将启动一个新枚举。</span><span class="sxs-lookup"><span data-stu-id="994d2-625">The returned collection is not cached; each call to the <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> on the collection will start a new enumeration.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-626"><paramref name="path" /> 是一个长度为零的字符串，仅包含空格，或包含无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-626"><paramref name="path" /> is a zero-length string, contains only white space, or contains invalid characters.</span></span> <span data-ttu-id="994d2-627">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-627">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-628">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-628">-or-</span></span> 
 <span data-ttu-id="994d2-629"><paramref name="searchPattern" /> 不包含有效模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-629"><paramref name="searchPattern" /> does not contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-630"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-630"><paramref name="path" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="994d2-631">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-631">-or-</span></span> 
 <span data-ttu-id="994d2-632"><paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-632"><paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-633"><paramref name="path" /> 无效，如引用未映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="994d2-633"><paramref name="path" /> is invalid, such as referring to an unmapped drive.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-634"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-634"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-635">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-635">The specified path, file name, or combined exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="994d2-636">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-636">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-637">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-637">The caller does not have the required permission.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="EnumerateFileSystemEntries">
      <MemberSignature Language="C#" Value="public static System.Collections.Generic.IEnumerable&lt;string&gt; EnumerateFileSystemEntries (string path, string searchPattern, System.IO.EnumerationOptions enumerationOptions);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Collections.Generic.IEnumerable`1&lt;string&gt; EnumerateFileSystemEntries(string path, string searchPattern, class System.IO.EnumerationOptions enumerationOptions) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.EnumerateFileSystemEntries(System.String,System.String,System.IO.EnumerationOptions)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Collections::Generic::IEnumerable&lt;System::String ^&gt; ^ EnumerateFileSystemEntries(System::String ^ path, System::String ^ searchPattern, System::IO::EnumerationOptions ^ enumerationOptions);" />
      <MemberSignature Language="F#" Value="static member EnumerateFileSystemEntries : string * string * System.IO.EnumerationOptions -&gt; seq&lt;string&gt;" Usage="System.IO.Directory.EnumerateFileSystemEntries (path, searchPattern, enumerationOptions)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IEnumerable&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
        <Parameter Name="enumerationOptions" Type="System.IO.EnumerationOptions" Index="2" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-638">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-638">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-639">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-639">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-640">要与 <paramref name="path" /> 中的子目录的名称匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-640">The search string to match against the names of subdirectories in <paramref name="path" />.</span></span> <span data-ttu-id="994d2-641">此参数可以包含有效文本和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-641">This parameter can contain a combination of valid literal and wildcard characters, but it doesn't support regular expressions.</span></span></param>
        <param name="enumerationOptions"><span data-ttu-id="994d2-642">描述要使用的搜索和枚举配置的对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-642">An object that describes the search and enumeration configuration to use.</span></span></param>
        <summary><span data-ttu-id="994d2-643">返回指定路径中与搜索模式和枚举选项匹配的文件名和目录名的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-643">Returns an enumerable collection of file names and directory names that match a search pattern and enumeration options in a specified path.</span></span></summary>
        <returns><span data-ttu-id="994d2-644">一个可枚举集合，它包含 <paramref name="path" /> 指定的目录中与指定搜索模式和指定枚举选项匹配的文件系统项。</span><span class="sxs-lookup"><span data-stu-id="994d2-644">An enumerable collection of file-system entries in the directory specified by <paramref name="path" />, that match the specified search pattern and the specified enumeration options.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-645">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-645">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-646">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-646">The following wildcard specifiers are permitted in `searchPattern`.</span></span>

|<span data-ttu-id="994d2-647">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-647">Wildcard specifier</span></span>|<span data-ttu-id="994d2-648">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-648">Matches</span></span>|
|------------------------|-------------|
|<span data-ttu-id="994d2-649">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-649">\* (asterisk)</span></span>|<span data-ttu-id="994d2-650">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-650">Zero or more characters in that position.</span></span>|
|<span data-ttu-id="994d2-651">?</span><span class="sxs-lookup"><span data-stu-id="994d2-651">?</span></span> <span data-ttu-id="994d2-652">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-652">(question mark)</span></span>|<span data-ttu-id="994d2-653">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-653">Zero or one character in that position.</span></span>|

 <span data-ttu-id="994d2-654">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-654">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-655">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-655">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-656">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-656">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>

> [!NOTE]
>  <span data-ttu-id="994d2-657">如果在 `searchPattern` 如 "\*.txt" 中使用星号通配符，则指定扩展中的字符数将影响搜索，如下所示：</span><span class="sxs-lookup"><span data-stu-id="994d2-657">When you use the asterisk wildcard character in a `searchPattern` such as "\*.txt", the number of characters in the specified extension affects the search as follows:</span></span>
> 
> -   <span data-ttu-id="994d2-658">如果指定的扩展长度恰好为三个字符，则该方法将返回扩展名以指定扩展名开头的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-658">If the specified extension is exactly three characters long, the method returns files with extensions that begin with the specified extension.</span></span> <span data-ttu-id="994d2-659">例如，"\*.xls" 同时返回 "node.js" 和 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-659">For example, "\*.xls" returns both "book.xls" and "book.xlsx".</span></span>
> -   <span data-ttu-id="994d2-660">在所有其他情况下，该方法将返回完全与指定扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-660">In all other cases, the method returns files that exactly match the specified extension.</span></span> <span data-ttu-id="994d2-661">例如，"\*" 将返回 "file.ai"，而不是 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-661">For example, "\*.ai" returns "file.ai" but not "file.aif".</span></span>
> 
>  <span data-ttu-id="994d2-662">使用问号通配符时，此方法只返回与指定文件扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-662">When you use the question mark wildcard character, this method returns only files that match the specified file extension.</span></span> <span data-ttu-id="994d2-663">例如，给定两个文件： "file1" 和 "txtother"，在目录中，"文件？" 的搜索模式。txt "只返回第一个文件，而" file\*.txt "的搜索模式返回这两个文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-663">For example, given two files, "file1.txt" and "file1.txtother", in a directory, a search pattern of "file?.txt" returns just the first file, whereas a search pattern of "file\*.txt" returns both files.</span></span>

 <span data-ttu-id="994d2-664">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-664">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-665">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-665">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>

 <span data-ttu-id="994d2-666">可以指定具有 `path` 参数的相对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-666">You can specify relative path information with the `path` parameter.</span></span> <span data-ttu-id="994d2-667">相对路径信息被解释为相对于当前工作目录，您可以使用 <xref:System.IO.Directory.GetCurrentDirectory%2A> 方法来确定。</span><span class="sxs-lookup"><span data-stu-id="994d2-667">Relative path information is interpreted as relative to the current working directory, which you can determine by using the <xref:System.IO.Directory.GetCurrentDirectory%2A> method.</span></span>

 <span data-ttu-id="994d2-668"><xref:System.IO.Directory.EnumerateFileSystemEntries%2A> 和 <xref:System.IO.Directory.GetFileSystemEntries%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateFileSystemEntries%2A>时，可以在返回整个集合之前，开始枚举条目的集合;使用 <xref:System.IO.Directory.GetFileSystemEntries%2A>时，必须等待返回整个项数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-668">The <xref:System.IO.Directory.EnumerateFileSystemEntries%2A> and <xref:System.IO.Directory.GetFileSystemEntries%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateFileSystemEntries%2A>, you can start enumerating the collection of entries before the whole collection is returned; when you use <xref:System.IO.Directory.GetFileSystemEntries%2A>, you must wait for the whole array of entries to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-669">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateFiles%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-669">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateFiles%2A> can be more efficient.</span></span>

 <span data-ttu-id="994d2-670">未缓存返回的集合;对集合中的 <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> 的每个调用都将启动一个新枚举。</span><span class="sxs-lookup"><span data-stu-id="994d2-670">The returned collection is not cached; each call to the <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> on the collection will start a new enumeration.</span></span>
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-671"><paramref name="path" /> 是一个长度为零的字符串，仅包含空格，或包含无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-671"><paramref name="path" /> is a zero-length string, contains only white space, or contains invalid characters.</span></span> <span data-ttu-id="994d2-672">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-672">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-673">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-673">-or-</span></span> 
 <span data-ttu-id="994d2-674"><paramref name="searchPattern" /> 不包含有效模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-674"><paramref name="searchPattern" /> does not contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-675"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-675"><paramref name="path" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="994d2-676">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-676">-or-</span></span> 
 <span data-ttu-id="994d2-677"><paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-677"><paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-678"><paramref name="searchOption" /> 不是有效的 <see cref="T:System.IO.SearchOption" /> 值。</span><span class="sxs-lookup"><span data-stu-id="994d2-678"><paramref name="searchOption" /> is not a valid <see cref="T:System.IO.SearchOption" /> value.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-679"><paramref name="path" /> 无效，如引用未映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="994d2-679"><paramref name="path" /> is invalid, such as referring to an unmapped drive.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-680"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-680"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-681">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-681">The specified path, file name, or combined exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="994d2-682">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-682">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-683">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-683">The caller does not have the required permission.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="EnumerateFileSystemEntries">
      <MemberSignature Language="C#" Value="public static System.Collections.Generic.IEnumerable&lt;string&gt; EnumerateFileSystemEntries (string path, string searchPattern, System.IO.SearchOption searchOption);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Collections.Generic.IEnumerable`1&lt;string&gt; EnumerateFileSystemEntries(string path, string searchPattern, valuetype System.IO.SearchOption searchOption) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.EnumerateFileSystemEntries(System.String,System.String,System.IO.SearchOption)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Collections::Generic::IEnumerable&lt;System::String ^&gt; ^ EnumerateFileSystemEntries(System::String ^ path, System::String ^ searchPattern, System::IO::SearchOption searchOption);" />
      <MemberSignature Language="F#" Value="static member EnumerateFileSystemEntries : string * string * System.IO.SearchOption -&gt; seq&lt;string&gt;" Usage="System.IO.Directory.EnumerateFileSystemEntries (path, searchPattern, searchOption)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IEnumerable&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchOption" Type="System.IO.SearchOption" Index="2" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-684">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-684">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-685">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-685">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-686">要与 <paramref name="path" /> 中的文件系统项匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-686">The search string to match against file-system entries in <paramref name="path" />.</span></span>  <span data-ttu-id="994d2-687">此参数可以包含有效文本路径和通配符（\* 和 ?）的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-687">This parameter can contain a combination of valid literal path and wildcard (\* and ?) characters, but it doesn't support regular expressions.</span></span></param>
        <param name="searchOption"><span data-ttu-id="994d2-688">指定搜索操作是应仅包含当前目录还是应包含所有子目录的枚举值之一。</span><span class="sxs-lookup"><span data-stu-id="994d2-688">One of the enumeration values  that specifies whether the search operation should include only the current directory or should include all subdirectories.</span></span> <span data-ttu-id="994d2-689">默认值是 <see cref="F:System.IO.SearchOption.TopDirectoryOnly" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-689">The default value is <see cref="F:System.IO.SearchOption.TopDirectoryOnly" />.</span></span></param>
        <summary><span data-ttu-id="994d2-690">返回指定路径中与搜索模式匹配的文件名称和目录名的可枚举集合，还可以搜索子目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-690">Returns an enumerable collection of file names and directory names that match a search pattern in a specified path, and optionally searches subdirectories.</span></span></summary>
        <returns><span data-ttu-id="994d2-691">由 <paramref name="path" /> 指定的目录中与指定搜索模式和选项匹配的文件系统项的可枚举集合。</span><span class="sxs-lookup"><span data-stu-id="994d2-691">An enumerable collection of file-system entries in the directory specified by <paramref name="path" /> and that match the specified search pattern and option.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-692">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-692">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-693">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-693">The following wildcard specifiers are permitted in `searchPattern`.</span></span>  
  
|<span data-ttu-id="994d2-694">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-694">Wildcard specifier</span></span>|<span data-ttu-id="994d2-695">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-695">Matches</span></span>|  
|------------------------|-------------|  
|<span data-ttu-id="994d2-696">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-696">\* (asterisk)</span></span>|<span data-ttu-id="994d2-697">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-697">Zero or more characters in that position.</span></span>|  
|<span data-ttu-id="994d2-698">?</span><span class="sxs-lookup"><span data-stu-id="994d2-698">?</span></span> <span data-ttu-id="994d2-699">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-699">(question mark)</span></span>|<span data-ttu-id="994d2-700">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-700">Zero or one character in that position.</span></span>|  
  
 <span data-ttu-id="994d2-701">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-701">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-702">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-702">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-703">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-703">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="994d2-704">如果在 `searchPattern` 如 "\*.txt" 中使用星号通配符，则指定扩展中的字符数将影响搜索，如下所示：</span><span class="sxs-lookup"><span data-stu-id="994d2-704">When you use the asterisk wildcard character in a `searchPattern` such as "\*.txt", the number of characters in the specified extension affects the search as follows:</span></span>  
>   
> -   <span data-ttu-id="994d2-705">如果指定的扩展长度恰好为三个字符，则该方法将返回扩展名以指定扩展名开头的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-705">If the specified extension is exactly three characters long, the method returns files with extensions that begin with the specified extension.</span></span> <span data-ttu-id="994d2-706">例如，"\*.xls" 同时返回 "node.js" 和 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-706">For example, "\*.xls" returns both "book.xls" and "book.xlsx".</span></span>  
> -   <span data-ttu-id="994d2-707">在所有其他情况下，该方法将返回完全与指定扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-707">In all other cases, the method returns files that exactly match the specified extension.</span></span> <span data-ttu-id="994d2-708">例如，"\*" 将返回 "file.ai"，而不是 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-708">For example, "\*.ai" returns "file.ai" but not "file.aif".</span></span>  
>   
>  <span data-ttu-id="994d2-709">使用问号通配符时，此方法只返回与指定文件扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-709">When you use the question mark wildcard character, this method returns only files that match the specified file extension.</span></span> <span data-ttu-id="994d2-710">例如，给定两个文件： "file1" 和 "txtother"，在目录中，"文件？" 的搜索模式。txt "只返回第一个文件，而" file\*.txt "的搜索模式返回这两个文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-710">For example, given two files, "file1.txt" and "file1.txtother", in a directory, a search pattern of "file?.txt" returns just the first file, whereas a search pattern of "file\*.txt" returns both files.</span></span>  
  
 <span data-ttu-id="994d2-711">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-711">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-712">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-712">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>  
  
 <span data-ttu-id="994d2-713">可以指定具有 `path` 参数的相对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-713">You can specify relative path information with the `path` parameter.</span></span> <span data-ttu-id="994d2-714">相对路径信息被解释为相对于当前工作目录，您可以使用 <xref:System.IO.Directory.GetCurrentDirectory%2A> 方法来确定。</span><span class="sxs-lookup"><span data-stu-id="994d2-714">Relative path information is interpreted as relative to the current working directory, which you can determine by using the <xref:System.IO.Directory.GetCurrentDirectory%2A> method.</span></span>  
  
 <span data-ttu-id="994d2-715"><xref:System.IO.Directory.EnumerateFileSystemEntries%2A> 和 <xref:System.IO.Directory.GetFileSystemEntries%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateFileSystemEntries%2A>时，可以在返回整个集合之前，开始枚举条目的集合;使用 <xref:System.IO.Directory.GetFileSystemEntries%2A>时，必须等待返回整个项数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-715">The <xref:System.IO.Directory.EnumerateFileSystemEntries%2A> and <xref:System.IO.Directory.GetFileSystemEntries%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateFileSystemEntries%2A>, you can start enumerating the collection of entries before the whole collection is returned; when you use <xref:System.IO.Directory.GetFileSystemEntries%2A>, you must wait for the whole array of entries to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-716">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateFiles%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-716">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateFiles%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-717">未缓存返回的集合;对集合中的 <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> 的每个调用都将启动一个新枚举。</span><span class="sxs-lookup"><span data-stu-id="994d2-717">The returned collection is not cached; each call to the <xref:System.Collections.Generic.IEnumerable%601.GetEnumerator%2A> on the collection will start a new enumeration.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-718"><paramref name="path" /> 是一个长度为零的字符串，仅包含空格，或包含无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-718"><paramref name="path" /> is a zero-length string, contains only white space, or contains invalid characters.</span></span> <span data-ttu-id="994d2-719">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-719">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-720">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-720">-or-</span></span> 
 <span data-ttu-id="994d2-721"><paramref name="searchPattern" /> 不包含有效模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-721"><paramref name="searchPattern" /> does not contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-722"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-722"><paramref name="path" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="994d2-723">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-723">-or-</span></span> 
 <span data-ttu-id="994d2-724"><paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-724"><paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-725"><paramref name="searchOption" /> 不是有效的 <see cref="T:System.IO.SearchOption" /> 值。</span><span class="sxs-lookup"><span data-stu-id="994d2-725"><paramref name="searchOption" /> is not a valid <see cref="T:System.IO.SearchOption" /> value.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-726"><paramref name="path" /> 无效，如引用未映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="994d2-726"><paramref name="path" /> is invalid, such as referring to an unmapped drive.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-727"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-727"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-728">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-728">The specified path, file name, or combined exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="994d2-729">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-729">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-730">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-730">The caller does not have the required permission.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="Exists">
      <MemberSignature Language="C#" Value="public static bool Exists (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool Exists(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.Exists(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Exists (path As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool Exists(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member Exists : string -&gt; bool" Usage="System.IO.Directory.Exists path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-731">要测试的路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-731">The path to test.</span></span></param>
        <summary><span data-ttu-id="994d2-732">确定给定路径是否引用磁盘上的现有目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-732">Determines whether the given path refers to an existing directory on disk.</span></span></summary>
        <returns><span data-ttu-id="994d2-733">如果 <see langword="true" /> 指向现有目录，则为 <paramref name="path" />；如果该目录不存在或者在尝试确定指定目录是否存在时出错，则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-733"><see langword="true" /> if <paramref name="path" /> refers to an existing directory; <see langword="false" /> if the directory does not exist or an error occurs when trying to determine if the specified directory exists.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-734">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-734">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-735">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-735">Relative path information is interpreted as relative to the current working directory.</span></span>  
  
 <span data-ttu-id="994d2-736">检查目录是否存在之前，从 `path` 参数的末尾删除尾随空格。</span><span class="sxs-lookup"><span data-stu-id="994d2-736">Trailing spaces are removed from the end of the `path` parameter before checking whether the directory exists.</span></span>  
  
 <span data-ttu-id="994d2-737">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-737">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-738">如果没有目录的最小只读权限，<xref:System.IO.Directory.Exists%2A> 方法将返回 `false`。</span><span class="sxs-lookup"><span data-stu-id="994d2-738">If you do not have at a minimum read-only permission to the directory, the <xref:System.IO.Directory.Exists%2A> method will return `false`.</span></span>  
  
 <span data-ttu-id="994d2-739">如果在尝试确定指定文件是否存在时出现任何错误，则 <xref:System.IO.Directory.Exists%2A> 方法返回 `false`。</span><span class="sxs-lookup"><span data-stu-id="994d2-739">The <xref:System.IO.Directory.Exists%2A> method returns `false` if any error occurs while trying to determine if the specified file exists.</span></span> <span data-ttu-id="994d2-740">这种情况可能发生在引发异常的情况，例如，传递包含无效字符或太多字符的文件名、出现故障或缺失的磁盘，或者如果调用方没有读取文件的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-740">This can occur in situations that raise exceptions such as passing a file name with invalid characters or too many characters, a failing or missing disk, or if the caller does not have permission to read the file.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-741">下面的示例使用命令行中的一个文件或目录名数组，确定它的名称类型，并对其进行适当的处理。</span><span class="sxs-lookup"><span data-stu-id="994d2-741">The following example takes an array of file or directory names on the command line, determines what kind of name it is, and processes it appropriately.</span></span>  
  
 [!code-cpp[Recursive file finder#2](~/samples/snippets/cpp/VS_Snippets_CLR/Recursive file finder/CPP/directorylisting.cpp#2)]
 [!code-csharp[Recursive file finder#2](~/samples/snippets/csharp/VS_Snippets_CLR/Recursive file finder/CS/directorylisting.cs#2)]
 [!code-vb[Recursive file finder#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/Recursive file finder/VB/directorylisting.vb#2)]  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.IO.DirectoryInfo" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-742">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-742">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-743">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-743">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-744">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-744">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="GetAccessControl">
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="994d2-745">返回某个目录的 Windows 访问控制列表 (ACL)。</span><span class="sxs-lookup"><span data-stu-id="994d2-745">Returns the Windows access control list (ACL) for a directory.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetAccessControl">
      <MemberSignature Language="C#" Value="public static System.Security.AccessControl.DirectorySecurity GetAccessControl (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Security.AccessControl.DirectorySecurity GetAccessControl(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetAccessControl(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetAccessControl (path As String) As DirectorySecurity" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Security::AccessControl::DirectorySecurity ^ GetAccessControl(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member GetAccessControl : string -&gt; System.Security.AccessControl.DirectorySecurity" Usage="System.IO.Directory.GetAccessControl path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Security.AccessControl.DirectorySecurity</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-746">包含 <see cref="T:System.Security.AccessControl.DirectorySecurity" /> 对象的目录路径，该对象描述文件的访问控制列表 (ACL) 信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-746">The path to a directory containing a <see cref="T:System.Security.AccessControl.DirectorySecurity" /> object that describes the file's access control list (ACL) information.</span></span></param>
        <summary><span data-ttu-id="994d2-747">获取 <see cref="T:System.Security.AccessControl.DirectorySecurity" /> 对象，该对象封装指定目录的访问控制列表 (ACL) 项。</span><span class="sxs-lookup"><span data-stu-id="994d2-747">Gets a <see cref="T:System.Security.AccessControl.DirectorySecurity" /> object that encapsulates the access control list (ACL) entries for a specified directory.</span></span></summary>
        <returns><span data-ttu-id="994d2-748">封装由 <paramref name="path" /> 参数描述的文件的访问控制规则的对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-748">An object that encapsulates the access control rules for the file described by the <paramref name="path" /> parameter.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-749">使用 <xref:System.IO.Directory.GetAccessControl%2A> 方法可以检索目录的访问控制列表（ACL）项。</span><span class="sxs-lookup"><span data-stu-id="994d2-749">Use the <xref:System.IO.Directory.GetAccessControl%2A> method to retrieve the access control list (ACL) entries for a directory.</span></span>  
  
 <span data-ttu-id="994d2-750">ACL 描述对给定文件或目录具有或没有特定操作权限的个人和/或组。</span><span class="sxs-lookup"><span data-stu-id="994d2-750">An ACL describes individuals and/or groups who have, or do not have, rights to specific actions on the given file or directory.</span></span> <span data-ttu-id="994d2-751">有关详细信息，请参阅[如何：添加或移除访问控制列表项](~/docs/standard/io/how-to-add-or-remove-access-control-list-entries.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-751">For more information, see [How to: Add or Remove Access Control List Entries](~/docs/standard/io/how-to-add-or-remove-access-control-list-entries.md).</span></span>  
  
 <span data-ttu-id="994d2-752">在 NTFS 环境下，如果用户对父文件夹具有 <xref:System.Security.AccessControl.FileSystemRights.ListDirectory> 权限，则会向用户授予 <xref:System.Security.AccessControl.FileSystemRights.ReadAttributes> 和 <xref:System.Security.AccessControl.FileSystemRights.ReadExtendedAttributes>。</span><span class="sxs-lookup"><span data-stu-id="994d2-752">In NTFS environments, <xref:System.Security.AccessControl.FileSystemRights.ReadAttributes> and <xref:System.Security.AccessControl.FileSystemRights.ReadExtendedAttributes> are granted to the user if the user has <xref:System.Security.AccessControl.FileSystemRights.ListDirectory> rights on the parent folder.</span></span> <span data-ttu-id="994d2-753">若要拒绝 <xref:System.Security.AccessControl.FileSystemRights.ReadAttributes> 和 <xref:System.Security.AccessControl.FileSystemRights.ReadExtendedAttributes>，请拒绝父目录中的 <xref:System.Security.AccessControl.FileSystemRights.ListDirectory>。</span><span class="sxs-lookup"><span data-stu-id="994d2-753">To deny <xref:System.Security.AccessControl.FileSystemRights.ReadAttributes> and <xref:System.Security.AccessControl.FileSystemRights.ReadExtendedAttributes>, deny <xref:System.Security.AccessControl.FileSystemRights.ListDirectory> on the parent directory.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-754">下面的示例使用 <xref:System.IO.Directory.GetAccessControl%2A> 和 <xref:System.IO.Directory.SetAccessControl%2A> 方法添加访问控制列表（ACL）条目，然后从目录中删除 ACL 条目。</span><span class="sxs-lookup"><span data-stu-id="994d2-754">The following example uses the <xref:System.IO.Directory.GetAccessControl%2A> and the <xref:System.IO.Directory.SetAccessControl%2A> methods to add an access control list (ACL) entry and then remove an ACL entry from a directory.</span></span>  <span data-ttu-id="994d2-755">你必须提供有效的用户或组帐户以运行此示例。</span><span class="sxs-lookup"><span data-stu-id="994d2-755">You must supply a valid user or group account to run this example.</span></span>  
  
 [!code-cpp[IO.DiretoryInfo.GetAccessControl-SetAccessControl#1](~/samples/snippets/cpp/VS_Snippets_CLR/IO.DiretoryInfo.GetAccessControl-SetAccessControl/cpp/sample.cpp#1)]
 [!code-csharp[IO.DiretoryInfo.GetAccessControl-SetAccessControl#1](~/samples/snippets/csharp/VS_Snippets_CLR/IO.DiretoryInfo.GetAccessControl-SetAccessControl/CS/sample.cs#1)]
 [!code-vb[IO.DiretoryInfo.GetAccessControl-SetAccessControl#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/IO.DiretoryInfo.GetAccessControl-SetAccessControl/VB/sample.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-756"><paramref name="path" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-756">The <paramref name="path" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-757">打开目录时发生 I/O 错误。</span><span class="sxs-lookup"><span data-stu-id="994d2-757">An I/O error occurred while opening the directory.</span></span></exception>
        <exception cref="T:System.SystemException"><span data-ttu-id="994d2-758">出现系统级别错误，如找不到目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-758">A system-level error occurred, such as the directory could not be found.</span></span> <span data-ttu-id="994d2-759">特定异常可能是 <see cref="T:System.SystemException" /> 的子类。</span><span class="sxs-lookup"><span data-stu-id="994d2-759">The specific exception may be a subclass of <see cref="T:System.SystemException" />.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-760"><paramref name="path" /> 参数指定只读的目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-760">The <paramref name="path" /> parameter specified a directory that is read-only.</span></span>  
  
<span data-ttu-id="994d2-761">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-761">-or-</span></span> 
<span data-ttu-id="994d2-762">当前平台不支持此操作。</span><span class="sxs-lookup"><span data-stu-id="994d2-762">This operation is not supported on the current platform.</span></span>  
  
<span data-ttu-id="994d2-763">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-763">-or-</span></span> 
<span data-ttu-id="994d2-764">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-764">The caller does not have the required permission.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetAccessControl">
      <MemberSignature Language="C#" Value="public static System.Security.AccessControl.DirectorySecurity GetAccessControl (string path, System.Security.AccessControl.AccessControlSections includeSections);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Security.AccessControl.DirectorySecurity GetAccessControl(string path, valuetype System.Security.AccessControl.AccessControlSections includeSections) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetAccessControl(System.String,System.Security.AccessControl.AccessControlSections)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetAccessControl (path As String, includeSections As AccessControlSections) As DirectorySecurity" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Security::AccessControl::DirectorySecurity ^ GetAccessControl(System::String ^ path, System::Security::AccessControl::AccessControlSections includeSections);" />
      <MemberSignature Language="F#" Value="static member GetAccessControl : string * System.Security.AccessControl.AccessControlSections -&gt; System.Security.AccessControl.DirectorySecurity" Usage="System.IO.Directory.GetAccessControl (path, includeSections)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Security.AccessControl.DirectorySecurity</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="includeSections" Type="System.Security.AccessControl.AccessControlSections" Index="1" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-765">包含 <see cref="T:System.Security.AccessControl.DirectorySecurity" /> 对象的目录路径，该对象描述文件的访问控制列表 (ACL) 信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-765">The path to a directory containing a <see cref="T:System.Security.AccessControl.DirectorySecurity" /> object that describes the file's access control list (ACL) information.</span></span></param>
        <param name="includeSections"><span data-ttu-id="994d2-766"><see cref="T:System.Security.AccessControl.AccessControlSections" /> 值之一，它指定要接收的访问控制列表 (ACL) 信息的类型。</span><span class="sxs-lookup"><span data-stu-id="994d2-766">One of the <see cref="T:System.Security.AccessControl.AccessControlSections" /> values that specifies the type of access control list (ACL) information to receive.</span></span></param>
        <summary><span data-ttu-id="994d2-767">获取一个 <see cref="T:System.Security.AccessControl.DirectorySecurity" /> 对象，它封装指定目录的指定类型的访问控制列表 (ACL) 条目。</span><span class="sxs-lookup"><span data-stu-id="994d2-767">Gets a <see cref="T:System.Security.AccessControl.DirectorySecurity" /> object that encapsulates the specified type of access control list (ACL) entries for a specified directory.</span></span></summary>
        <returns><span data-ttu-id="994d2-768">封装由 <paramref name="path" /> 参数描述的文件的访问控制规则的对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-768">An object that encapsulates the access control rules for the file described by the <paramref name="path" /> parameter.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-769">使用 <xref:System.IO.Directory.GetAccessControl%2A> 方法可以检索目录的访问控制列表（ACL）项。</span><span class="sxs-lookup"><span data-stu-id="994d2-769">Use the <xref:System.IO.Directory.GetAccessControl%2A> method to retrieve the access control list (ACL) entries for a directory.</span></span>  
  
 <span data-ttu-id="994d2-770">ACL 描述对给定文件或目录具有或没有特定操作权限的个人和/或组。</span><span class="sxs-lookup"><span data-stu-id="994d2-770">An ACL describes individuals and/or groups who have, or do not have, rights to specific actions on the given file or directory.</span></span> <span data-ttu-id="994d2-771">有关详细信息，请参阅[如何：添加或移除访问控制列表项](~/docs/standard/io/how-to-add-or-remove-access-control-list-entries.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-771">For more information, see [How to: Add or Remove Access Control List Entries](~/docs/standard/io/how-to-add-or-remove-access-control-list-entries.md).</span></span>  
  
 <span data-ttu-id="994d2-772">在 NTFS 环境下，如果用户对父文件夹具有 <xref:System.Security.AccessControl.FileSystemRights.ListDirectory> 权限，则会向用户授予 <xref:System.Security.AccessControl.FileSystemRights.ReadAttributes> 和 <xref:System.Security.AccessControl.FileSystemRights.ReadExtendedAttributes>。</span><span class="sxs-lookup"><span data-stu-id="994d2-772">In NTFS environments, <xref:System.Security.AccessControl.FileSystemRights.ReadAttributes> and <xref:System.Security.AccessControl.FileSystemRights.ReadExtendedAttributes> are granted to the user if the user has <xref:System.Security.AccessControl.FileSystemRights.ListDirectory> rights on the parent folder.</span></span> <span data-ttu-id="994d2-773">若要拒绝 <xref:System.Security.AccessControl.FileSystemRights.ReadAttributes> 和 <xref:System.Security.AccessControl.FileSystemRights.ReadExtendedAttributes>，请拒绝父目录中的 <xref:System.Security.AccessControl.FileSystemRights.ListDirectory>。</span><span class="sxs-lookup"><span data-stu-id="994d2-773">To deny <xref:System.Security.AccessControl.FileSystemRights.ReadAttributes> and <xref:System.Security.AccessControl.FileSystemRights.ReadExtendedAttributes>, deny <xref:System.Security.AccessControl.FileSystemRights.ListDirectory> on the parent directory.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-774"><paramref name="path" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-774">The <paramref name="path" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-775">打开目录时发生 I/O 错误。</span><span class="sxs-lookup"><span data-stu-id="994d2-775">An I/O error occurred while opening the directory.</span></span></exception>
        <exception cref="T:System.SystemException"><span data-ttu-id="994d2-776">出现系统级别错误，如找不到目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-776">A system-level error occurred, such as the directory could not be found.</span></span> <span data-ttu-id="994d2-777">特定异常可能是 <see cref="T:System.SystemException" /> 的子类。</span><span class="sxs-lookup"><span data-stu-id="994d2-777">The specific exception may be a subclass of <see cref="T:System.SystemException" />.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-778"><paramref name="path" /> 参数指定只读的目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-778">The <paramref name="path" /> parameter specified a directory that is read-only.</span></span>  
  
<span data-ttu-id="994d2-779">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-779">-or-</span></span> 
<span data-ttu-id="994d2-780">当前平台不支持此操作。</span><span class="sxs-lookup"><span data-stu-id="994d2-780">This operation is not supported on the current platform.</span></span>  
  
<span data-ttu-id="994d2-781">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-781">-or-</span></span> 
<span data-ttu-id="994d2-782">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-782">The caller does not have the required permission.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetCreationTime">
      <MemberSignature Language="C#" Value="public static DateTime GetCreationTime (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.DateTime GetCreationTime(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetCreationTime(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetCreationTime (path As String) As DateTime" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static DateTime GetCreationTime(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member GetCreationTime : string -&gt; DateTime" Usage="System.IO.Directory.GetCreationTime path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.DateTime</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-783">目录的路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-783">The path of the directory.</span></span></param>
        <summary><span data-ttu-id="994d2-784">获取目录的创建日期和时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-784">Gets the creation date and time of a directory.</span></span></summary>
        <returns><span data-ttu-id="994d2-785">一个设置为指定目录的创建日期和时间的结构。</span><span class="sxs-lookup"><span data-stu-id="994d2-785">A structure that is set to the creation date and time for the specified directory.</span></span> <span data-ttu-id="994d2-786">该值用本地时间表示。</span><span class="sxs-lookup"><span data-stu-id="994d2-786">This value is expressed in local time.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  <span data-ttu-id="994d2-787">此方法可能会返回不准确的值，因为它使用的本机函数的值可能不会持续由操作系统进行更新。</span><span class="sxs-lookup"><span data-stu-id="994d2-787">This method may return an inaccurate value, because it uses native functions whose values may not be continuously updated by the operating system.</span></span>  
  
 <span data-ttu-id="994d2-788">此方法等效于 <xref:System.IO.File.GetCreationTime%2A?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="994d2-788">This method is equivalent to <xref:System.IO.File.GetCreationTime%2A?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="994d2-789">如果 `path` 参数中所述的目录不存在，则此方法将返回12:00 年1月 1601 1 日午夜</span><span class="sxs-lookup"><span data-stu-id="994d2-789">If the directory described in the `path` parameter does not exist, this method returns 12:00 midnight, January 1, 1601 A.D.</span></span> <span data-ttu-id="994d2-790">公元协调世界时（UTC），调整为本地时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-790">(C.E.) Coordinated Universal Time (UTC), adjusted to local time.</span></span>  
  
 <span data-ttu-id="994d2-791">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-791">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-792">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-792">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-793">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-793">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-794">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-794">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-795">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-795">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-796">下面的示例获取指定目录的创建时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-796">The following example gets the creation time of the specified directory.</span></span>  
  
 [!code-cpp[Dir_GetCreation#1](~/samples/snippets/cpp/VS_Snippets_CLR/Dir_GetCreation/CPP/dir_getcreation.cpp#1)]
 [!code-csharp[Dir_GetCreation#1](~/samples/snippets/csharp/VS_Snippets_CLR/Dir_GetCreation/CS/dir_getcreation.cs#1)]
 [!code-vb[Dir_GetCreation#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Dir_GetCreation/VB/dir_getcreation.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-797">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-797">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-798"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-798"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-799">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-799">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-800"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-800"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-801">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-801">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-802">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-802">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-803">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-803">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-804">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-804">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetCreationTimeUtc">
      <MemberSignature Language="C#" Value="public static DateTime GetCreationTimeUtc (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.DateTime GetCreationTimeUtc(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetCreationTimeUtc(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetCreationTimeUtc (path As String) As DateTime" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static DateTime GetCreationTimeUtc(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member GetCreationTimeUtc : string -&gt; DateTime" Usage="System.IO.Directory.GetCreationTimeUtc path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.DateTime</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-805">目录的路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-805">The path of the directory.</span></span></param>
        <summary><span data-ttu-id="994d2-806">获取目录创建的日期和时间，其格式为协调通用时 (UTC)。</span><span class="sxs-lookup"><span data-stu-id="994d2-806">Gets the creation date and time, in Coordinated Universal Time (UTC) format, of a directory.</span></span></summary>
        <returns><span data-ttu-id="994d2-807">一个设置为指定目录的创建日期和时间的结构。</span><span class="sxs-lookup"><span data-stu-id="994d2-807">A structure that is set to the creation date and time for the specified directory.</span></span> <span data-ttu-id="994d2-808">该值用 UTC 时间表示。</span><span class="sxs-lookup"><span data-stu-id="994d2-808">This value is expressed in UTC time.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  <span data-ttu-id="994d2-809">此方法可能会返回不准确的值，因为它使用的本机函数的值可能不会持续由操作系统进行更新。</span><span class="sxs-lookup"><span data-stu-id="994d2-809">This method may return an inaccurate value, because it uses native functions whose values may not be continuously updated by the operating system.</span></span>  
  
 <span data-ttu-id="994d2-810">如果 `path` 参数中所述的目录不存在，则此方法将返回12:00 年1月 1601 1 日午夜</span><span class="sxs-lookup"><span data-stu-id="994d2-810">If the directory described in the `path` parameter does not exist, this method returns 12:00 midnight, January 1, 1601 A.D.</span></span> <span data-ttu-id="994d2-811">公元协调世界时（UTC）。</span><span class="sxs-lookup"><span data-stu-id="994d2-811">(C.E.) Coordinated Universal Time (UTC).</span></span>  
  
 <span data-ttu-id="994d2-812">使用此方法可以基于协调世界时（UTC）获取目录的创建时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-812">Use this method to get the creation time for a directory based on Coordinated Universal Time (UTC).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-813">下面的示例演示使用协调世界时（UTC）输出时的输出差异。</span><span class="sxs-lookup"><span data-stu-id="994d2-813">The following example illustrates the differences in output when using Coordinated Universal Time (UTC) output.</span></span>  
  
 [!code-cpp[System.IO.UTCExample#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.UTCExample/CPP/example.cpp#1)]
 [!code-csharp[System.IO.UTCExample#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.UTCExample/CS/example.cs#1)]
 [!code-vb[System.IO.UTCExample#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.UTCExample/VB/example.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-814">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-814">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-815"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-815"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-816">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-816">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-817"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-817"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-818">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-818">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-819">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-819">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-820">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-820">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-821">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-821">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetCurrentDirectory">
      <MemberSignature Language="C#" Value="public static string GetCurrentDirectory ();" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string GetCurrentDirectory() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetCurrentDirectory" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetCurrentDirectory () As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::String ^ GetCurrentDirectory();" />
      <MemberSignature Language="F#" Value="static member GetCurrentDirectory : unit -&gt; string" Usage="System.IO.Directory.GetCurrentDirectory " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="994d2-822">获取应用程序的当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-822">Gets the current working directory of the application.</span></span></summary>
        <returns><span data-ttu-id="994d2-823">一个字符串，该字符串包含当前工作目录的绝对路径且不以反斜杠 (\\) 结尾。</span><span class="sxs-lookup"><span data-stu-id="994d2-823">A string that contains the absolute path of the current working directory, and does not end with a backslash (\\).</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-824">当前目录不同于原始目录，该目录是启动进程的目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-824">The current directory is distinct from the original directory, which is the one from which the process was started.</span></span>  
  
 <span data-ttu-id="994d2-825">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-825">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-826">下面的示例演示如何使用 `GetCurrentDirectory` 方法。</span><span class="sxs-lookup"><span data-stu-id="994d2-826">The following example demonstrates how to use the `GetCurrentDirectory` method.</span></span>  
  
 [!code-cpp[Dir_GetCurDir#1](~/samples/snippets/cpp/VS_Snippets_CLR/Dir_GetCurDir/CPP/dir_getcurdir.cpp#1)]
 [!code-csharp[Dir_GetCurDir#1](~/samples/snippets/csharp/VS_Snippets_CLR/Dir_GetCurDir/CS/dir_getcurdir.cs#1)]
 [!code-vb[Dir_GetCurDir#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Dir_GetCurDir/VB/dir_getcurdir.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-827">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-827">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="994d2-828">此操作系统为 Windows CE，该系统不具有当前目录功能。</span><span class="sxs-lookup"><span data-stu-id="994d2-828">The operating system is Windows CE, which does not have current directory functionality.</span></span>  
  
 <span data-ttu-id="994d2-829">此方法在 .NET Compact Framework 中可用，但当前不支持。</span><span class="sxs-lookup"><span data-stu-id="994d2-829">This method is available in the .NET Compact Framework, but is not currently supported.</span></span></exception>
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-830">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-830">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-831">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-831">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-832">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-832">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="GetDirectories">
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="994d2-833">返回满足指定条件的子目录的名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-833">Returns the names of subdirectories that meet specified criteria.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetDirectories">
      <MemberSignature Language="C#" Value="public static string[] GetDirectories (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetDirectories(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetDirectories(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetDirectories (path As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetDirectories(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member GetDirectories : string -&gt; string[]" Usage="System.IO.Directory.GetDirectories path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-834">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-834">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-835">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-835">This string is not case-sensitive.</span></span></param>
        <summary><span data-ttu-id="994d2-836">返回指定目录中的子目录的名称（包括其路径）。</span><span class="sxs-lookup"><span data-stu-id="994d2-836">Returns the names of subdirectories (including their paths) in the specified directory.</span></span></summary>
        <returns><span data-ttu-id="994d2-837">指定路径中子目录的完整名称（包含路径）的数组；如果未找到任何目录，则为空数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-837">An array of the full names (including paths) of subdirectories in the specified path, or an empty array if no directories are found.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-838">此方法等同于将星号（\*）指定为搜索模式的 <xref:System.IO.Directory.GetDirectories%28System.String%2CSystem.String%29>，因此它将返回所有子目录。如果需要搜索子目录，请使用 <xref:System.IO.Directory.GetDirectories%28System.String%2CSystem.String%2CSystem.IO.SearchOption%29> 方法，该方法使你能够使用 `searchOption` 参数指定子目录搜索。</span><span class="sxs-lookup"><span data-stu-id="994d2-838">This method is identical to <xref:System.IO.Directory.GetDirectories%28System.String%2CSystem.String%29> with the asterisk (\*) specified as the search pattern, so it returns all subdirectories.If you need to search subdirectories, use the <xref:System.IO.Directory.GetDirectories%28System.String%2CSystem.String%2CSystem.IO.SearchOption%29> method, which enables you to specify a search of subdirectories with the `searchOption` parameter.</span></span>  
  
 <span data-ttu-id="994d2-839"><xref:System.IO.Directory.EnumerateDirectories%2A> 和 <xref:System.IO.Directory.GetDirectories%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateDirectories%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetDirectories%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-839">The <xref:System.IO.Directory.EnumerateDirectories%2A> and <xref:System.IO.Directory.GetDirectories%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateDirectories%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetDirectories%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-840">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateDirectories%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-840">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateDirectories%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-841">`path` 参数可以指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-841">The `path` parameter can specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-842">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-842">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-843">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-843">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-844">此方法返回的名称以 `path`中提供的目录信息为前缀。</span><span class="sxs-lookup"><span data-stu-id="994d2-844">The names returned by this method are prefixed with the directory information provided in `path`.</span></span>  
  
 <span data-ttu-id="994d2-845">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-845">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-846">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-846">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-847">下面的示例使用命令行中的一个文件或目录名数组，确定它的名称类型，并对其进行适当的处理。</span><span class="sxs-lookup"><span data-stu-id="994d2-847">The following example takes an array of file or directory names on the command line, determines what kind of name it is, and processes it appropriately.</span></span>  
  
 [!code-cpp[Recursive file finder#1](~/samples/snippets/cpp/VS_Snippets_CLR/Recursive file finder/CPP/directorylisting.cpp#1)]
 [!code-csharp[Recursive file finder#1](~/samples/snippets/csharp/VS_Snippets_CLR/Recursive file finder/CS/directorylisting.cs#1)]
 [!code-vb[Recursive file finder#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Recursive file finder/VB/directorylisting.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-848">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-848">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-849"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-849"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-850">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-850">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-851"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-851"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-852">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-852">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-853"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-853"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-854">指定的路径无效（例如，它位于未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-854">The specified path is invalid (for example, it is on an unmapped drive).</span></span></exception>
        <altmember cref="M:System.IO.Directory.GetCurrentDirectory" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-855">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-855">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-856">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-856">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-857">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-857">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetDirectories">
      <MemberSignature Language="C#" Value="public static string[] GetDirectories (string path, string searchPattern);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetDirectories(string path, string searchPattern) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetDirectories(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetDirectories (path As String, searchPattern As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetDirectories(System::String ^ path, System::String ^ searchPattern);" />
      <MemberSignature Language="F#" Value="static member GetDirectories : string * string -&gt; string[]" Usage="System.IO.Directory.GetDirectories (path, searchPattern)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="searchPattern" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-858">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-858">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-859">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-859">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-860">要与 <paramref name="path" /> 中的子目录的名称匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-860">The search string to match against the names of subdirectories in <paramref name="path" />.</span></span> <span data-ttu-id="994d2-861">此参数可以包含有效文本和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-861">This parameter can contain a combination of valid literal and wildcard characters, but it doesn't support regular expressions.</span></span></param>
        <summary><span data-ttu-id="994d2-862">返回指定目录中与指定的搜索模式匹配的子目录的名称（包括其路径）。</span><span class="sxs-lookup"><span data-stu-id="994d2-862">Returns the names of subdirectories (including their paths) that match the specified search pattern in the specified directory.</span></span></summary>
        <returns><span data-ttu-id="994d2-863">指定目录中与搜索模式匹配的子目录的完整名称（包含路径）的数组；如果未找到任何文件，则为空数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-863">An array of the full names (including paths) of the subdirectories that match the search pattern in the specified directory, or an empty array if no directories are found.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-864">此方法返回与指定的搜索模式匹配的指定目录下的所有子目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-864">This method returns all subdirectories directly under the specified directory that match the specified search pattern.</span></span> <span data-ttu-id="994d2-865">如果指定的目录没有子目录，或者没有与 `searchPattern` 参数匹配的子目录，则此方法将返回一个空数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-865">If the specified directory has no subdirectories, or no subdirectories match the `searchPattern` parameter, this method returns an empty array.</span></span> <span data-ttu-id="994d2-866">仅搜索顶级目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-866">Only the top directory is searched.</span></span> <span data-ttu-id="994d2-867">如果还想要搜索子目录，请使用 <xref:System.IO.Directory.GetDirectories%28System.String%2CSystem.String%2CSystem.IO.SearchOption%29> 方法，并在 `searchOption` 参数中指定 <xref:System.IO.SearchOption.AllDirectories>。</span><span class="sxs-lookup"><span data-stu-id="994d2-867">If you want to search the subdirectories as well, use the <xref:System.IO.Directory.GetDirectories%28System.String%2CSystem.String%2CSystem.IO.SearchOption%29> method and specify <xref:System.IO.SearchOption.AllDirectories> in the `searchOption` parameter.</span></span>  
  
 <span data-ttu-id="994d2-868">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-868">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-869">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-869">The following wildcard specifiers are permitted in `searchPattern`.</span></span>  
  
|<span data-ttu-id="994d2-870">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-870">Wildcard specifier</span></span>|<span data-ttu-id="994d2-871">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-871">Matches</span></span>|  
|------------------------|-------------|  
|<span data-ttu-id="994d2-872">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-872">\* (asterisk)</span></span>|<span data-ttu-id="994d2-873">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-873">Zero or more characters in that position.</span></span>|  
|<span data-ttu-id="994d2-874">?</span><span class="sxs-lookup"><span data-stu-id="994d2-874">?</span></span> <span data-ttu-id="994d2-875">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-875">(question mark)</span></span>|<span data-ttu-id="994d2-876">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-876">Zero or one character in that position.</span></span>|  
  
 <span data-ttu-id="994d2-877">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-877">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-878">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-878">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-879">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-879">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>  
  
 <span data-ttu-id="994d2-880">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-880">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-881">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-881">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>  
  
 <span data-ttu-id="994d2-882">`path` 参数可以指定相对或绝对路径信息，并且不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-882">The `path` parameter can specify relative or absolute path information, and is not case-sensitive.</span></span>  <span data-ttu-id="994d2-883">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-883">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-884">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-884">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-885"><xref:System.IO.Directory.EnumerateDirectories%2A> 和 <xref:System.IO.Directory.GetDirectories%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateDirectories%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetDirectories%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-885">The <xref:System.IO.Directory.EnumerateDirectories%2A> and <xref:System.IO.Directory.GetDirectories%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateDirectories%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetDirectories%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-886">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateDirectories%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-886">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateDirectories%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-887">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-887">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-888">下面的示例对路径中以指定字母开头的目录的数目进行计数。</span><span class="sxs-lookup"><span data-stu-id="994d2-888">The following example counts the number of directories in a path that begin with the specified letter.</span></span>  
  
 [!code-cpp[Dir_GetDirs2#1](~/samples/snippets/cpp/VS_Snippets_CLR/Dir_GetDirs2/CPP/dir_getdirs2.cpp#1)]
 [!code-csharp[Dir_GetDirs2#1](~/samples/snippets/csharp/VS_Snippets_CLR/Dir_GetDirs2/CS/dir_getdirs2.cs#1)]
 [!code-vb[Dir_GetDirs2#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Dir_GetDirs2/VB/dir_getdirs2.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-889">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-889">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-890"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-890"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-891">可以通过使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 查询无效的字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-891">You can query for invalid characters by using <see cref="M:System.IO.Path.GetInvalidPathChars" />.</span></span>  
  
<span data-ttu-id="994d2-892">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-892">-or-</span></span> 
 <span data-ttu-id="994d2-893"><paramref name="searchPattern" /> 不包含有效的模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-893"><paramref name="searchPattern" /> doesn't contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-894"><paramref name="path" /> 或 <paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-894"><paramref name="path" /> or <paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-895">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-895">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-896"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-896"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-897">指定的路径无效（例如，它位于未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-897">The specified path is invalid (for example, it is on an unmapped drive).</span></span></exception>
        <altmember cref="M:System.IO.Directory.GetCurrentDirectory" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-898">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-898">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-899">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-899">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-900">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-900">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetDirectories">
      <MemberSignature Language="C#" Value="public static string[] GetDirectories (string path, string searchPattern, System.IO.EnumerationOptions enumerationOptions);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetDirectories(string path, string searchPattern, class System.IO.EnumerationOptions enumerationOptions) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetDirectories(System.String,System.String,System.IO.EnumerationOptions)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetDirectories(System::String ^ path, System::String ^ searchPattern, System::IO::EnumerationOptions ^ enumerationOptions);" />
      <MemberSignature Language="F#" Value="static member GetDirectories : string * string * System.IO.EnumerationOptions -&gt; string[]" Usage="System.IO.Directory.GetDirectories (path, searchPattern, enumerationOptions)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
        <Parameter Name="enumerationOptions" Type="System.IO.EnumerationOptions" Index="2" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-901">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-901">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-902">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-902">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-903">要与 <paramref name="path" /> 中的子目录的名称匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-903">The search string to match against the names of subdirectories in <paramref name="path" />.</span></span> <span data-ttu-id="994d2-904">此参数可以包含有效文本和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-904">This parameter can contain a combination of valid literal and wildcard characters, but it doesn't support regular expressions.</span></span></param>
        <param name="enumerationOptions"><span data-ttu-id="994d2-905">描述要使用的搜索和枚举配置的对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-905">An object that describes the search and enumeration configuration to use.</span></span></param>
        <summary><span data-ttu-id="994d2-906">返回指定目录中与指定的搜索模式和枚举选项匹配的子目录的名称（包括其路径）。</span><span class="sxs-lookup"><span data-stu-id="994d2-906">Returns the names of subdirectories (including their paths) that match the specified search pattern and enumeration options in the specified directory.</span></span></summary>
        <returns><span data-ttu-id="994d2-907">一个数组，它包含指定目录中与搜索模式和枚举选项匹配的子目录的完整名称（包含路径）；如果未找到任何文件，则为空数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-907">An array of the full names (including paths) of the subdirectories that match the search pattern and enumeration options in the specified directory, or an empty array if no directories are found.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-908">此方法返回与指定的搜索模式匹配的指定目录下的所有子目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-908">This method returns all subdirectories directly under the specified directory that match the specified search pattern.</span></span> <span data-ttu-id="994d2-909">如果指定的目录没有子目录，或者没有与 `searchPattern` 参数匹配的子目录，则此方法将返回一个空数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-909">If the specified directory has no subdirectories, or no subdirectories match the `searchPattern` parameter, this method returns an empty array.</span></span> <span data-ttu-id="994d2-910">仅搜索顶级目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-910">Only the top directory is searched.</span></span> <span data-ttu-id="994d2-911">如果还想要搜索子目录，请使用 <xref:System.IO.Directory.GetDirectories%28System.String%2CSystem.String%2CSystem.IO.SearchOption%29> 方法，并在 `searchOption` 参数中指定 <xref:System.IO.SearchOption.AllDirectories>。</span><span class="sxs-lookup"><span data-stu-id="994d2-911">If you want to search the subdirectories as well, use the <xref:System.IO.Directory.GetDirectories%28System.String%2CSystem.String%2CSystem.IO.SearchOption%29> method and specify <xref:System.IO.SearchOption.AllDirectories> in the `searchOption` parameter.</span></span>

 <span data-ttu-id="994d2-912">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-912">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-913">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-913">The following wildcard specifiers are permitted in `searchPattern`.</span></span>

|<span data-ttu-id="994d2-914">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-914">Wildcard specifier</span></span>|<span data-ttu-id="994d2-915">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-915">Matches</span></span>|
|------------------------|-------------|
|<span data-ttu-id="994d2-916">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-916">\* (asterisk)</span></span>|<span data-ttu-id="994d2-917">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-917">Zero or more characters in that position.</span></span>|
|<span data-ttu-id="994d2-918">?</span><span class="sxs-lookup"><span data-stu-id="994d2-918">?</span></span> <span data-ttu-id="994d2-919">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-919">(question mark)</span></span>|<span data-ttu-id="994d2-920">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-920">Zero or one character in that position.</span></span>|

 <span data-ttu-id="994d2-921">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-921">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-922">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-922">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-923">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-923">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>

 <span data-ttu-id="994d2-924">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-924">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-925">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-925">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>

 <span data-ttu-id="994d2-926">`path` 参数可以指定相对或绝对路径信息，并且不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-926">The `path` parameter can specify relative or absolute path information, and is not case-sensitive.</span></span>  <span data-ttu-id="994d2-927">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-927">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-928">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-928">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>

 <span data-ttu-id="994d2-929"><xref:System.IO.Directory.EnumerateDirectories%2A> 和 <xref:System.IO.Directory.GetDirectories%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateDirectories%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetDirectories%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-929">The <xref:System.IO.Directory.EnumerateDirectories%2A> and <xref:System.IO.Directory.GetDirectories%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateDirectories%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetDirectories%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-930">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateDirectories%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-930">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateDirectories%2A> can be more efficient.</span></span>

 <span data-ttu-id="994d2-931">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-931">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>
  
 ]]></format>
        </remarks>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-932">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-932">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-933"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-933"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-934">可以通过使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 查询无效的字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-934">You can query for invalid characters by using <see cref="M:System.IO.Path.GetInvalidPathChars" />.</span></span>  
  
<span data-ttu-id="994d2-935">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-935">-or-</span></span> 
 <span data-ttu-id="994d2-936"><paramref name="searchPattern" /> 不包含有效的模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-936"><paramref name="searchPattern" /> doesn't contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-937"><paramref name="path" /> 或 <paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-937"><paramref name="path" /> or <paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-938">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-938">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-939"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-939"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-940">指定的路径无效（例如，它位于未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-940">The specified path is invalid (for example, it is on an unmapped drive).</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetDirectories">
      <MemberSignature Language="C#" Value="public static string[] GetDirectories (string path, string searchPattern, System.IO.SearchOption searchOption);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetDirectories(string path, string searchPattern, valuetype System.IO.SearchOption searchOption) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetDirectories(System.String,System.String,System.IO.SearchOption)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetDirectories(System::String ^ path, System::String ^ searchPattern, System::IO::SearchOption searchOption);" />
      <MemberSignature Language="F#" Value="static member GetDirectories : string * string * System.IO.SearchOption -&gt; string[]" Usage="System.IO.Directory.GetDirectories (path, searchPattern, searchOption)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchOption" Type="System.IO.SearchOption" Index="2" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-941">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-941">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-942">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-942">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-943">要与 <paramref name="path" /> 中的子目录的名称匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-943">The search string to match against the names of subdirectories in <paramref name="path" />.</span></span> <span data-ttu-id="994d2-944">此参数可以包含有效文本和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-944">This parameter can contain a combination of valid literal and wildcard characters, but it doesn't support regular expressions.</span></span></param>
        <param name="searchOption"><span data-ttu-id="994d2-945">用于指定搜索操作是应包含所有子目录还是仅包含当前目录的枚举值之一。</span><span class="sxs-lookup"><span data-stu-id="994d2-945">One of the enumeration values that specifies whether the search operation should include all subdirectories or only the current directory.</span></span></param>
        <summary><span data-ttu-id="994d2-946">返回与在指定目录中的指定搜索模式匹配的子目录的名称（包括其路径），还可以选择地搜索子目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-946">Returns the names of the subdirectories (including their paths) that match the specified search pattern in the specified directory, and optionally searches subdirectories.</span></span></summary>
        <returns><span data-ttu-id="994d2-947">与指定条件匹配的子目录的完整名称（包含路径）的数组；如果未找到任何目录，则为空数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-947">An array of the full names (including paths) of the subdirectories that match the specified criteria, or an empty array if no directories are found.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-948">`path` 参数可以指定相对或绝对路径信息，并且不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-948">The `path` parameter can specify relative or absolute path information, and is not case-sensitive.</span></span> <span data-ttu-id="994d2-949">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-949">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-950">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-950">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-951">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-951">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-952">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-952">The following wildcard specifiers are permitted in `searchPattern`.</span></span>  
  
|<span data-ttu-id="994d2-953">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-953">Wildcard specifier</span></span>|<span data-ttu-id="994d2-954">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-954">Matches</span></span>|  
|------------------------|-------------|  
|<span data-ttu-id="994d2-955">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-955">\* (asterisk)</span></span>|<span data-ttu-id="994d2-956">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-956">Zero or more characters in that position.</span></span>|  
|<span data-ttu-id="994d2-957">?</span><span class="sxs-lookup"><span data-stu-id="994d2-957">?</span></span> <span data-ttu-id="994d2-958">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-958">(question mark)</span></span>|<span data-ttu-id="994d2-959">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-959">Zero or one character in that position.</span></span>|  
  
 <span data-ttu-id="994d2-960">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-960">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-961">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-961">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-962">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-962">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>  
  
 <span data-ttu-id="994d2-963">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-963">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-964">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-964">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>  
  
 <span data-ttu-id="994d2-965"><xref:System.IO.Directory.EnumerateDirectories%2A> 和 <xref:System.IO.Directory.GetDirectories%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateDirectories%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetDirectories%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-965">The <xref:System.IO.Directory.EnumerateDirectories%2A> and <xref:System.IO.Directory.GetDirectories%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateDirectories%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetDirectories%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-966">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateDirectories%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-966">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateDirectories%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-967">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-967">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-968">下面的示例对路径中以指定字母开头的目录的数目进行计数。</span><span class="sxs-lookup"><span data-stu-id="994d2-968">The following example counts the number of directories that begin with the specified letter in a path.</span></span> <span data-ttu-id="994d2-969">仅搜索顶级目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-969">Only the top-level directory is searched.</span></span>  
  
 [!code-csharp[Dir_GetDirs2#2](~/samples/snippets/csharp/VS_Snippets_CLR/Dir_GetDirs2/CS/dir_getdirs3.cs#2)]
 [!code-vb[Dir_GetDirs2#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/Dir_GetDirs2/VB/dir_getdirs3.vb#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-970"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-970"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-971">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-971">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-972">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-972">-or-</span></span> 
 <span data-ttu-id="994d2-973"><paramref name="searchPattern" /> 不包含有效模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-973"><paramref name="searchPattern" /> does not contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-974"><paramref name="path" /> 或 <paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-974"><paramref name="path" /> or <paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-975"><paramref name="searchOption" /> 不是有效的 <see cref="T:System.IO.SearchOption" /> 值。</span><span class="sxs-lookup"><span data-stu-id="994d2-975"><paramref name="searchOption" /> is not a valid <see cref="T:System.IO.SearchOption" /> value.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-976">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-976">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-977">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-977">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-978"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-978"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-979">指定的路径无效（例如，它位于未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-979">The specified path is invalid (for example, it is on an unmapped drive).</span></span></exception>
        <altmember cref="M:System.IO.Directory.GetCurrentDirectory" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-980">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-980">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-981">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-981">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-982">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-982">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetDirectoryRoot">
      <MemberSignature Language="C#" Value="public static string GetDirectoryRoot (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string GetDirectoryRoot(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetDirectoryRoot(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetDirectoryRoot (path As String) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::String ^ GetDirectoryRoot(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member GetDirectoryRoot : string -&gt; string" Usage="System.IO.Directory.GetDirectoryRoot path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-983">文件或目录的路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-983">The path of a file or directory.</span></span></param>
        <summary><span data-ttu-id="994d2-984">返回指定路径的卷信息、根信息或两者同时返回。</span><span class="sxs-lookup"><span data-stu-id="994d2-984">Returns the volume information, root information, or both for the specified path.</span></span></summary>
        <returns><span data-ttu-id="994d2-985">包含指定路径的卷信息、根信息或同时包括这两者的字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-985">A string that contains the volume information, root information, or both for the specified path.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-986">此方法获取 `path`的完全限定路径名称（由 <xref:System.IO.Path.GetFullPath%2A>返回），并返回根目录信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-986">This method obtains the fully qualified path name of `path`, as returned by <xref:System.IO.Path.GetFullPath%2A>, and returns root directory information.</span></span> <span data-ttu-id="994d2-987">指定的路径不需要存在。</span><span class="sxs-lookup"><span data-stu-id="994d2-987">The specified path is not required to exist.</span></span>  
  
 <span data-ttu-id="994d2-988">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-988">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-989">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-989">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-990">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-990">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-991">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-991">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-992">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-992">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-993">下面的示例演示如何设置当前目录并显示目录根。</span><span class="sxs-lookup"><span data-stu-id="994d2-993">The following example illustrates how to set the current directory and display the directory root.</span></span>  
  
 [!code-cpp[System.IO.DirectoryRoot#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.DirectoryRoot/CPP/example.cpp#1)]
 [!code-csharp[System.IO.DirectoryRoot#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.DirectoryRoot/CS/example.cs#1)]
 [!code-vb[System.IO.DirectoryRoot#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.DirectoryRoot/VB/example.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-994">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-994">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-995"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-995"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-996">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-996">You can query for invalid characters with <see cref="M:System.IO.Path.GetInvalidPathChars" />.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-997"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-997"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-998">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-998">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-999">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-999">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1000">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1000">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1001">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1001">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="GetFiles">
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="994d2-1002">返回满足指定条件的文件的名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1002">Returns the names of files that meet specified criteria.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetFiles">
      <MemberSignature Language="C#" Value="public static string[] GetFiles (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetFiles(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetFiles(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetFiles (path As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetFiles(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member GetFiles : string -&gt; string[]" Usage="System.IO.Directory.GetFiles path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1003">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1003">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-1004">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1004">This string is not case-sensitive.</span></span></param>
        <summary><span data-ttu-id="994d2-1005">返回指定目录中文件的名称（包括其路径）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1005">Returns the names of files (including their paths) in the specified directory.</span></span></summary>
        <returns><span data-ttu-id="994d2-1006">一个包含指定目录中的文件的完整名称（包含路径）的数组，如果未找到任何文件，则为空数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1006">An array of the full names (including paths) for the files in the specified directory, or an empty array if no files are found.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1007"><xref:System.IO.Directory.EnumerateFiles%2A> 和 <xref:System.IO.Directory.GetFiles%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateFiles%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetFiles%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1007">The <xref:System.IO.Directory.EnumerateFiles%2A> and <xref:System.IO.Directory.GetFiles%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateFiles%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetFiles%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-1008">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateFiles%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-1008">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateFiles%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-1009">返回的文件名将追加到提供的 `path` 参数中。</span><span class="sxs-lookup"><span data-stu-id="994d2-1009">The returned file names are appended to the supplied `path` parameter.</span></span>  
  
 <span data-ttu-id="994d2-1010">此方法等同于将星号（\*）指定为搜索模式的 <xref:System.IO.Directory.GetFiles%28System.String%2CSystem.String%29>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1010">This method is identical to <xref:System.IO.Directory.GetFiles%28System.String%2CSystem.String%29> with the asterisk (\*) specified as the search pattern.</span></span>  
  
 <span data-ttu-id="994d2-1011">`path` 参数可以指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1011">The `path` parameter can specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1012">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1012">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1013">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1013">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1014">不保证返回的文件名的顺序;如果需要特定的排序顺序，请使用 <xref:System.Array.Sort%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="994d2-1014">The order of the returned file names is not guaranteed; use the <xref:System.Array.Sort%2A> method if a specific sort order is required.</span></span>  
  
 <span data-ttu-id="994d2-1015">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1015">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-1016">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1016">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1017">下面的示例演示如何使用 <xref:System.IO.Directory.GetFiles%2A> 方法从用户指定的位置返回文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-1017">The following example demonstrates how to use the <xref:System.IO.Directory.GetFiles%2A> method to return file names from a user-specified location.</span></span> <span data-ttu-id="994d2-1018">该示例配置为捕获此方法通用的所有错误。</span><span class="sxs-lookup"><span data-stu-id="994d2-1018">The example is configured to catch all errors common to this method.</span></span>  
  
 [!code-cpp[Recursive file finder#1](~/samples/snippets/cpp/VS_Snippets_CLR/Recursive file finder/CPP/directorylisting.cpp#1)]
 [!code-csharp[Recursive file finder#1](~/samples/snippets/csharp/VS_Snippets_CLR/Recursive file finder/CS/directorylisting.cs#1)]
 [!code-vb[Recursive file finder#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Recursive file finder/VB/directorylisting.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-1019"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-1019"><paramref name="path" /> is a file name.</span></span>  
  
<span data-ttu-id="994d2-1020">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1020">-or-</span></span> 
<span data-ttu-id="994d2-1021">发生了网络错误。</span><span class="sxs-lookup"><span data-stu-id="994d2-1021">A network error has occurred.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1022">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1022">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1023"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1023"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1024">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1024">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1025"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1025"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1026">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1026">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-1027">指定的路径未找到或无效（例如，它在未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1027">The specified path is not found or is invalid (for example, it is on an unmapped drive).</span></span></exception>
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1028">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1028">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1029">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1029">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1030">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1030">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetFiles">
      <MemberSignature Language="C#" Value="public static string[] GetFiles (string path, string searchPattern);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetFiles(string path, string searchPattern) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetFiles(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetFiles (path As String, searchPattern As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetFiles(System::String ^ path, System::String ^ searchPattern);" />
      <MemberSignature Language="F#" Value="static member GetFiles : string * string -&gt; string[]" Usage="System.IO.Directory.GetFiles (path, searchPattern)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="searchPattern" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1031">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1031">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-1032">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1032">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-1033">要与 <paramref name="path" /> 中的文件名匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-1033">The search string to match against the names of files in <paramref name="path" />.</span></span>  <span data-ttu-id="994d2-1034">此参数可以包含有效文本路径和通配符（\* 和 ?）的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1034">This parameter can contain a combination of valid literal path and wildcard (\* and ?) characters, but it doesn't support regular expressions.</span></span></param>
        <summary><span data-ttu-id="994d2-1035">返回指定目录中与指定的搜索模式匹配的文件的名称（包含其路径）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1035">Returns the names of files (including their paths) that match the specified search pattern in the specified directory.</span></span></summary>
        <returns><span data-ttu-id="994d2-1036">指定目录中与指定的搜索模式匹配的文件的完整名称（包含路径）的数组；如果未找到任何文件，则为空数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1036">An array of the full names (including paths) for the files in the specified directory that match the specified search pattern, or an empty array if no files are found.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1037">返回的文件名将追加到所提供的 `path` 参数上，并且不保证返回的文件名的顺序。如果需要特定的排序顺序，请使用 <xref:System.Array.Sort%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="994d2-1037">The returned file names are appended to the supplied `path` parameter and the order of the returned file names is not guaranteed; use the <xref:System.Array.Sort%2A> method if a specific sort order is required.</span></span>  
  
 <span data-ttu-id="994d2-1038">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1038">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-1039">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1039">The following wildcard specifiers are permitted in `searchPattern`.</span></span>  
  
|<span data-ttu-id="994d2-1040">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-1040">Wildcard specifier</span></span>|<span data-ttu-id="994d2-1041">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-1041">Matches</span></span>|  
|------------------------|-------------|  
|<span data-ttu-id="994d2-1042">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-1042">\* (asterisk)</span></span>|<span data-ttu-id="994d2-1043">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1043">Zero or more characters in that position.</span></span>|  
|<span data-ttu-id="994d2-1044">?</span><span class="sxs-lookup"><span data-stu-id="994d2-1044">?</span></span> <span data-ttu-id="994d2-1045">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-1045">(question mark)</span></span>|<span data-ttu-id="994d2-1046">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1046">Zero or one character in that position.</span></span>|  
  
 <span data-ttu-id="994d2-1047">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1047">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-1048">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1048">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-1049">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1049">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>  
  
 <span data-ttu-id="994d2-1050">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1050">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-1051">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1051">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="994d2-1052">如果在 `searchPattern` 如 "\*.txt" 中使用星号通配符，则指定扩展中的字符数将影响搜索，如下所示：</span><span class="sxs-lookup"><span data-stu-id="994d2-1052">When you use the asterisk wildcard character in a `searchPattern` such as "\*.txt", the number of characters in the specified extension affects the search as follows:</span></span>  
>   
> -   <span data-ttu-id="994d2-1053">如果指定的扩展长度恰好为三个字符，则该方法将返回扩展名以指定扩展名开头的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1053">If the specified extension is exactly three characters long, the method returns files with extensions that begin with the specified extension.</span></span> <span data-ttu-id="994d2-1054">例如，"\*.xls" 同时返回 "node.js" 和 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1054">For example, "\*.xls" returns both "book.xls" and "book.xlsx".</span></span>  
> -   <span data-ttu-id="994d2-1055">在所有其他情况下，该方法将返回完全与指定扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1055">In all other cases, the method returns files that exactly match the specified extension.</span></span> <span data-ttu-id="994d2-1056">例如，"\*" 将返回 "file.ai"，而不是 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1056">For example, "\*.ai" returns "file.ai" but not "file.aif".</span></span>  
>   
>  <span data-ttu-id="994d2-1057">使用问号通配符时，此方法只返回与指定文件扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1057">When you use the question mark wildcard character, this method returns only files that match the specified file extension.</span></span> <span data-ttu-id="994d2-1058">例如，给定两个文件： "file1" 和 "txtother"，在目录中，"文件？" 的搜索模式。txt "只返回第一个文件，而" file\*.txt "的搜索模式返回这两个文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1058">For example, given two files, "file1.txt" and "file1.txtother", in a directory, a search pattern of "file?.txt" returns just the first file, whereas a search pattern of "file\*.txt" returns both files.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="994d2-1059">由于此方法使用8.3 文件名格式和长文件名格式的文件名进行检查，因此类似于 "\*1\*.txt" 的搜索模式可能会返回意外的文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-1059">Because this method checks against file names with both the 8.3 file name format and the long file name format, a search pattern similar to "\*1\*.txt" may return unexpected file names.</span></span> <span data-ttu-id="994d2-1060">例如，使用搜索模式 "\*1\*.txt" 将返回 "longfilename"，因为等效的8.3 文件名格式为 "LONGFI ~ 1 .TXT"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1060">For example, using a search pattern of "\*1\*.txt" returns "longfilename.txt" because the equivalent 8.3 file name format is "LONGFI~1.TXT".</span></span>  
  
 <span data-ttu-id="994d2-1061"><xref:System.IO.Directory.EnumerateFiles%2A> 和 <xref:System.IO.Directory.GetFiles%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateFiles%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetFiles%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1061">The <xref:System.IO.Directory.EnumerateFiles%2A> and <xref:System.IO.Directory.GetFiles%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateFiles%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetFiles%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-1062">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateFiles%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-1062">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateFiles%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-1063">`path` 参数可以指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1063">The `path` parameter can specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1064">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1064">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1065">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1065">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1066">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1066">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-1067">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1067">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1068">下面的示例计算以指定字母开头的文件的数目。</span><span class="sxs-lookup"><span data-stu-id="994d2-1068">The following example counts the number of files that begin with the specified letter.</span></span>  
  
 [!code-cpp[Dir_GetFiles2#1](~/samples/snippets/cpp/VS_Snippets_CLR/Dir_GetFiles2/CPP/dir_getfiles2.cpp#1)]
 [!code-csharp[Dir_GetFiles2#1](~/samples/snippets/csharp/VS_Snippets_CLR/Dir_GetFiles2/CS/dir_getfiles2.cs#1)]
 [!code-vb[Dir_GetFiles2#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Dir_GetFiles2/VB/dir_getfiles2.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-1069"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-1069"><paramref name="path" /> is a file name.</span></span>  
  
<span data-ttu-id="994d2-1070">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1070">-or-</span></span> 
<span data-ttu-id="994d2-1071">发生了网络错误。</span><span class="sxs-lookup"><span data-stu-id="994d2-1071">A network error has occurred.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1072">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1072">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1073"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1073"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1074">可以通过使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 查询无效的字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1074">You can query for invalid characters by using <see cref="M:System.IO.Path.GetInvalidPathChars" />.</span></span>  
  
<span data-ttu-id="994d2-1075">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1075">-or-</span></span> 
 <span data-ttu-id="994d2-1076"><paramref name="searchPattern" /> 不包含有效的模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1076"><paramref name="searchPattern" /> doesn't contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1077"><paramref name="path" /> 或 <paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1077"><paramref name="path" /> or <paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1078">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1078">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-1079">指定的路径未找到或无效（例如，它在未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1079">The specified path is not found or is invalid (for example, it is on an unmapped drive).</span></span></exception>
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1080">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1080">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1081">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1081">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1082">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1082">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetFiles">
      <MemberSignature Language="C#" Value="public static string[] GetFiles (string path, string searchPattern, System.IO.EnumerationOptions enumerationOptions);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetFiles(string path, string searchPattern, class System.IO.EnumerationOptions enumerationOptions) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetFiles(System.String,System.String,System.IO.EnumerationOptions)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetFiles(System::String ^ path, System::String ^ searchPattern, System::IO::EnumerationOptions ^ enumerationOptions);" />
      <MemberSignature Language="F#" Value="static member GetFiles : string * string * System.IO.EnumerationOptions -&gt; string[]" Usage="System.IO.Directory.GetFiles (path, searchPattern, enumerationOptions)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
        <Parameter Name="enumerationOptions" Type="System.IO.EnumerationOptions" Index="2" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1083">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1083">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-1084">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1084">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-1085">要与 <paramref name="path" /> 中的子目录的名称匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-1085">The search string to match against the names of subdirectories in <paramref name="path" />.</span></span> <span data-ttu-id="994d2-1086">此参数可以包含有效文本和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1086">This parameter can contain a combination of valid literal and wildcard characters, but it doesn't support regular expressions.</span></span></param>
        <param name="enumerationOptions"><span data-ttu-id="994d2-1087">描述要使用的搜索和枚举配置的对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-1087">An object that describes the search and enumeration configuration to use.</span></span></param>
        <summary><span data-ttu-id="994d2-1088">返回指定目录中与指定的搜索模式和枚举选项匹配的文件的名称（包括其路径）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1088">Returns the names of files (including their paths) that match the specified search pattern and enumeration options in the specified directory.</span></span></summary>
        <returns><span data-ttu-id="994d2-1089">一个数组，它包含指定目录中与指定的搜索模式和枚举选项匹配的文件的完整名称（包含路径）；如果未找到任何文件，则为空数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1089">An array of the full names (including paths) for the files in the specified directory that match the specified search pattern and enumeration options, or an empty array if no files are found.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1090">返回的文件名将追加到所提供的 `path` 参数上，并且不保证返回的文件名的顺序。如果需要特定的排序顺序，请使用 <xref:System.Array.Sort%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="994d2-1090">The returned file names are appended to the supplied `path` parameter and the order of the returned file names is not guaranteed; use the <xref:System.Array.Sort%2A> method if a specific sort order is required.</span></span>

 <span data-ttu-id="994d2-1091">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1091">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-1092">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1092">The following wildcard specifiers are permitted in `searchPattern`.</span></span>

|<span data-ttu-id="994d2-1093">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-1093">Wildcard specifier</span></span>|<span data-ttu-id="994d2-1094">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-1094">Matches</span></span>|
|------------------------|-------------|
|<span data-ttu-id="994d2-1095">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-1095">\* (asterisk)</span></span>|<span data-ttu-id="994d2-1096">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1096">Zero or more characters in that position.</span></span>|
|<span data-ttu-id="994d2-1097">?</span><span class="sxs-lookup"><span data-stu-id="994d2-1097">?</span></span> <span data-ttu-id="994d2-1098">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-1098">(question mark)</span></span>|<span data-ttu-id="994d2-1099">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1099">Zero or one character in that position.</span></span>|

 <span data-ttu-id="994d2-1100">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1100">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-1101">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1101">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-1102">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1102">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>

 <span data-ttu-id="994d2-1103">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1103">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-1104">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1104">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>

> [!NOTE]
>  <span data-ttu-id="994d2-1105">如果在 `searchPattern` 如 "\*.txt" 中使用星号通配符，则指定扩展中的字符数将影响搜索，如下所示：</span><span class="sxs-lookup"><span data-stu-id="994d2-1105">When you use the asterisk wildcard character in a `searchPattern` such as "\*.txt", the number of characters in the specified extension affects the search as follows:</span></span>
> 
> -   <span data-ttu-id="994d2-1106">如果指定的扩展长度恰好为三个字符，则该方法将返回扩展名以指定扩展名开头的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1106">If the specified extension is exactly three characters long, the method returns files with extensions that begin with the specified extension.</span></span> <span data-ttu-id="994d2-1107">例如，"\*.xls" 同时返回 "node.js" 和 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1107">For example, "\*.xls" returns both "book.xls" and "book.xlsx".</span></span>
> -   <span data-ttu-id="994d2-1108">在所有其他情况下，该方法将返回完全与指定扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1108">In all other cases, the method returns files that exactly match the specified extension.</span></span> <span data-ttu-id="994d2-1109">例如，"\*" 将返回 "file.ai"，而不是 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1109">For example, "\*.ai" returns "file.ai" but not "file.aif".</span></span>
> 
>  <span data-ttu-id="994d2-1110">使用问号通配符时，此方法只返回与指定文件扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1110">When you use the question mark wildcard character, this method returns only files that match the specified file extension.</span></span> <span data-ttu-id="994d2-1111">例如，给定两个文件： "file1" 和 "txtother"，在目录中，"文件？" 的搜索模式。txt "只返回第一个文件，而" file\*.txt "的搜索模式返回这两个文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1111">For example, given two files, "file1.txt" and "file1.txtother", in a directory, a search pattern of "file?.txt" returns just the first file, whereas a search pattern of "file\*.txt" returns both files.</span></span>

> [!NOTE]
>  <span data-ttu-id="994d2-1112">由于此方法使用8.3 文件名格式和长文件名格式的文件名进行检查，因此类似于 "\*1\*.txt" 的搜索模式可能会返回意外的文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-1112">Because this method checks against file names with both the 8.3 file name format and the long file name format, a search pattern similar to "\*1\*.txt" may return unexpected file names.</span></span> <span data-ttu-id="994d2-1113">例如，使用搜索模式 "\*1\*.txt" 将返回 "longfilename"，因为等效的8.3 文件名格式为 "LONGFI ~ 1 .TXT"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1113">For example, using a search pattern of "\*1\*.txt" returns "longfilename.txt" because the equivalent 8.3 file name format is "LONGFI~1.TXT".</span></span>

 <span data-ttu-id="994d2-1114"><xref:System.IO.Directory.EnumerateFiles%2A> 和 <xref:System.IO.Directory.GetFiles%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateFiles%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetFiles%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1114">The <xref:System.IO.Directory.EnumerateFiles%2A> and <xref:System.IO.Directory.GetFiles%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateFiles%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetFiles%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-1115">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateFiles%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-1115">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateFiles%2A> can be more efficient.</span></span>

 <span data-ttu-id="994d2-1116">`path` 参数可以指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1116">The `path` parameter can specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1117">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1117">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1118">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1118">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>

 <span data-ttu-id="994d2-1119">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1119">The `path` parameter is not case-sensitive.</span></span>

 <span data-ttu-id="994d2-1120">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1120">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-1121"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-1121"><paramref name="path" /> is a file name.</span></span>  
  
<span data-ttu-id="994d2-1122">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1122">-or-</span></span> 
<span data-ttu-id="994d2-1123">发生了网络错误。</span><span class="sxs-lookup"><span data-stu-id="994d2-1123">A network error has occurred.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1124">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1124">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1125"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1125"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1126">可以通过使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 查询无效的字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1126">You can query for invalid characters by using <see cref="M:System.IO.Path.GetInvalidPathChars" />.</span></span>  
  
<span data-ttu-id="994d2-1127">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1127">-or-</span></span> 
 <span data-ttu-id="994d2-1128"><paramref name="searchPattern" /> 不包含有效的模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1128"><paramref name="searchPattern" /> doesn't contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1129"><paramref name="path" /> 或 <paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1129"><paramref name="path" /> or <paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1130">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1130">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-1131">指定的路径未找到或无效（例如，它在未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1131">The specified path is not found or is invalid (for example, it is on an unmapped drive).</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetFiles">
      <MemberSignature Language="C#" Value="public static string[] GetFiles (string path, string searchPattern, System.IO.SearchOption searchOption);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetFiles(string path, string searchPattern, valuetype System.IO.SearchOption searchOption) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetFiles(System.String,System.String,System.IO.SearchOption)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetFiles(System::String ^ path, System::String ^ searchPattern, System::IO::SearchOption searchOption);" />
      <MemberSignature Language="F#" Value="static member GetFiles : string * string * System.IO.SearchOption -&gt; string[]" Usage="System.IO.Directory.GetFiles (path, searchPattern, searchOption)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchOption" Type="System.IO.SearchOption" Index="2" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1132">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1132">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-1133">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1133">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-1134">要与 <paramref name="path" /> 中的文件名匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-1134">The search string to match against the names of files in <paramref name="path" />.</span></span>  <span data-ttu-id="994d2-1135">此参数可以包含有效文本路径和通配符（\* 和 ?）的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1135">This parameter can contain a combination of valid literal path and wildcard (\* and ?) characters, but it doesn't support regular expressions.</span></span></param>
        <param name="searchOption"><span data-ttu-id="994d2-1136">用于指定搜索操作是应包含所有子目录还是仅包含当前目录的枚举值之一。</span><span class="sxs-lookup"><span data-stu-id="994d2-1136">One of the enumeration values that specifies whether the search operation should include all subdirectories or only the current directory.</span></span></param>
        <summary><span data-ttu-id="994d2-1137">返回指定目录中与指定的搜索模式匹配的文件的名称（包含其路径），使用某个值确定是否要搜索子目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1137">Returns the names of files (including their paths) that match the specified search pattern in the specified directory, using a value to determine whether to search subdirectories.</span></span></summary>
        <returns><span data-ttu-id="994d2-1138">指定目录中与指定的搜索模式和选项匹配的文件的完整名称（包含路径）的数组；如果未找到任何文件，则为空数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1138">An array of the full names (including paths) for the files in the specified directory that match the specified search pattern and option, or an empty array if no files are found.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1139">返回的文件名将追加到所提供的参数 `path` 并且不保证返回的文件名的顺序。如果需要特定的排序顺序，请使用 <xref:System.Array.Sort%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="994d2-1139">The returned file names are appended to the supplied  parameter `path` and the order of the returned file names is not guaranteed; use the <xref:System.Array.Sort%2A> method if a specific sort order is required.</span></span>  
  
 <span data-ttu-id="994d2-1140">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1140">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-1141">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1141">The following wildcard specifiers are permitted in `searchPattern`.</span></span>  
  
|<span data-ttu-id="994d2-1142">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-1142">Wildcard specifier</span></span>|<span data-ttu-id="994d2-1143">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-1143">Matches</span></span>|  
|------------------------|-------------|  
|<span data-ttu-id="994d2-1144">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-1144">\* (asterisk)</span></span>|<span data-ttu-id="994d2-1145">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1145">Zero or more characters in that position.</span></span>|  
|<span data-ttu-id="994d2-1146">?</span><span class="sxs-lookup"><span data-stu-id="994d2-1146">?</span></span> <span data-ttu-id="994d2-1147">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-1147">(question mark)</span></span>|<span data-ttu-id="994d2-1148">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1148">Zero or one character in that position.</span></span>|  
  
 <span data-ttu-id="994d2-1149">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1149">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-1150">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1150">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-1151">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1151">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>  
  
 <span data-ttu-id="994d2-1152">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1152">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-1153">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1153">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="994d2-1154">如果在 `searchPattern` 如 "\*.txt" 中使用星号通配符，则指定扩展中的字符数将影响搜索，如下所示：</span><span class="sxs-lookup"><span data-stu-id="994d2-1154">When you use the asterisk wildcard character in a `searchPattern` such as "\*.txt", the number of characters in the specified extension affects the search as follows:</span></span>  
>   
> -   <span data-ttu-id="994d2-1155">如果指定的扩展长度恰好为三个字符，则该方法将返回扩展名以指定扩展名开头的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1155">If the specified extension is exactly three characters long, the method returns files with extensions that begin with the specified extension.</span></span> <span data-ttu-id="994d2-1156">例如，"\*.xls" 同时返回 "node.js" 和 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1156">For example, "\*.xls" returns both "book.xls" and "book.xlsx".</span></span>  
> -   <span data-ttu-id="994d2-1157">在所有其他情况下，该方法将返回完全与指定扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1157">In all other cases, the method returns files that exactly match the specified extension.</span></span> <span data-ttu-id="994d2-1158">例如，"\*" 将返回 "file.ai"，而不是 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1158">For example, "\*.ai" returns "file.ai" but not "file.aif".</span></span>  
>   
>  <span data-ttu-id="994d2-1159">使用问号通配符时，此方法只返回与指定文件扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1159">When you use the question mark wildcard character, this method returns only files that match the specified file extension.</span></span> <span data-ttu-id="994d2-1160">例如，给定两个文件： "file1" 和 "txtother"，在目录中，"文件？" 的搜索模式。txt "只返回第一个文件，而" file\* "的搜索模式返回这两个文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1160">For example, given two files, "file1.txt" and "file1.txtother", in a directory, a search pattern of "file?.txt" returns just the first file, whereas a search pattern of "file\*.txt" returns both files.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="994d2-1161">由于此方法使用8.3 文件名格式和长文件名格式的文件名进行检查，因此类似于 "\*1\*.txt" 的搜索模式可能会返回意外的文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-1161">Because this method checks against file names with both the 8.3 file name format and the long file name format, a search pattern similar to "\*1\*.txt" may return unexpected file names.</span></span> <span data-ttu-id="994d2-1162">例如，使用搜索模式 "\*1\*.txt" 将返回 "longfilename"，因为等效的8.3 文件名格式为 "LONGFI ~ 1 .TXT"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1162">For example, using a search pattern of "\*1\*.txt" returns "longfilename.txt" because the equivalent 8.3 file name format is "LONGFI~1.TXT".</span></span>  
  
 <span data-ttu-id="994d2-1163"><xref:System.IO.Directory.EnumerateFiles%2A> 和 <xref:System.IO.Directory.GetFiles%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateFiles%2A>时，可以在返回整个集合之前开始枚举名称的集合;使用 <xref:System.IO.Directory.GetFiles%2A>时，必须等待返回整个名称数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1163">The <xref:System.IO.Directory.EnumerateFiles%2A> and <xref:System.IO.Directory.GetFiles%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateFiles%2A>, you can start enumerating the collection of names before the whole collection is returned; when you use <xref:System.IO.Directory.GetFiles%2A>, you must wait for the whole array of names to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-1164">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateFiles%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-1164">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateFiles%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-1165">文件名包含完整路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1165">The file names include the full path.</span></span>  
  
 <span data-ttu-id="994d2-1166">`path` 参数可以指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1166">The `path` parameter can specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1167">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1167">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1168">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1168">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1169">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1169">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-1170">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1170">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1171"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1171"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1172">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1172">You can query for invalid characters with the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-1173">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1173">-or-</span></span> 
 <span data-ttu-id="994d2-1174"><paramref name="searchPattern" /> 不包含有效模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1174"><paramref name="searchPattern" /> does not contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1175"><paramref name="path" /> 或 <paramref name="searchpattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1175"><paramref name="path" /> or <paramref name="searchpattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-1176"><paramref name="searchOption" /> 不是有效的 <see cref="T:System.IO.SearchOption" /> 值。</span><span class="sxs-lookup"><span data-stu-id="994d2-1176"><paramref name="searchOption" /> is not a valid <see cref="T:System.IO.SearchOption" /> value.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1177">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1177">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-1178">指定的路径未找到或无效（例如，它在未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1178">The specified path is not found or is invalid (for example, it is on an unmapped drive).</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1179">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1179">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-1180"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-1180"><paramref name="path" /> is a file name.</span></span>  
  
<span data-ttu-id="994d2-1181">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1181">-or-</span></span> 
<span data-ttu-id="994d2-1182">发生了网络错误。</span><span class="sxs-lookup"><span data-stu-id="994d2-1182">A network error has occurred.</span></span></exception>
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1183">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1183">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1184">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1184">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1185">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1185">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="GetFileSystemEntries">
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="994d2-1186">返回满足指定条件的所有文件和子目录的名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1186">Returns the names of all files and subdirectories that meet specified criteria.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetFileSystemEntries">
      <MemberSignature Language="C#" Value="public static string[] GetFileSystemEntries (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetFileSystemEntries(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetFileSystemEntries(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetFileSystemEntries (path As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetFileSystemEntries(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member GetFileSystemEntries : string -&gt; string[]" Usage="System.IO.Directory.GetFileSystemEntries path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1187">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1187">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-1188">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1188">This string is not case-sensitive.</span></span></param>
        <summary><span data-ttu-id="994d2-1189">返回指定路径中的所有文件和子目录的名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1189">Returns the names of all files and subdirectories in a specified path.</span></span></summary>
        <returns><span data-ttu-id="994d2-1190">指定目录中的文件和子目录的名称的数组；如果找不到任何文件或子目录，则为空数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1190">An array of the names of files and subdirectories in the specified directory, or an empty array if no files or subdirectories are found.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1191">不保证返回的文件和目录名称的顺序。如果需要特定的排序顺序，请使用 <xref:System.Array.Sort%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="994d2-1191">The order of the returned file and directory names is not guaranteed; use the <xref:System.Array.Sort%2A> method if a specific sort order is required.</span></span>  
  
 <span data-ttu-id="994d2-1192"><xref:System.IO.Directory.EnumerateFileSystemEntries%2A> 和 <xref:System.IO.Directory.GetFileSystemEntries%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateFileSystemEntries%2A>时，可以在返回整个集合之前，开始枚举条目的集合;使用 <xref:System.IO.Directory.GetFileSystemEntries%2A>时，必须等待返回整个项数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1192">The <xref:System.IO.Directory.EnumerateFileSystemEntries%2A> and <xref:System.IO.Directory.GetFileSystemEntries%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateFileSystemEntries%2A>, you can start enumerating the collection of entries before the whole collection is returned; when you use <xref:System.IO.Directory.GetFileSystemEntries%2A>, you must wait for the whole array of entries to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-1193">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateFiles%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-1193">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateFiles%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-1194">此方法等同于将星号（\*）指定为搜索模式的 <xref:System.IO.Directory.GetFileSystemEntries%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1194">This method is identical to <xref:System.IO.Directory.GetFileSystemEntries%2A> with the asterisk (\*) specified as the search pattern.</span></span>  
  
 <span data-ttu-id="994d2-1195">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1195">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1196">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1196">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1197">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1197">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1198">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1198">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-1199">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1199">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1200">下面的示例使用 <xref:System.IO.Directory.GetFileSystemEntries%2A> 方法，用用户指定的位置中所有文件和子目录的名称填充字符串数组，并将数组中的每个字符串打印到控制台。</span><span class="sxs-lookup"><span data-stu-id="994d2-1200">The following example uses the <xref:System.IO.Directory.GetFileSystemEntries%2A> method to fill an array of strings with the names of all files and subdirectories in a user-specified location and prints each string in the array to the console.</span></span> <span data-ttu-id="994d2-1201">该示例配置为捕获此方法通用的所有错误。</span><span class="sxs-lookup"><span data-stu-id="994d2-1201">The example is configured to catch all errors common to this method.</span></span>  
  
 [!code-cpp[System.IO.Directory#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.Directory/CPP/class1.cpp#1)]
 [!code-csharp[System.IO.Directory#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.Directory/CS/class1.cs#1)]
 [!code-vb[System.IO.Directory#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.Directory/VB/class1.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1202">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1202">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1203"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1203"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1204">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1204">You can query for invalid characters with <see cref="M:System.IO.Path.GetInvalidPathChars" />.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1205"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1205"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1206">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1206">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-1207"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-1207"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-1208">指定的路径无效（例如，它位于未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1208">The specified path is invalid (for example, it is on an unmapped drive).</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <altmember cref="T:System.IO.FileSystemInfo" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1209">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1209">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1210">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1210">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1211">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1211">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetFileSystemEntries">
      <MemberSignature Language="C#" Value="public static string[] GetFileSystemEntries (string path, string searchPattern);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetFileSystemEntries(string path, string searchPattern) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetFileSystemEntries(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetFileSystemEntries (path As String, searchPattern As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetFileSystemEntries(System::String ^ path, System::String ^ searchPattern);" />
      <MemberSignature Language="F#" Value="static member GetFileSystemEntries : string * string -&gt; string[]" Usage="System.IO.Directory.GetFileSystemEntries (path, searchPattern)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="searchPattern" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1212">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1212">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-1213">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1213">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-1214">要与 <paramref name="path" /> 中的文件和目录的名称匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-1214">The search string to match against the names of file and directories in <paramref name="path" />.</span></span>  <span data-ttu-id="994d2-1215">此参数可以包含有效文本路径和通配符（\* 和 ?）的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1215">This parameter can contain a combination of valid literal path and wildcard (\* and ?) characters, but it doesn't support regular expressions.</span></span></param>
        <summary><span data-ttu-id="994d2-1216">返回一个数组，其中包含与指定路径中的搜索模式相匹配的文件名和目录名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1216">Returns an array of file names and directory names that match a search pattern in a specified path.</span></span></summary>
        <returns><span data-ttu-id="994d2-1217">与指定的搜索条件匹配的文件名和目录名的数组；如果找不到任何文件或目录，则为空数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1217">An array of file names and directory names that match the specified search criteria, or an empty array if no files or directories are found.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1218">不保证返回的文件和目录名称的顺序。如果需要特定的排序顺序，请使用 <xref:System.Array.Sort%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="994d2-1218">The order of the returned file and directory names is not guaranteed; use the <xref:System.Array.Sort%2A> method if a specific sort order is required.</span></span>  
  
 <span data-ttu-id="994d2-1219">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1219">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-1220">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1220">The following wildcard specifiers are permitted in `searchPattern`.</span></span>  
  
|<span data-ttu-id="994d2-1221">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-1221">Wildcard specifier</span></span>|<span data-ttu-id="994d2-1222">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-1222">Matches</span></span>|  
|------------------------|-------------|  
|<span data-ttu-id="994d2-1223">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-1223">\* (asterisk)</span></span>|<span data-ttu-id="994d2-1224">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1224">Zero or more characters in that position.</span></span>|  
|<span data-ttu-id="994d2-1225">?</span><span class="sxs-lookup"><span data-stu-id="994d2-1225">?</span></span> <span data-ttu-id="994d2-1226">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-1226">(question mark)</span></span>|<span data-ttu-id="994d2-1227">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1227">Zero or one character in that position.</span></span>|  
  
 <span data-ttu-id="994d2-1228">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1228">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-1229">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1229">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-1230">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1230">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>  
  
 <span data-ttu-id="994d2-1231">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1231">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-1232">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1232">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="994d2-1233">如果在 `searchPattern` 如 "\*.txt" 中使用星号通配符，则指定扩展中的字符数将影响搜索，如下所示：</span><span class="sxs-lookup"><span data-stu-id="994d2-1233">When you use the asterisk wildcard character in a `searchPattern` such as "\*.txt", the number of characters in the specified extension affects the search as follows:</span></span>  
>   
> -   <span data-ttu-id="994d2-1234">如果指定的扩展长度恰好为三个字符，则该方法将返回扩展名以指定扩展名开头的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1234">If the specified extension is exactly three characters long, the method returns files with extensions that begin with the specified extension.</span></span> <span data-ttu-id="994d2-1235">例如，"\*.xls" 同时返回 "node.js" 和 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1235">For example, "\*.xls" returns both "book.xls" and "book.xlsx".</span></span>  
> -   <span data-ttu-id="994d2-1236">在所有其他情况下，该方法将返回完全与指定扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1236">In all other cases, the method returns files that exactly match the specified extension.</span></span> <span data-ttu-id="994d2-1237">例如，"\*" 将返回 "file.ai"，而不是 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1237">For example, "\*.ai" returns "file.ai" but not "file.aif".</span></span>  
>   
>  <span data-ttu-id="994d2-1238">使用问号通配符时，此方法只返回与指定文件扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1238">When you use the question mark wildcard character, this method returns only files that match the specified file extension.</span></span> <span data-ttu-id="994d2-1239">例如，给定两个文件： "file1" 和 "txtother"，在目录中，"文件？" 的搜索模式。txt "只返回第一个文件，而" file\*.txt "的搜索模式返回这两个文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1239">For example, given two files, "file1.txt" and "file1.txtother", in a directory, a search pattern of "file?.txt" returns just the first file, whereas a search pattern of "file\*.txt" returns both files.</span></span>  
  
 <span data-ttu-id="994d2-1240">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1240">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1241">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1241">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1242">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1242">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1243">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1243">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-1244">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1244">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1245">下面的示例使用 <xref:System.IO.Directory.GetFileSystemEntries%2A> 方法，使用与特定位置中的用户指定筛选器匹配的所有文件的名称填充字符串数组，并将数组中的每个字符串打印到控制台。</span><span class="sxs-lookup"><span data-stu-id="994d2-1245">The following example uses the <xref:System.IO.Directory.GetFileSystemEntries%2A> method to fill an array of strings with the names of all files matching a user-specified filter in a specific location and prints each string in the array to the console.</span></span> <span data-ttu-id="994d2-1246">该示例配置为捕获此方法通用的所有错误。</span><span class="sxs-lookup"><span data-stu-id="994d2-1246">The example is configured to catch all errors common to this method.</span></span>  
  
 [!code-cpp[System.IO.Directory#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.Directory/CPP/class1.cpp#2)]
 [!code-csharp[System.IO.Directory#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.Directory/CS/class1.cs#2)]
 [!code-vb[System.IO.Directory#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.Directory/VB/class1.vb#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1247">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1247">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1248"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1248"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1249">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1249">You can query for invalid characters with the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-1250">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1250">-or-</span></span> 
 <span data-ttu-id="994d2-1251"><paramref name="searchPattern" /> 不包含有效模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1251"><paramref name="searchPattern" /> does not contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1252"><paramref name="path" /> 或 <paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1252"><paramref name="path" /> or <paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1253">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1253">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-1254"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-1254"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-1255">指定的路径无效（例如，它位于未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1255">The specified path is invalid (for example, it is on an unmapped drive).</span></span></exception>
        <altmember cref="T:System.IO.FileSystemInfo" />
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1256">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1256">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1257">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1257">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1258">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1258">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetFileSystemEntries">
      <MemberSignature Language="C#" Value="public static string[] GetFileSystemEntries (string path, string searchPattern, System.IO.EnumerationOptions enumerationOptions);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetFileSystemEntries(string path, string searchPattern, class System.IO.EnumerationOptions enumerationOptions) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetFileSystemEntries(System.String,System.String,System.IO.EnumerationOptions)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetFileSystemEntries(System::String ^ path, System::String ^ searchPattern, System::IO::EnumerationOptions ^ enumerationOptions);" />
      <MemberSignature Language="F#" Value="static member GetFileSystemEntries : string * string * System.IO.EnumerationOptions -&gt; string[]" Usage="System.IO.Directory.GetFileSystemEntries (path, searchPattern, enumerationOptions)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
        <Parameter Name="enumerationOptions" Type="System.IO.EnumerationOptions" Index="2" FrameworkAlternate="netcore-2.1;netcore-2.2;netcore-3.0;netstandard-2.1;netcore-3.1" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1259">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1259">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-1260">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1260">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-1261">要与 <paramref name="path" /> 中的子目录的名称匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-1261">The search string to match against the names of subdirectories in <paramref name="path" />.</span></span> <span data-ttu-id="994d2-1262">此参数可以包含有效文本和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1262">This parameter can contain a combination of valid literal and wildcard characters, but it doesn't support regular expressions.</span></span></param>
        <param name="enumerationOptions"><span data-ttu-id="994d2-1263">描述要使用的搜索和枚举配置的对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-1263">An object that describes the search and enumeration configuration to use.</span></span></param>
        <summary><span data-ttu-id="994d2-1264">返回指定路径中与搜索模式和枚举选项匹配的文件名和目录名的数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1264">Returns an array of file names and directory names that match a search pattern and enumeration options in a specified path.</span></span></summary>
        <returns><span data-ttu-id="994d2-1265">一个数组，它包含与指定的搜索模式和枚举选项匹配的文件名和目录名；如果找不到任何文件或目录，则为空数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1265">An array of file names and directory names that match the specified search pattern and enumeration options, or an empty array if no files or directories are found.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1266">不保证返回的文件和目录名称的顺序。如果需要特定的排序顺序，请使用 <xref:System.Array.Sort%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="994d2-1266">The order of the returned file and directory names is not guaranteed; use the <xref:System.Array.Sort%2A> method if a specific sort order is required.</span></span>

 <span data-ttu-id="994d2-1267">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1267">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-1268">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1268">The following wildcard specifiers are permitted in `searchPattern`.</span></span>

|<span data-ttu-id="994d2-1269">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-1269">Wildcard specifier</span></span>|<span data-ttu-id="994d2-1270">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-1270">Matches</span></span>|
|------------------------|-------------|
|<span data-ttu-id="994d2-1271">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-1271">\* (asterisk)</span></span>|<span data-ttu-id="994d2-1272">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1272">Zero or more characters in that position.</span></span>|
|<span data-ttu-id="994d2-1273">?</span><span class="sxs-lookup"><span data-stu-id="994d2-1273">?</span></span> <span data-ttu-id="994d2-1274">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-1274">(question mark)</span></span>|<span data-ttu-id="994d2-1275">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1275">Zero or one character in that position.</span></span>|

 <span data-ttu-id="994d2-1276">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1276">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-1277">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1277">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-1278">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1278">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>

 <span data-ttu-id="994d2-1279">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1279">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-1280">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1280">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>

> [!NOTE]
>  <span data-ttu-id="994d2-1281">如果在 `searchPattern` 如 "\*.txt" 中使用星号通配符，则指定扩展中的字符数将影响搜索，如下所示：</span><span class="sxs-lookup"><span data-stu-id="994d2-1281">When you use the asterisk wildcard character in a `searchPattern` such as "\*.txt", the number of characters in the specified extension affects the search as follows:</span></span>
> 
> -   <span data-ttu-id="994d2-1282">如果指定的扩展长度恰好为三个字符，则该方法将返回扩展名以指定扩展名开头的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1282">If the specified extension is exactly three characters long, the method returns files with extensions that begin with the specified extension.</span></span> <span data-ttu-id="994d2-1283">例如，"\*.xls" 同时返回 "node.js" 和 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1283">For example, "\*.xls" returns both "book.xls" and "book.xlsx".</span></span>
> -   <span data-ttu-id="994d2-1284">在所有其他情况下，该方法将返回完全与指定扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1284">In all other cases, the method returns files that exactly match the specified extension.</span></span> <span data-ttu-id="994d2-1285">例如，"\*" 将返回 "file.ai"，而不是 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1285">For example, "\*.ai" returns "file.ai" but not "file.aif".</span></span>
> 
>  <span data-ttu-id="994d2-1286">使用问号通配符时，此方法只返回与指定文件扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1286">When you use the question mark wildcard character, this method returns only files that match the specified file extension.</span></span> <span data-ttu-id="994d2-1287">例如，给定两个文件： "file1" 和 "txtother"，在目录中，"文件？" 的搜索模式。txt "只返回第一个文件，而" file\*.txt "的搜索模式返回这两个文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1287">For example, given two files, "file1.txt" and "file1.txtother", in a directory, a search pattern of "file?.txt" returns just the first file, whereas a search pattern of "file\*.txt" returns both files.</span></span>

 <span data-ttu-id="994d2-1288">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1288">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1289">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1289">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1290">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1290">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>

 <span data-ttu-id="994d2-1291">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1291">The `path` parameter is not case-sensitive.</span></span>

 <span data-ttu-id="994d2-1292">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1292">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>

          ]]></format>
        </remarks>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1293">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1293">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1294"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1294"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1295">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1295">You can query for invalid characters with the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>

<span data-ttu-id="994d2-1296">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1296">-or-</span></span>

<span data-ttu-id="994d2-1297"><paramref name="searchPattern" /> 不包含有效模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1297"><paramref name="searchPattern" /> does not contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1298"><paramref name="path" /> 或 <paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1298"><paramref name="path" /> or <paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1299">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1299">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-1300"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-1300"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-1301">指定的路径无效（例如，它位于未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1301">The specified path is invalid (for example, it is on an unmapped drive).</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetFileSystemEntries">
      <MemberSignature Language="C#" Value="public static string[] GetFileSystemEntries (string path, string searchPattern, System.IO.SearchOption searchOption);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetFileSystemEntries(string path, string searchPattern, valuetype System.IO.SearchOption searchOption) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetFileSystemEntries(System.String,System.String,System.IO.SearchOption)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetFileSystemEntries(System::String ^ path, System::String ^ searchPattern, System::IO::SearchOption searchOption);" />
      <MemberSignature Language="F#" Value="static member GetFileSystemEntries : string * string * System.IO.SearchOption -&gt; string[]" Usage="System.IO.Directory.GetFileSystemEntries (path, searchPattern, searchOption)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchPattern" Type="System.String" Index="1" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="searchOption" Type="System.IO.SearchOption" Index="2" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1302">要搜索的目录的相对或绝对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1302">The relative or absolute path to the directory to search.</span></span> <span data-ttu-id="994d2-1303">此字符串不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1303">This string is not case-sensitive.</span></span></param>
        <param name="searchPattern"><span data-ttu-id="994d2-1304">要与 <paramref name="path" /> 中的文件和目录的名称匹配的搜索字符串。</span><span class="sxs-lookup"><span data-stu-id="994d2-1304">The search string to match against the names of files and directories in <paramref name="path" />.</span></span>  <span data-ttu-id="994d2-1305">此参数可以包含有效文本路径和通配符（\* 和 ?）的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1305">This parameter can contain a combination of valid literal path and wildcard (\* and ?) characters, but it doesn't support regular expressions.</span></span></param>
        <param name="searchOption"><span data-ttu-id="994d2-1306">指定搜索操作是应仅包含当前目录还是应包含所有子目录的枚举值之一。</span><span class="sxs-lookup"><span data-stu-id="994d2-1306">One of the enumeration values that specifies whether the search operation should include only the current directory or should include all subdirectories.</span></span> <span data-ttu-id="994d2-1307">默认值是 <see cref="F:System.IO.SearchOption.TopDirectoryOnly" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1307">The default value is <see cref="F:System.IO.SearchOption.TopDirectoryOnly" />.</span></span></param>
        <summary><span data-ttu-id="994d2-1308">返回指定路径中与搜索模式匹配的所有文件名和目录名的数组，还可以搜索子目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1308">Returns an array of all the file names and directory names that match a search pattern in a specified path, and optionally searches subdirectories.</span></span></summary>
        <returns><span data-ttu-id="994d2-1309">与指定的搜索条件匹配的文件名和目录名的数组；如果找不到任何文件或目录，则为空数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1309">An array of file the file names and directory names that match the specified search criteria, or an empty array if no files or directories are found.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1310">不保证返回的文件和目录名称的顺序。如果需要特定的排序顺序，请使用 <xref:System.Array.Sort%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="994d2-1310">The order of the returned file and directory names is not guaranteed; use the <xref:System.Array.Sort%2A> method if a specific sort order is required.</span></span>  
  
 <span data-ttu-id="994d2-1311">`searchPattern` 可以是文字和通配符的组合，但不支持正则表达式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1311">`searchPattern` can be a combination of literal and wildcard characters, but it doesn't support regular expressions.</span></span> <span data-ttu-id="994d2-1312">`searchPattern`中允许使用以下通配符说明符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1312">The following wildcard specifiers are permitted in `searchPattern`.</span></span>  
  
|<span data-ttu-id="994d2-1313">通配符说明符</span><span class="sxs-lookup"><span data-stu-id="994d2-1313">Wildcard specifier</span></span>|<span data-ttu-id="994d2-1314">匹配</span><span class="sxs-lookup"><span data-stu-id="994d2-1314">Matches</span></span>|  
|------------------------|-------------|  
|<span data-ttu-id="994d2-1315">\* （星号）</span><span class="sxs-lookup"><span data-stu-id="994d2-1315">\* (asterisk)</span></span>|<span data-ttu-id="994d2-1316">此位置中的零个或多个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1316">Zero or more characters in that position.</span></span>|  
|<span data-ttu-id="994d2-1317">?</span><span class="sxs-lookup"><span data-stu-id="994d2-1317">?</span></span> <span data-ttu-id="994d2-1318">（问号）</span><span class="sxs-lookup"><span data-stu-id="994d2-1318">(question mark)</span></span>|<span data-ttu-id="994d2-1319">此位置中的零个或一个字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1319">Zero or one character in that position.</span></span>|  
  
 <span data-ttu-id="994d2-1320">通配符以外的字符为原义字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1320">Characters other than the wildcard are literal characters.</span></span> <span data-ttu-id="994d2-1321">例如，`searchPattern` 字符串 "\*t" 搜索 `path` 以字母 "t" 结尾的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1321">For example, the `searchPattern` string "\*t" searches for all names in `path` ending with the letter "t".</span></span> <span data-ttu-id="994d2-1322">`searchPattern` 字符串 "s\*" 搜索 `path` 以字母 "s" 开头的所有名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1322">The `searchPattern` string "s\*" searches for all names in `path` beginning with the letter "s".</span></span>  
  
 <span data-ttu-id="994d2-1323">`searchPattern` 不能以两个句点（"..."）结束或包含两个句点（"..."），后跟 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>，也不能包含任何无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1323">`searchPattern` cannot end in two periods ("..") or contain two periods ("..") followed by <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>, nor can it contain any invalid characters.</span></span> <span data-ttu-id="994d2-1324">你可以使用 <xref:System.IO.Path.GetInvalidPathChars%2A> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1324">You can query for invalid characters by using the <xref:System.IO.Path.GetInvalidPathChars%2A> method.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="994d2-1325">如果在 `searchPattern` 如 "\*.txt" 中使用星号通配符，则指定扩展中的字符数将影响搜索，如下所示：</span><span class="sxs-lookup"><span data-stu-id="994d2-1325">When you use the asterisk wildcard character in a `searchPattern` such as "\*.txt", the number of characters in the specified extension affects the search as follows:</span></span>  
>   
> -   <span data-ttu-id="994d2-1326">如果指定的扩展长度恰好为三个字符，则该方法将返回扩展名以指定扩展名开头的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1326">If the specified extension is exactly three characters long, the method returns files with extensions that begin with the specified extension.</span></span> <span data-ttu-id="994d2-1327">例如，"\*.xls" 同时返回 "node.js" 和 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1327">For example, "\*.xls" returns both "book.xls" and "book.xlsx".</span></span>  
> -   <span data-ttu-id="994d2-1328">在所有其他情况下，该方法将返回完全与指定扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1328">In all other cases, the method returns files that exactly match the specified extension.</span></span> <span data-ttu-id="994d2-1329">例如，"\*" 将返回 "file.ai"，而不是 "node.js"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1329">For example, "\*.ai" returns "file.ai" but not "file.aif".</span></span>  
>   
>  <span data-ttu-id="994d2-1330">使用问号通配符时，此方法只返回与指定文件扩展名匹配的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1330">When you use the question mark wildcard character, this method returns only files that match the specified file extension.</span></span> <span data-ttu-id="994d2-1331">例如，给定两个文件： "file1" 和 "txtother"，在目录中，"文件？" 的搜索模式。txt "只返回第一个文件，而" file\*.txt "的搜索模式返回这两个文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1331">For example, given two files, "file1.txt" and "file1.txtother", in a directory, a search pattern of "file?.txt" returns just the first file, whereas a search pattern of "file\*.txt" returns both files.</span></span>  
  
 <span data-ttu-id="994d2-1332"><xref:System.IO.Directory.EnumerateFileSystemEntries%2A> 和 <xref:System.IO.Directory.GetFileSystemEntries%2A> 方法的区别如下：使用 <xref:System.IO.Directory.EnumerateFileSystemEntries%2A>时，可以在返回整个集合之前，开始枚举条目的集合;使用 <xref:System.IO.Directory.GetFileSystemEntries%2A>时，必须等待返回整个项数组，然后才能访问数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1332">The <xref:System.IO.Directory.EnumerateFileSystemEntries%2A> and <xref:System.IO.Directory.GetFileSystemEntries%2A> methods differ as follows: When you use <xref:System.IO.Directory.EnumerateFileSystemEntries%2A>, you can start enumerating the collection of entries before the whole collection is returned; when you use <xref:System.IO.Directory.GetFileSystemEntries%2A>, you must wait for the whole array of entries to be returned before you can access the array.</span></span> <span data-ttu-id="994d2-1333">因此，在处理多个文件和目录时，<xref:System.IO.Directory.EnumerateFiles%2A> 可能更高效。</span><span class="sxs-lookup"><span data-stu-id="994d2-1333">Therefore, when you are working with many files and directories, <xref:System.IO.Directory.EnumerateFiles%2A> can be more efficient.</span></span>  
  
 <span data-ttu-id="994d2-1334">可以指定具有 `path` 参数的相对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1334">You can specify relative path information with the `path` parameter.</span></span> <span data-ttu-id="994d2-1335">相对路径信息被解释为相对于当前工作目录，您可以使用 <xref:System.IO.Directory.GetCurrentDirectory%2A> 方法来确定。</span><span class="sxs-lookup"><span data-stu-id="994d2-1335">Relative path information is interpreted as relative to the current working directory, which you can determine by using the <xref:System.IO.Directory.GetCurrentDirectory%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1336"><paramref name="path" /> 是一个长度为零的字符串，仅包含空格，或包含无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1336"><paramref name="path" /> is a zero-length string, contains only white space, or contains invalid characters.</span></span> <span data-ttu-id="994d2-1337">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1337">You can query for invalid characters by using the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span>  
  
<span data-ttu-id="994d2-1338">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1338">-or-</span></span> 
 <span data-ttu-id="994d2-1339"><paramref name="searchPattern" /> 不包含有效模式。</span><span class="sxs-lookup"><span data-stu-id="994d2-1339"><paramref name="searchPattern" /> does not contain a valid pattern.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1340"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1340"><paramref name="path" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="994d2-1341">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1341">-or-</span></span> 
 <span data-ttu-id="994d2-1342"><paramref name="searchPattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1342"><paramref name="searchPattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-1343"><paramref name="searchOption" /> 不是有效的 <see cref="T:System.IO.SearchOption" /> 值。</span><span class="sxs-lookup"><span data-stu-id="994d2-1343"><paramref name="searchOption" /> is not a valid <see cref="T:System.IO.SearchOption" /> value.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-1344"><paramref name="path" /> 无效，如引用未映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="994d2-1344"><paramref name="path" /> is invalid, such as referring to an unmapped drive.</span></span></exception>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-1345"><paramref name="path" /> 是一个文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-1345"><paramref name="path" /> is a file name.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1346">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1346">The specified path, file name, or combined exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="994d2-1347">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1347">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1348">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1348">The caller does not have the required permission.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
      </Docs>
    </Member>
    <Member MemberName="GetLastAccessTime">
      <MemberSignature Language="C#" Value="public static DateTime GetLastAccessTime (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.DateTime GetLastAccessTime(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetLastAccessTime(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetLastAccessTime (path As String) As DateTime" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static DateTime GetLastAccessTime(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member GetLastAccessTime : string -&gt; DateTime" Usage="System.IO.Directory.GetLastAccessTime path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.DateTime</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1349">要获取其访问日期和时间信息的文件或目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1349">The file or directory for which to obtain access date and time information.</span></span></param>
        <summary><span data-ttu-id="994d2-1350">返回上次访问指定文件或目录的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1350">Returns the date and time the specified file or directory was last accessed.</span></span></summary>
        <returns><span data-ttu-id="994d2-1351">一个结构，它被设置为上次访问指定文件或目录的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1351">A structure that is set to the date and time the specified file or directory was last accessed.</span></span> <span data-ttu-id="994d2-1352">该值用本地时间表示。</span><span class="sxs-lookup"><span data-stu-id="994d2-1352">This value is expressed in local time.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  <span data-ttu-id="994d2-1353">此方法可能会返回不准确的值，因为它使用的本机函数的值可能不会持续由操作系统进行更新。</span><span class="sxs-lookup"><span data-stu-id="994d2-1353">This method may return an inaccurate value, because it uses native functions whose values may not be continuously updated by the operating system.</span></span>  
  
 <span data-ttu-id="994d2-1354">此方法与 <xref:System.IO.File.GetLastAccessTime%2A?displayProperty=nameWithType>完全相同。</span><span class="sxs-lookup"><span data-stu-id="994d2-1354">This method is identical to <xref:System.IO.File.GetLastAccessTime%2A?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="994d2-1355">如果 `path` 参数中所述的目录不存在，则此方法将返回12:00 年1月 1601 1 日午夜</span><span class="sxs-lookup"><span data-stu-id="994d2-1355">If the directory described in the `path` parameter does not exist, this method returns 12:00 midnight, January 1, 1601 A.D.</span></span> <span data-ttu-id="994d2-1356">公元协调世界时（UTC），调整为本地时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1356">(C.E.) Coordinated Universal Time (UTC), adjusted to local time.</span></span>  
  
 <span data-ttu-id="994d2-1357">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1357">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1358">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1358">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1359">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1359">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1360">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1360">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-1361">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1361">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1362">下面的示例演示如何使用 `GetLastAccessTime`。</span><span class="sxs-lookup"><span data-stu-id="994d2-1362">The following example demonstrates how to use `GetLastAccessTime`.</span></span>  
  
 [!code-cpp[Dir_GetLastAccess#1](~/samples/snippets/cpp/VS_Snippets_CLR/Dir_GetLastAccess/CPP/dir_getlastaccess.cpp#1)]
 [!code-csharp[Dir_GetLastAccess#1](~/samples/snippets/csharp/VS_Snippets_CLR/Dir_GetLastAccess/CS/dir_getlastaccess.cs#1)]
 [!code-vb[Dir_GetLastAccess#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Dir_GetLastAccess/VB/dir_getlastaccess.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1363">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1363">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1364"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1364"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1365">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1365">You can query for invalid characters with the <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1366"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1366"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1367">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1367">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="994d2-1368"><paramref name="path" /> 参数格式无效。</span><span class="sxs-lookup"><span data-stu-id="994d2-1368">The <paramref name="path" /> parameter is in an invalid format.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1369">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1369">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1370">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1370">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1371">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1371">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetLastAccessTimeUtc">
      <MemberSignature Language="C#" Value="public static DateTime GetLastAccessTimeUtc (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.DateTime GetLastAccessTimeUtc(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetLastAccessTimeUtc(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetLastAccessTimeUtc (path As String) As DateTime" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static DateTime GetLastAccessTimeUtc(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member GetLastAccessTimeUtc : string -&gt; DateTime" Usage="System.IO.Directory.GetLastAccessTimeUtc path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.DateTime</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1372">要获取其访问日期和时间信息的文件或目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1372">The file or directory for which to obtain access date and time information.</span></span></param>
        <summary><span data-ttu-id="994d2-1373">返回上次访问指定文件或目录的日期和时间，其格式为协调通用时 (UTC)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1373">Returns the date and time, in Coordinated Universal Time (UTC) format, that the specified file or directory was last accessed.</span></span></summary>
        <returns><span data-ttu-id="994d2-1374">一个结构，它被设置为上次访问指定文件或目录的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1374">A structure that is set to the date and time the specified file or directory was last accessed.</span></span> <span data-ttu-id="994d2-1375">该值用 UTC 时间表示。</span><span class="sxs-lookup"><span data-stu-id="994d2-1375">This value is expressed in UTC time.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  <span data-ttu-id="994d2-1376">此方法可能会返回不准确的值，因为它使用的本机函数的值可能不会持续由操作系统进行更新。</span><span class="sxs-lookup"><span data-stu-id="994d2-1376">This method may return an inaccurate value, because it uses native functions whose values may not be continuously updated by the operating system.</span></span>  
  
 <span data-ttu-id="994d2-1377">如果 `path` 参数中所述的目录不存在，则此方法将返回12:00 年1月 1601 1 日午夜</span><span class="sxs-lookup"><span data-stu-id="994d2-1377">If the directory described in the `path` parameter does not exist, this method returns 12:00 midnight, January 1, 1601 A.D.</span></span> <span data-ttu-id="994d2-1378">公元协调世界时（UTC）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1378">(C.E.) Coordinated Universal Time (UTC).</span></span>  
  
 <span data-ttu-id="994d2-1379">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1379">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1380">下面的示例演示使用协调世界时（UTC）输出时的输出差异。</span><span class="sxs-lookup"><span data-stu-id="994d2-1380">The following example illustrates the differences in output when using Coordinated Universal Time (UTC) output.</span></span>  
  
 [!code-cpp[System.IO.UTCExample#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.UTCExample/CPP/example.cpp#1)]
 [!code-csharp[System.IO.UTCExample#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.UTCExample/CS/example.cs#1)]
 [!code-vb[System.IO.UTCExample#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.UTCExample/VB/example.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1381">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1381">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1382"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1382"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1383">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1383">You can query for invalid characters with the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1384"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1384"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1385">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1385">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="994d2-1386"><paramref name="path" /> 参数格式无效。</span><span class="sxs-lookup"><span data-stu-id="994d2-1386">The <paramref name="path" /> parameter is in an invalid format.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1387">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1387">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1388">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1388">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1389">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1389">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetLastWriteTime">
      <MemberSignature Language="C#" Value="public static DateTime GetLastWriteTime (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.DateTime GetLastWriteTime(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetLastWriteTime(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetLastWriteTime (path As String) As DateTime" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static DateTime GetLastWriteTime(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member GetLastWriteTime : string -&gt; DateTime" Usage="System.IO.Directory.GetLastWriteTime path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.DateTime</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1390">要获取其修改日期和时间信息的文件或目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1390">The file or directory for which to obtain modification date and time information.</span></span></param>
        <summary><span data-ttu-id="994d2-1391">返回上次写入指定文件或目录的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1391">Returns the date and time the specified file or directory was last written to.</span></span></summary>
        <returns><span data-ttu-id="994d2-1392">一个结构，它被设置为上次写入指定文件或目录的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1392">A structure that is set to the date and time the specified file or directory was last written to.</span></span> <span data-ttu-id="994d2-1393">该值用本地时间表示。</span><span class="sxs-lookup"><span data-stu-id="994d2-1393">This value is expressed in local time.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  <span data-ttu-id="994d2-1394">此方法可能会返回不准确的值，因为它使用的本机函数的值可能不会持续由操作系统进行更新。</span><span class="sxs-lookup"><span data-stu-id="994d2-1394">This method may return an inaccurate value, because it uses native functions whose values may not be continuously updated by the operating system.</span></span>  
  
 <span data-ttu-id="994d2-1395">如果 `path` 参数中所述的目录不存在，则此方法将返回12:00 年1月 1601 1 日午夜</span><span class="sxs-lookup"><span data-stu-id="994d2-1395">If the directory described in the `path` parameter does not exist, this method returns 12:00 midnight, January 1, 1601 A.D.</span></span> <span data-ttu-id="994d2-1396">公元协调世界时（UTC），调整为本地时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1396">(C.E.) Coordinated Universal Time (UTC), adjusted to local time.</span></span>  
  
 <span data-ttu-id="994d2-1397">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1397">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1398">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1398">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1399">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1399">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1400">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1400">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-1401">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1401">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1402">下面的示例演示如何使用 `GetLastWriteTime`。</span><span class="sxs-lookup"><span data-stu-id="994d2-1402">The following example demonstrates how to use `GetLastWriteTime`.</span></span>  
  
 [!code-cpp[Dir_GetLastWrite#1](~/samples/snippets/cpp/VS_Snippets_CLR/Dir_GetLastWrite/CPP/dir_getlastwrite.cpp#1)]
 [!code-csharp[Dir_GetLastWrite#1](~/samples/snippets/csharp/VS_Snippets_CLR/Dir_GetLastWrite/CS/dir_getlastwrite.cs#1)]
 [!code-vb[Dir_GetLastWrite#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Dir_GetLastWrite/VB/dir_getlastwrite.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1403">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1403">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1404"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1404"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1405">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1405">You can query for invalid characters with the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1406"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1406"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1407">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1407">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1408">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1408">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1409">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1409">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1410">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1410">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetLastWriteTimeUtc">
      <MemberSignature Language="C#" Value="public static DateTime GetLastWriteTimeUtc (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.DateTime GetLastWriteTimeUtc(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetLastWriteTimeUtc(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetLastWriteTimeUtc (path As String) As DateTime" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static DateTime GetLastWriteTimeUtc(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member GetLastWriteTimeUtc : string -&gt; DateTime" Usage="System.IO.Directory.GetLastWriteTimeUtc path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.DateTime</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1411">要获取其修改日期和时间信息的文件或目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1411">The file or directory for which to obtain modification date and time information.</span></span></param>
        <summary><span data-ttu-id="994d2-1412">返回上次写入指定文件或目录的日期和时间，其格式为协调通用时 (UTC)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1412">Returns the date and time, in Coordinated Universal Time (UTC) format, that the specified file or directory was last written to.</span></span></summary>
        <returns><span data-ttu-id="994d2-1413">一个结构，它被设置为上次写入指定文件或目录的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1413">A structure that is set to the date and time the specified file or directory was last written to.</span></span> <span data-ttu-id="994d2-1414">该值用 UTC 时间表示。</span><span class="sxs-lookup"><span data-stu-id="994d2-1414">This value is expressed in UTC time.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  <span data-ttu-id="994d2-1415">此方法可能会返回不准确的值，因为它使用的本机函数的值可能不会持续由操作系统进行更新。</span><span class="sxs-lookup"><span data-stu-id="994d2-1415">This method may return an inaccurate value, because it uses native functions whose values may not be continuously updated by the operating system.</span></span>  
  
 <span data-ttu-id="994d2-1416">如果 `path` 参数中所述的目录不存在，则此方法将返回12:00 年1月 1601 1 日午夜</span><span class="sxs-lookup"><span data-stu-id="994d2-1416">If the directory described in the `path` parameter does not exist, this method returns 12:00 midnight, January 1, 1601 A.D.</span></span> <span data-ttu-id="994d2-1417">公元协调世界时（UTC）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1417">(C.E.) Coordinated Universal Time (UTC).</span></span>  
  
 <span data-ttu-id="994d2-1418">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1418">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1419">下面的示例演示使用协调世界时（UTC）输出时的输出差异。</span><span class="sxs-lookup"><span data-stu-id="994d2-1419">The following example illustrates the differences in output when using Coordinated Universal Time (UTC) output.</span></span>  
  
 [!code-cpp[System.IO.UTCExample#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.UTCExample/CPP/example.cpp#1)]
 [!code-csharp[System.IO.UTCExample#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.UTCExample/CS/example.cs#1)]
 [!code-vb[System.IO.UTCExample#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.UTCExample/VB/example.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1420">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1420">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1421"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1421"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1422">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1422">You can query for invalid characters with the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1423"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1423"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1424">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1424">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1425">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1425">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1426">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1426">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1427">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1427">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetLogicalDrives">
      <MemberSignature Language="C#" Value="public static string[] GetLogicalDrives ();" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetLogicalDrives() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetLogicalDrives" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetLogicalDrives () As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetLogicalDrives();" />
      <MemberSignature Language="F#" Value="static member GetLogicalDrives : unit -&gt; string[]" Usage="System.IO.Directory.GetLogicalDrives " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="994d2-1428">检索此计算机上格式为“&lt;drive letter&gt;:\\”的逻辑驱动器的名称。</span><span class="sxs-lookup"><span data-stu-id="994d2-1428">Retrieves the names of the logical drives on this computer in the form "&lt;drive letter&gt;:\\".</span></span></summary>
        <returns><span data-ttu-id="994d2-1429">此计算机上的逻辑驱动器。</span><span class="sxs-lookup"><span data-stu-id="994d2-1429">The logical drives on this computer.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1430">GetLogicalDrives 返回特定计算机上的所有可访问驱动器，包括软盘驱动器和所有光驱。</span><span class="sxs-lookup"><span data-stu-id="994d2-1430">GetLogicalDrives returns all of the accessible drives on a particular machine, including the floppy drive and any optical drives.</span></span>  
  
 <span data-ttu-id="994d2-1431">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1431">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1432">下面的示例使用 <xref:System.IO.Directory.GetLogicalDrives%2A> 方法将调用计算机上每个驱动器的名称分配给一个字符串数组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1432">The following example uses the <xref:System.IO.Directory.GetLogicalDrives%2A> method to assign the name of each drive on the calling computer to an array of strings.</span></span> <span data-ttu-id="994d2-1433">然后，将此字符串数组中的每个成员打印到控制台。</span><span class="sxs-lookup"><span data-stu-id="994d2-1433">Each member of this string array is then printed to the console.</span></span> <span data-ttu-id="994d2-1434">该示例配置为捕获此方法通用的所有错误。</span><span class="sxs-lookup"><span data-stu-id="994d2-1434">The example is configured to catch all errors common to this method.</span></span>  
  
 [!code-cpp[System.IO.Directory#3](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.Directory/CPP/class1.cpp#3)]
 [!code-csharp[System.IO.Directory#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.Directory/CS/class1.cs#3)]
 [!code-vb[System.IO.Directory#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.Directory/VB/class1.vb#3)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-1435">发生了 I/O 错误（例如，磁盘错误）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1435">An I/O error occurred (for example, a disk error).</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1436">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1436">The caller does not have the required permission.</span></span></exception>
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1437">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1437">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1438">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1438">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1439">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1439">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetParent">
      <MemberSignature Language="C#" Value="public static System.IO.DirectoryInfo GetParent (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.IO.DirectoryInfo GetParent(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.GetParent(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetParent (path As String) As DirectoryInfo" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::IO::DirectoryInfo ^ GetParent(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member GetParent : string -&gt; System.IO.DirectoryInfo" Usage="System.IO.Directory.GetParent path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.IO.DirectoryInfo</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1440">要为其检索父目录的路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1440">The path for which to retrieve the parent directory.</span></span></param>
        <summary><span data-ttu-id="994d2-1441">检索指定路径的父目录，包括绝对路径和相对路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1441">Retrieves the parent directory of the specified path, including both absolute and relative paths.</span></span></summary>
        <returns><span data-ttu-id="994d2-1442">父目录，如果 <see langword="null" /> 是根目录，包括 UNC 服务器或共享名的根，则为 <paramref name="path" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1442">The parent directory, or <see langword="null" /> if <paramref name="path" /> is the root directory, including the root of a UNC server or share name.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1443">`path` 参数可以指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1443">The `path` parameter can specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1444">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1444">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1445">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1445">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1446">获取目录之前，从 `path` 参数的末尾删除尾随空格。</span><span class="sxs-lookup"><span data-stu-id="994d2-1446">Trailing spaces are removed from the end of the `path` parameter before getting the directory.</span></span>  
  
 <span data-ttu-id="994d2-1447">此方法返回的字符串包含路径中的所有字符，直到最后一个 <xref:System.IO.Path.DirectorySeparatorChar> 或 <xref:System.IO.Path.AltDirectorySeparatorChar>为止。</span><span class="sxs-lookup"><span data-stu-id="994d2-1447">The string returned by this method consists of all characters in the path up to, but not including, the last <xref:System.IO.Path.DirectorySeparatorChar> or <xref:System.IO.Path.AltDirectorySeparatorChar>.</span></span> <span data-ttu-id="994d2-1448">例如，将路径 "C:\Directory\SubDirectory\test.txt" 传递到 <xref:System.IO.Directory.GetParent%2A> 将返回 "C:\Directory\SubDirectory"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1448">For example, passing the path "C:\Directory\SubDirectory\test.txt" to <xref:System.IO.Directory.GetParent%2A> returns "C:\Directory\SubDirectory".</span></span> <span data-ttu-id="994d2-1449">传递 "C:\Directory\SubDirectory" 将返回 "C:\Directory"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1449">Passing "C:\Directory\SubDirectory" returns "C:\Directory".</span></span> <span data-ttu-id="994d2-1450">不过，传递 "C:\Directory\SubDirectory\\" 将返回 "C:\Directory\SubDirectory"，因为结束目录分隔符在 "子目录" 之后。</span><span class="sxs-lookup"><span data-stu-id="994d2-1450">However, passing "C:\Directory\SubDirectory\\" returns "C:\Directory\SubDirectory", because the ending directory separator is after "SubDirectory".</span></span>  
  
 <span data-ttu-id="994d2-1451">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1451">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-1452">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1452">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1453">下面的示例演示如何使用 <xref:System.IO.Directory.GetParent%2A> 方法检索用户指定位置 "path" 的父目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1453">The following example demonstrates how to use the <xref:System.IO.Directory.GetParent%2A> method to retrieve the parent directory of a user-specified location, "path".</span></span> <span data-ttu-id="994d2-1454">然后，将 <xref:System.IO.Directory.GetParent%2A> 方法返回的值输出到控制台。</span><span class="sxs-lookup"><span data-stu-id="994d2-1454">The value returned by the <xref:System.IO.Directory.GetParent%2A> method is then printed to the console.</span></span> <span data-ttu-id="994d2-1455">该示例配置为捕获此方法通用的所有错误。</span><span class="sxs-lookup"><span data-stu-id="994d2-1455">The example is configured to catch all errors common to this method.</span></span>  
  
 [!code-cpp[System.IO.Directory#4](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.Directory/CPP/class1.cpp#4)]
 [!code-csharp[System.IO.Directory#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.Directory/CS/class1.cs#4)]
 [!code-vb[System.IO.Directory#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.Directory/VB/class1.vb#4)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-1456"><paramref name="path" /> 指定的目录为只读。</span><span class="sxs-lookup"><span data-stu-id="994d2-1456">The directory specified by <paramref name="path" /> is read-only.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1457">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1457">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1458"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1458"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1459">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1459">You can query for invalid characters with the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1460"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1460"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1461">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1461">The specified path, file name, or both exceed the system-defined maximum length.</span></span> <span data-ttu-id="994d2-1462">有关详细信息，请参阅<see cref="T:System.IO.PathTooLongException" />主题。</span><span class="sxs-lookup"><span data-stu-id="994d2-1462">For more information, see the <see cref="T:System.IO.PathTooLongException" /> topic.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-1463">未找到指定路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1463">The specified path was not found.</span></span></exception>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="994d2-1464"><paramref name="path" /> 的格式无效。</span><span class="sxs-lookup"><span data-stu-id="994d2-1464"><paramref name="path" /> is in an invalid format.</span></span></exception>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="994d2-1465">仅限 .NET Framework：调用方没有所需的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1465">.NET Framework only: The caller does not have the required permissions.</span></span></exception>
        <altmember cref="T:System.IO.DirectoryInfo" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1466">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1466">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1467">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1467">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1468">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1468">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Move">
      <MemberSignature Language="C#" Value="public static void Move (string sourceDirName, string destDirName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void Move(string sourceDirName, string destDirName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.Move(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub Move (sourceDirName As String, destDirName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void Move(System::String ^ sourceDirName, System::String ^ destDirName);" />
      <MemberSignature Language="F#" Value="static member Move : string * string -&gt; unit" Usage="System.IO.Directory.Move (sourceDirName, destDirName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sourceDirName" Type="System.String" />
        <Parameter Name="destDirName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="sourceDirName"><span data-ttu-id="994d2-1469">要移动的文件或目录的路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1469">The path of the file or directory to move.</span></span></param>
        <param name="destDirName"><span data-ttu-id="994d2-1470"><paramref name="sourceDirName" /> 的新位置的路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1470">The path to the new location for <paramref name="sourceDirName" />.</span></span> <span data-ttu-id="994d2-1471">如果 <paramref name="sourceDirName" /> 是文件，那么 <paramref name="destDirName" /> 也必须是文件名。</span><span class="sxs-lookup"><span data-stu-id="994d2-1471">If <paramref name="sourceDirName" /> is a file, then <paramref name="destDirName" /> must also be a file name.</span></span></param>
        <summary><span data-ttu-id="994d2-1472">将文件或目录及其内容移到新位置。</span><span class="sxs-lookup"><span data-stu-id="994d2-1472">Moves a file or a directory and its contents to a new location.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1473">此方法使用 `destDirName` 指定的名称创建一个新目录，并将 `sourceDirName` 的内容移到新创建的目标目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1473">This method creates a new directory with the name specified by `destDirName` and moves the contents of `sourceDirName` to the newly created destination directory.</span></span> <span data-ttu-id="994d2-1474">如果尝试将目录移动到已存在的目录，将会出现 <xref:System.IO.IOException>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1474">If you try to move a directory to a directory that already exists, an <xref:System.IO.IOException> will occur.</span></span> <span data-ttu-id="994d2-1475">例如，如果尝试将 c:\mydir 移动到 c:\public，并且 c:\public 已存在，则会出现异常。</span><span class="sxs-lookup"><span data-stu-id="994d2-1475">For example, an exception will occur if you try to move c:\mydir to c:\public, and c:\public already exists.</span></span> <span data-ttu-id="994d2-1476">另外，还可以指定 "c：\\\ 公用\\\mydir" 作为 `destDirName` 参数，前提是 "mydir" 在 "c：\\\ 公用" 下不存在，或指定新目录名称，如 "c：\\\newdir"。</span><span class="sxs-lookup"><span data-stu-id="994d2-1476">Alternatively, you could specify "c:\\\public\\\mydir" as the `destDirName` parameter, provided that "mydir" does not exist under "c:\\\public", or specify a new directory name such as "c:\\\newdir".</span></span>  
  
 <span data-ttu-id="994d2-1477">允许 `sourceDirName` 和 `destDirName` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1477">The `sourceDirName` and `destDirName` arguments are permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1478">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1478">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1479">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1479">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1480">移动目录之前，会从路径参数的末尾删除尾随空格。</span><span class="sxs-lookup"><span data-stu-id="994d2-1480">Trailing spaces are removed from the end of the path parameters before moving the directory.</span></span>  
  
 <span data-ttu-id="994d2-1481">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1481">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  


> [!NOTE]
>  <span data-ttu-id="994d2-1482">从 .NET Core 3.0 开始，当 `destDirName` 已经存在时，`Move` 方法将引发所有平台中的 <xref:System.IO.IOException>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1482">Starting with .NET Core 3.0, the `Move` method throws an <xref:System.IO.IOException> in all platforms when the `destDirName` already exists.</span></span> <span data-ttu-id="994d2-1483">在 .NET Core 2.2 和早期版本中，仅在 Windows 上引发异常，其他平台可能会失败或覆盖 `destDirName`。</span><span class="sxs-lookup"><span data-stu-id="994d2-1483">In .NET Core 2.2 and previous versions, the exception was only thrown on Windows, and other platforms could either fail or overwrite the `destDirName`.</span></span> <span data-ttu-id="994d2-1484">请参阅[ C++重命名](https://linux.die.net/man/2/rename)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1484">See [C++ rename](https://linux.die.net/man/2/rename).</span></span>
   
  
## Examples  
 <span data-ttu-id="994d2-1485">下面的示例演示如何将目录及其所有文件移动到新目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1485">The following example demonstrates how to move a directory and all its files to a new directory.</span></span> <span data-ttu-id="994d2-1486">移动原始目录后，原始目录将不再存在。</span><span class="sxs-lookup"><span data-stu-id="994d2-1486">The original directory no longer exists after it has been moved.</span></span>  
  
 [!code-csharp[System.IO.Directory#14](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.Directory/CS/class6.cs#14)]
 [!code-vb[System.IO.Directory#14](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.Directory/VB/class6.vb#14)]  

 ]]></format>
        </remarks>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-1487">尝试将目录移动到不同的卷。</span><span class="sxs-lookup"><span data-stu-id="994d2-1487">An attempt was made to move a directory to a different volume.</span></span>
  
<span data-ttu-id="994d2-1488">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1488">-or-</span></span> 
 <span data-ttu-id="994d2-1489"><paramref name="destDirName" /> 已存在。</span><span class="sxs-lookup"><span data-stu-id="994d2-1489"><paramref name="destDirName" /> already exists.</span></span> <span data-ttu-id="994d2-1490">请参阅“备注”部分中的“说明”。</span><span class="sxs-lookup"><span data-stu-id="994d2-1490">See the Note in the Remarks section.</span></span>
  
<span data-ttu-id="994d2-1491">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1491">-or-</span></span> 
<span data-ttu-id="994d2-1492"><paramref name="sourceDirName" /> 和 <paramref name="destDirName" /> 参数引用同一个文件或目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1492">The <paramref name="sourceDirName" /> and <paramref name="destDirName" /> parameters refer to the same file or directory.</span></span>  
  
<span data-ttu-id="994d2-1493">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1493">-or-</span></span> 
<span data-ttu-id="994d2-1494">另一个进程正在使用目录或其中一个文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1494">The directory or a file within it is being used by another process.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1495">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1495">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1496"><paramref name="sourceDirName" /> 或 <paramref name="destDirName" /> 是一个长度为零的字符串，仅包含空格，或者包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1496"><paramref name="sourceDirName" /> or <paramref name="destDirName" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1497">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1497">You can query for invalid characters with the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1498"><paramref name="sourceDirName" /> 或 <paramref name="destDirName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1498"><paramref name="sourceDirName" /> or <paramref name="destDirName" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1499">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1499">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-1500"><paramref name="sourceDirName" /> 指定的路径无效（例如，它位于未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1500">The path specified by <paramref name="sourceDirName" /> is invalid (for example, it is on an unmapped drive).</span></span></exception>
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1501">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1501">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1502">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1502">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1503">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1503">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SetAccessControl">
      <MemberSignature Language="C#" Value="public static void SetAccessControl (string path, System.Security.AccessControl.DirectorySecurity directorySecurity);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void SetAccessControl(string path, class System.Security.AccessControl.DirectorySecurity directorySecurity) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.SetAccessControl(System.String,System.Security.AccessControl.DirectorySecurity)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void SetAccessControl(System::String ^ path, System::Security::AccessControl::DirectorySecurity ^ directorySecurity);" />
      <MemberSignature Language="F#" Value="static member SetAccessControl : string * System.Security.AccessControl.DirectorySecurity -&gt; unit" Usage="System.IO.Directory.SetAccessControl (path, directorySecurity)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" Index="0" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="directorySecurity" Type="System.Security.AccessControl.DirectorySecurity" Index="1" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1504">要从中添加或移除访问控制列表 (ACL) 项的目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1504">A directory to add or remove access control list (ACL) entries from.</span></span></param>
        <param name="directorySecurity"><span data-ttu-id="994d2-1505">一个 <see cref="T:System.Security.AccessControl.DirectorySecurity" /> 对象，描述要应用于 <paramref name="path" /> 参数所描述的目录的 ACL 项。</span><span class="sxs-lookup"><span data-stu-id="994d2-1505">A <see cref="T:System.Security.AccessControl.DirectorySecurity" /> object that describes an ACL entry to apply to the directory described by the <paramref name="path" /> parameter.</span></span></param>
        <summary><span data-ttu-id="994d2-1506">将 <see cref="T:System.Security.AccessControl.DirectorySecurity" /> 对象描述的访问控制列表 (ACL) 项应用于指定的目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1506">Applies access control list (ACL) entries described by a <see cref="T:System.Security.AccessControl.DirectorySecurity" /> object to the specified directory.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1507"><xref:System.IO.Directory.SetAccessControl%2A> 方法将访问控制列表（ACL）项应用于表示 noninherited ACL 列表的文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1507">The <xref:System.IO.Directory.SetAccessControl%2A> method applies access control list (ACL) entries to a file that represents the noninherited ACL list.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="994d2-1508">为 `directorySecurity` 参数指定的 ACL 将替换目录的现有 ACL。</span><span class="sxs-lookup"><span data-stu-id="994d2-1508">The ACL specified for the `directorySecurity` parameter replaces the existing ACL for the directory.</span></span> <span data-ttu-id="994d2-1509">若要为新用户添加权限，请使用 <xref:System.IO.Directory.GetAccessControl%2A> 方法获取现有 ACL 并进行修改。</span><span class="sxs-lookup"><span data-stu-id="994d2-1509">To add permissions for a new user, use the <xref:System.IO.Directory.GetAccessControl%2A> method to obtain the existing ACL and modify it.</span></span>  
  
 <span data-ttu-id="994d2-1510">ACL 描述对给定文件或目录具有或没有特定操作权限的个人和/或组。</span><span class="sxs-lookup"><span data-stu-id="994d2-1510">An ACL describes individuals and/or groups who have, or do not have, rights to specific actions on the given file or directory.</span></span> <span data-ttu-id="994d2-1511">有关详细信息，请参阅[如何：添加或移除访问控制列表项](~/docs/standard/io/how-to-add-or-remove-access-control-list-entries.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1511">For more information, see [How to: Add or Remove Access Control List Entries](~/docs/standard/io/how-to-add-or-remove-access-control-list-entries.md).</span></span>  
  
 <span data-ttu-id="994d2-1512"><xref:System.IO.Directory.SetAccessControl%2A> 方法仅保留在对象创建后修改的 <xref:System.Security.AccessControl.DirectorySecurity> 对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-1512">The <xref:System.IO.Directory.SetAccessControl%2A> method persists only <xref:System.Security.AccessControl.DirectorySecurity> objects that have been modified after object creation.</span></span>  <span data-ttu-id="994d2-1513">如果 <xref:System.Security.AccessControl.DirectorySecurity> 对象尚未修改，则不会将其保存到文件中。</span><span class="sxs-lookup"><span data-stu-id="994d2-1513">If a <xref:System.Security.AccessControl.DirectorySecurity> object has not been modified, it will not be persisted to a file.</span></span>  <span data-ttu-id="994d2-1514">因此，无法从一个文件中检索 <xref:System.Security.AccessControl.DirectorySecurity> 的对象，并将相同的对象重新应用到另一个文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1514">Therefore, it is not possible to retrieve a <xref:System.Security.AccessControl.DirectorySecurity> object from one file and reapply the same object to another file.</span></span>  
  
 <span data-ttu-id="994d2-1515">若要将 ACL 信息从一个文件复制到另一个文件：</span><span class="sxs-lookup"><span data-stu-id="994d2-1515">To copy ACL information from one file to another:</span></span>  
  
1.  <span data-ttu-id="994d2-1516">使用 <xref:System.IO.Directory.GetAccessControl%2A> 方法可以从源文件中检索 <xref:System.Security.AccessControl.DirectorySecurity> 对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-1516">Use the <xref:System.IO.Directory.GetAccessControl%2A> method to retrieve the <xref:System.Security.AccessControl.DirectorySecurity> object from the source file.</span></span>  
  
2.  <span data-ttu-id="994d2-1517">为目标文件创建新的 <xref:System.Security.AccessControl.DirectorySecurity> 对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-1517">Create a new <xref:System.Security.AccessControl.DirectorySecurity> object for the destination file.</span></span>  
  
3.  <span data-ttu-id="994d2-1518">使用源 <xref:System.Security.AccessControl.DirectorySecurity> 对象的 <xref:System.Security.AccessControl.ObjectSecurity.GetSecurityDescriptorBinaryForm%2A> 或 <xref:System.Security.AccessControl.ObjectSecurity.GetSecurityDescriptorSddlForm%2A> 方法来检索 ACL 信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1518">Use the <xref:System.Security.AccessControl.ObjectSecurity.GetSecurityDescriptorBinaryForm%2A> or <xref:System.Security.AccessControl.ObjectSecurity.GetSecurityDescriptorSddlForm%2A> method of the source <xref:System.Security.AccessControl.DirectorySecurity> object to retrieve the ACL information.</span></span>  
  
4.  <span data-ttu-id="994d2-1519">使用 <xref:System.Security.AccessControl.ObjectSecurity.SetSecurityDescriptorBinaryForm%2A> 或 <xref:System.Security.AccessControl.ObjectSecurity.SetSecurityDescriptorSddlForm%2A> 方法将在步骤3中检索到的信息复制到目标 <xref:System.Security.AccessControl.DirectorySecurity> 对象。</span><span class="sxs-lookup"><span data-stu-id="994d2-1519">Use the <xref:System.Security.AccessControl.ObjectSecurity.SetSecurityDescriptorBinaryForm%2A> or <xref:System.Security.AccessControl.ObjectSecurity.SetSecurityDescriptorSddlForm%2A> method to copy the information retrieved in step 3 to the destination <xref:System.Security.AccessControl.DirectorySecurity> object.</span></span>  
  
5.  <span data-ttu-id="994d2-1520">使用 <xref:System.IO.Directory.SetAccessControl%2A> 方法将目标 <xref:System.Security.AccessControl.DirectorySecurity> 对象设置为目标文件。</span><span class="sxs-lookup"><span data-stu-id="994d2-1520">Set the destination <xref:System.Security.AccessControl.DirectorySecurity> object to the destination file using the <xref:System.IO.Directory.SetAccessControl%2A> method.</span></span>  
  
 <span data-ttu-id="994d2-1521">在 NTFS 环境下，如果用户对父文件夹具有 <xref:System.Security.AccessControl.FileSystemRights.ListDirectory> 权限，则会向用户授予 <xref:System.Security.AccessControl.FileSystemRights.ReadAttributes> 和 <xref:System.Security.AccessControl.FileSystemRights.ReadExtendedAttributes>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1521">In NTFS environments, <xref:System.Security.AccessControl.FileSystemRights.ReadAttributes> and <xref:System.Security.AccessControl.FileSystemRights.ReadExtendedAttributes> are granted to the user if the user has <xref:System.Security.AccessControl.FileSystemRights.ListDirectory> rights on the parent folder.</span></span> <span data-ttu-id="994d2-1522">若要拒绝 <xref:System.Security.AccessControl.FileSystemRights.ReadAttributes> 和 <xref:System.Security.AccessControl.FileSystemRights.ReadExtendedAttributes>，请拒绝父目录中的 <xref:System.Security.AccessControl.FileSystemRights.ListDirectory>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1522">To deny <xref:System.Security.AccessControl.FileSystemRights.ReadAttributes> and <xref:System.Security.AccessControl.FileSystemRights.ReadExtendedAttributes>, deny <xref:System.Security.AccessControl.FileSystemRights.ListDirectory> on the parent directory.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1523">下面的示例使用 <xref:System.IO.Directory.GetAccessControl%2A> 和 <xref:System.IO.Directory.SetAccessControl%2A> 方法添加访问控制列表（ACL）条目，然后从目录中删除 ACL 条目。</span><span class="sxs-lookup"><span data-stu-id="994d2-1523">The following example uses the <xref:System.IO.Directory.GetAccessControl%2A> and the <xref:System.IO.Directory.SetAccessControl%2A> methods to add an access control list (ACL) entry and then remove an ACL entry from a directory.</span></span>  <span data-ttu-id="994d2-1524">你必须提供有效的用户或组帐户以运行此示例。</span><span class="sxs-lookup"><span data-stu-id="994d2-1524">You must supply a valid user or group account to run this example.</span></span>  
  
 [!code-cpp[IO.DiretoryInfo.GetAccessControl-SetAccessControl#1](~/samples/snippets/cpp/VS_Snippets_CLR/IO.DiretoryInfo.GetAccessControl-SetAccessControl/cpp/sample.cpp#1)]
 [!code-csharp[IO.DiretoryInfo.GetAccessControl-SetAccessControl#1](~/samples/snippets/csharp/VS_Snippets_CLR/IO.DiretoryInfo.GetAccessControl-SetAccessControl/CS/sample.cs#1)]
 [!code-vb[IO.DiretoryInfo.GetAccessControl-SetAccessControl#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/IO.DiretoryInfo.GetAccessControl-SetAccessControl/VB/sample.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1525"><paramref name="directorySecurity" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1525">The <paramref name="directorySecurity" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-1526">找不到该目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1526">The directory could not be found.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1527"><paramref name="path" /> 无效。</span><span class="sxs-lookup"><span data-stu-id="994d2-1527">The <paramref name="path" /> was invalid.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1528">当前进程无法访问 <paramref name="path" /> 指定的目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1528">The current process does not have access to the directory specified by <paramref name="path" />.</span></span>  
  
<span data-ttu-id="994d2-1529">-或-</span><span class="sxs-lookup"><span data-stu-id="994d2-1529">-or-</span></span> 
<span data-ttu-id="994d2-1530">当前进程没有足够的特权来设置 ACL 项。</span><span class="sxs-lookup"><span data-stu-id="994d2-1530">The current process does not have sufficient privilege to set the ACL entry.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
      </Docs>
    </Member>
    <Member MemberName="SetCreationTime">
      <MemberSignature Language="C#" Value="public static void SetCreationTime (string path, DateTime creationTime);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void SetCreationTime(string path, valuetype System.DateTime creationTime) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.SetCreationTime(System.String,System.DateTime)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub SetCreationTime (path As String, creationTime As DateTime)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void SetCreationTime(System::String ^ path, DateTime creationTime);" />
      <MemberSignature Language="F#" Value="static member SetCreationTime : string * DateTime -&gt; unit" Usage="System.IO.Directory.SetCreationTime (path, creationTime)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="creationTime" Type="System.DateTime" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1531">要设置其创建日期和时间信息的文件或目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1531">The file or directory for which to set the creation date and time information.</span></span></param>
        <param name="creationTime"><span data-ttu-id="994d2-1532">上次写入到文件或目录的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1532">The date and time the file or directory was last written to.</span></span> <span data-ttu-id="994d2-1533">该值用本地时间表示。</span><span class="sxs-lookup"><span data-stu-id="994d2-1533">This value is expressed in local time.</span></span></param>
        <summary><span data-ttu-id="994d2-1534">为指定的文件或目录设置创建日期和时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1534">Sets the creation date and time for the specified file or directory.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1535">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1535">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1536">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1536">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1537">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1537">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1538">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1538">The `path` parameter is not case-sensitive.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1539">下面的示例演示使用协调世界时（UTC）输出时的输出差异。</span><span class="sxs-lookup"><span data-stu-id="994d2-1539">The following example illustrates the differences in output when using Coordinated Universal Time (UTC) output.</span></span>  
  
 [!code-cpp[System.IO.UTCExample#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.UTCExample/CPP/example.cpp#1)]
 [!code-csharp[System.IO.UTCExample#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.UTCExample/CS/example.cs#1)]
 [!code-vb[System.IO.UTCExample#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.UTCExample/VB/example.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="994d2-1540">未找到指定路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1540">The specified path was not found.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1541"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1541"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1542">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1542">You can query for invalid characters with the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1543"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1543"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1544">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1544">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1545">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1545">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-1546"><paramref name="creationTime" /> 指定一个超出该操作允许的日期或时间范围的值。</span><span class="sxs-lookup"><span data-stu-id="994d2-1546"><paramref name="creationTime" /> specifies a value outside the range of dates or times permitted for this operation.</span></span></exception>
        <exception cref="T:System.PlatformNotSupportedException"><span data-ttu-id="994d2-1547">当前操作系统不是 Windows NT 或更高版本。</span><span class="sxs-lookup"><span data-stu-id="994d2-1547">The current operating system is not Windows NT or later.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1548">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1548">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1549">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1549">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1550">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1550">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SetCreationTimeUtc">
      <MemberSignature Language="C#" Value="public static void SetCreationTimeUtc (string path, DateTime creationTimeUtc);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void SetCreationTimeUtc(string path, valuetype System.DateTime creationTimeUtc) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.SetCreationTimeUtc(System.String,System.DateTime)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub SetCreationTimeUtc (path As String, creationTimeUtc As DateTime)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void SetCreationTimeUtc(System::String ^ path, DateTime creationTimeUtc);" />
      <MemberSignature Language="F#" Value="static member SetCreationTimeUtc : string * DateTime -&gt; unit" Usage="System.IO.Directory.SetCreationTimeUtc (path, creationTimeUtc)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="creationTimeUtc" Type="System.DateTime" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1551">要设置其创建日期和时间信息的文件或目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1551">The file or directory for which to set the creation date and time information.</span></span></param>
        <param name="creationTimeUtc"><span data-ttu-id="994d2-1552">目录或文件的创建日期和时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1552">The date and time the directory or file was created.</span></span> <span data-ttu-id="994d2-1553">该值用本地时间表示。</span><span class="sxs-lookup"><span data-stu-id="994d2-1553">This value is expressed in local time.</span></span></param>
        <summary><span data-ttu-id="994d2-1554">设置指定文件或目录的创建日期和时间，其格式为协调通用时 (UTC)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1554">Sets the creation date and time, in Coordinated Universal Time (UTC) format, for the specified file or directory.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1555">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1555">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1556">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1556">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1557">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1557">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1558">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1558">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-1559">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1559">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="994d2-1560">未找到指定路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1560">The specified path was not found.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1561"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1561"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1562">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1562">You can query for invalid characters with the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1563"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1563"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1564">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1564">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1565">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1565">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-1566"><paramref name="creationTime" /> 指定一个超出该操作允许的日期或时间范围的值。</span><span class="sxs-lookup"><span data-stu-id="994d2-1566"><paramref name="creationTime" /> specifies a value outside the range of dates or times permitted for this operation.</span></span></exception>
        <exception cref="T:System.PlatformNotSupportedException"><span data-ttu-id="994d2-1567">当前操作系统不是 Windows NT 或更高版本。</span><span class="sxs-lookup"><span data-stu-id="994d2-1567">The current operating system is not Windows NT or later.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1568">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1568">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1569">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1569">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1570">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1570">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SetCurrentDirectory">
      <MemberSignature Language="C#" Value="public static void SetCurrentDirectory (string path);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void SetCurrentDirectory(string path) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.SetCurrentDirectory(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub SetCurrentDirectory (path As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void SetCurrentDirectory(System::String ^ path);" />
      <MemberSignature Language="F#" Value="static member SetCurrentDirectory : string -&gt; unit" Usage="System.IO.Directory.SetCurrentDirectory path" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1571">设置为当前工作目录的路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1571">The path to which the current working directory is set.</span></span></param>
        <summary><span data-ttu-id="994d2-1572">将应用程序的当前工作目录设置为指定的目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1572">Sets the application's current working directory to the specified directory.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1573">当应用程序终止时，工作目录将还原到其原始位置（启动进程的目录）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1573">When the application terminates, the working directory is restored to its original location (the directory where the process was started).</span></span>  
  
 <span data-ttu-id="994d2-1574">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1574">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1575">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1575">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1576">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1576">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1577">设置目录之前，从 `path` 参数的末尾删除尾随空格。</span><span class="sxs-lookup"><span data-stu-id="994d2-1577">Trailing spaces are removed from the end of the `path` parameter before setting the directory.</span></span>  
  
 <span data-ttu-id="994d2-1578">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1578">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-1579">如果要将目录设置为具有可移动媒体的驱动器（例如，"E：" 表示 USB 闪存驱动器），可以通过使用 <xref:System.IO.DriveInfo.IsReady%2A> 属性来确定驱动器是否已准备就绪。</span><span class="sxs-lookup"><span data-stu-id="994d2-1579">If you are setting the directory to a drive with removable media (for example, "E:" for a USB flash drive), you can determine whether the drive is ready by using the <xref:System.IO.DriveInfo.IsReady%2A> property.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1580">下面的示例演示如何设置当前目录并显示目录根。</span><span class="sxs-lookup"><span data-stu-id="994d2-1580">The following example illustrates how to set the current directory and display the directory root.</span></span>  
  
 [!code-cpp[System.IO.DirectoryRoot#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.DirectoryRoot/CPP/example.cpp#1)]
 [!code-csharp[System.IO.DirectoryRoot#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.DirectoryRoot/CS/example.cs#1)]
 [!code-vb[System.IO.DirectoryRoot#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.DirectoryRoot/VB/example.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.IOException"><span data-ttu-id="994d2-1581">出现 I/O 错误。</span><span class="sxs-lookup"><span data-stu-id="994d2-1581">An I/O error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1582"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1582"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1583">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1583">You can query for invalid characters with the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1584"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1584"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1585">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1585">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="994d2-1586">调用方没有访问非托管代码所需的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1586">The caller does not have the required permission to access unmanaged code.</span></span></exception>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="994d2-1587">未找到指定路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1587">The specified path was not found.</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-1588">未找到指定目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1588">The specified directory was not found.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1589">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1589">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1590">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1590">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1591">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1591">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SetLastAccessTime">
      <MemberSignature Language="C#" Value="public static void SetLastAccessTime (string path, DateTime lastAccessTime);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void SetLastAccessTime(string path, valuetype System.DateTime lastAccessTime) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.SetLastAccessTime(System.String,System.DateTime)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub SetLastAccessTime (path As String, lastAccessTime As DateTime)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void SetLastAccessTime(System::String ^ path, DateTime lastAccessTime);" />
      <MemberSignature Language="F#" Value="static member SetLastAccessTime : string * DateTime -&gt; unit" Usage="System.IO.Directory.SetLastAccessTime (path, lastAccessTime)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="lastAccessTime" Type="System.DateTime" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1592">要设置其访问日期和时间信息的文件或目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1592">The file or directory for which to set the access date and time information.</span></span></param>
        <param name="lastAccessTime"><span data-ttu-id="994d2-1593">一个对象，它包含要为 <paramref name="path" /> 的访问日期和时间设置的值。</span><span class="sxs-lookup"><span data-stu-id="994d2-1593">An object that contains the value to set for the access date and time of <paramref name="path" />.</span></span> <span data-ttu-id="994d2-1594">该值用本地时间表示。</span><span class="sxs-lookup"><span data-stu-id="994d2-1594">This value is expressed in local time.</span></span></param>
        <summary><span data-ttu-id="994d2-1595">设置上次访问指定文件或目录的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1595">Sets the date and time the specified file or directory was last accessed.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1596">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1596">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1597">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1597">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1598">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1598">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1599">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1599">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-1600">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1600">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1601">下面的示例演示如何使用 `SetLastAccessTime`。</span><span class="sxs-lookup"><span data-stu-id="994d2-1601">The following example demonstrates how to use `SetLastAccessTime`.</span></span>  
  
 [!code-cpp[Dir_SetLastAccess#1](~/samples/snippets/cpp/VS_Snippets_CLR/Dir_SetLastAccess/CPP/dir_setlastaccess.cpp#1)]
 [!code-csharp[Dir_SetLastAccess#1](~/samples/snippets/csharp/VS_Snippets_CLR/Dir_SetLastAccess/CS/dir_setlastaccess.cs#1)]
 [!code-vb[Dir_SetLastAccess#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Dir_SetLastAccess/VB/dir_setlastaccess.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="994d2-1602">未找到指定路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1602">The specified path was not found.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1603"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1603"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1604">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1604">You can query for invalid characters with the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1605"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1605"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1606">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1606">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1607">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1607">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.PlatformNotSupportedException"><span data-ttu-id="994d2-1608">当前操作系统不是 Windows NT 或更高版本。</span><span class="sxs-lookup"><span data-stu-id="994d2-1608">The current operating system is not Windows NT or later.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-1609"><paramref name="lastAccessTime" /> 指定一个超出该操作允许的日期或时间范围的值。</span><span class="sxs-lookup"><span data-stu-id="994d2-1609"><paramref name="lastAccessTime" /> specifies a value outside the range of dates or times permitted for this operation.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1610">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1610">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1611">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1611">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1612">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1612">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SetLastAccessTimeUtc">
      <MemberSignature Language="C#" Value="public static void SetLastAccessTimeUtc (string path, DateTime lastAccessTimeUtc);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void SetLastAccessTimeUtc(string path, valuetype System.DateTime lastAccessTimeUtc) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.SetLastAccessTimeUtc(System.String,System.DateTime)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub SetLastAccessTimeUtc (path As String, lastAccessTimeUtc As DateTime)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void SetLastAccessTimeUtc(System::String ^ path, DateTime lastAccessTimeUtc);" />
      <MemberSignature Language="F#" Value="static member SetLastAccessTimeUtc : string * DateTime -&gt; unit" Usage="System.IO.Directory.SetLastAccessTimeUtc (path, lastAccessTimeUtc)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="lastAccessTimeUtc" Type="System.DateTime" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1613">要设置其访问日期和时间信息的文件或目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1613">The file or directory for which to set the access date and time information.</span></span></param>
        <param name="lastAccessTimeUtc"><span data-ttu-id="994d2-1614">一个对象，它包含要为 <paramref name="path" /> 的访问日期和时间设置的值。</span><span class="sxs-lookup"><span data-stu-id="994d2-1614">An object that  contains the value to set for the access date and time of <paramref name="path" />.</span></span> <span data-ttu-id="994d2-1615">该值用 UTC 时间表示。</span><span class="sxs-lookup"><span data-stu-id="994d2-1615">This value is expressed in UTC time.</span></span></param>
        <summary><span data-ttu-id="994d2-1616">设置上次访问指定文件或目录的日期和时间，其格式为协调通用时 (UTC)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1616">Sets the date and time, in Coordinated Universal Time (UTC) format, that the specified file or directory was last accessed.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1617">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1617">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1618">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1618">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1619">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1619">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1620">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1620">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-1621">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1621">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1622">下面的示例演示使用协调世界时（UTC）输出时的输出差异。</span><span class="sxs-lookup"><span data-stu-id="994d2-1622">The following example illustrates the differences in output when using Coordinated Universal Time (UTC) output.</span></span>  
  
 [!code-cpp[System.IO.UTCExample#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.UTCExample/CPP/example.cpp#1)]
 [!code-csharp[System.IO.UTCExample#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.UTCExample/CS/example.cs#1)]
 [!code-vb[System.IO.UTCExample#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.UTCExample/VB/example.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="994d2-1623">未找到指定路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1623">The specified path was not found.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1624"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1624"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1625">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1625">You can query for invalid characters with the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1626"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1626"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1627">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1627">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1628">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1628">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.PlatformNotSupportedException"><span data-ttu-id="994d2-1629">当前操作系统不是 Windows NT 或更高版本。</span><span class="sxs-lookup"><span data-stu-id="994d2-1629">The current operating system is not Windows NT or later.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-1630"><paramref name="lastAccessTimeUtc" /> 指定一个超出该操作允许的日期或时间范围的值。</span><span class="sxs-lookup"><span data-stu-id="994d2-1630"><paramref name="lastAccessTimeUtc" /> specifies a value outside the range of dates or times permitted for this operation.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1631">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1631">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1632">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1632">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1633">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1633">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SetLastWriteTime">
      <MemberSignature Language="C#" Value="public static void SetLastWriteTime (string path, DateTime lastWriteTime);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void SetLastWriteTime(string path, valuetype System.DateTime lastWriteTime) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.SetLastWriteTime(System.String,System.DateTime)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub SetLastWriteTime (path As String, lastWriteTime As DateTime)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void SetLastWriteTime(System::String ^ path, DateTime lastWriteTime);" />
      <MemberSignature Language="F#" Value="static member SetLastWriteTime : string * DateTime -&gt; unit" Usage="System.IO.Directory.SetLastWriteTime (path, lastWriteTime)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="lastWriteTime" Type="System.DateTime" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1634">目录的路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1634">The path of the directory.</span></span></param>
        <param name="lastWriteTime"><span data-ttu-id="994d2-1635">上次写入目录的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1635">The date and time the directory was last written to.</span></span> <span data-ttu-id="994d2-1636">该值用本地时间表示。</span><span class="sxs-lookup"><span data-stu-id="994d2-1636">This value is expressed in local time.</span></span></param>
        <summary><span data-ttu-id="994d2-1637">设置上次写入目录的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1637">Sets the date and time a directory was last written to.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1638">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1638">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1639">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1639">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1640">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1640">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1641">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1641">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-1642">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1642">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1643">下面的示例演示如何使用 `SetLastWriteTime`。</span><span class="sxs-lookup"><span data-stu-id="994d2-1643">The following example demonstrates how to use `SetLastWriteTime`.</span></span>  
  
 [!code-cpp[Dir_SetLastWrite#1](~/samples/snippets/cpp/VS_Snippets_CLR/Dir_SetLastWrite/CPP/dir_setlastwrite.cpp#1)]
 [!code-csharp[Dir_SetLastWrite#1](~/samples/snippets/csharp/VS_Snippets_CLR/Dir_SetLastWrite/CS/dir_setlastwrite.cs#1)]
 [!code-vb[Dir_SetLastWrite#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Dir_SetLastWrite/VB/dir_setlastwrite.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="994d2-1644">找不到 <paramref name="path" />（例如，目录不存在或在未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1644"><paramref name="path" /> was not found (for example, the directory doesn't exist or it is on an unmapped drive).</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-1645">找不到 <paramref name="path" />（例如，目录不存在或在未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1645"><paramref name="path" /> was not found (for example, the directory doesn't exist or it is on an unmapped drive).</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1646"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1646"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1647">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1647">You can query for invalid characters with the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1648"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1648"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1649">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1649">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1650">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1650">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.PlatformNotSupportedException"><span data-ttu-id="994d2-1651">当前操作系统不是 Windows NT 或更高版本。</span><span class="sxs-lookup"><span data-stu-id="994d2-1651">The current operating system is not Windows NT or later.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-1652"><paramref name="lastWriteTime" /> 指定一个超出该操作允许的日期或时间范围的值。</span><span class="sxs-lookup"><span data-stu-id="994d2-1652"><paramref name="lastWriteTime" /> specifies a value outside the range of dates or times permitted for this operation.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1653">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1653">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1654">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1654">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1655">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1655">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SetLastWriteTimeUtc">
      <MemberSignature Language="C#" Value="public static void SetLastWriteTimeUtc (string path, DateTime lastWriteTimeUtc);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void SetLastWriteTimeUtc(string path, valuetype System.DateTime lastWriteTimeUtc) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IO.Directory.SetLastWriteTimeUtc(System.String,System.DateTime)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub SetLastWriteTimeUtc (path As String, lastWriteTimeUtc As DateTime)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void SetLastWriteTimeUtc(System::String ^ path, DateTime lastWriteTimeUtc);" />
      <MemberSignature Language="F#" Value="static member SetLastWriteTimeUtc : string * DateTime -&gt; unit" Usage="System.IO.Directory.SetLastWriteTimeUtc (path, lastWriteTimeUtc)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IO.FileSystem</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="lastWriteTimeUtc" Type="System.DateTime" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="994d2-1656">目录的路径。</span><span class="sxs-lookup"><span data-stu-id="994d2-1656">The path of the directory.</span></span></param>
        <param name="lastWriteTimeUtc"><span data-ttu-id="994d2-1657">上次写入目录的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="994d2-1657">The date and time the directory was last written to.</span></span> <span data-ttu-id="994d2-1658">该值用 UTC 时间表示。</span><span class="sxs-lookup"><span data-stu-id="994d2-1658">This value is expressed in UTC time.</span></span></param>
        <summary><span data-ttu-id="994d2-1659">设置上次写入某个目录的日期和时间，其格式为协调通用时 (UTC)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1659">Sets the date and time, in Coordinated Universal Time (UTC) format, that a directory was last written to.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="994d2-1660">允许 `path` 参数指定相对或绝对路径信息。</span><span class="sxs-lookup"><span data-stu-id="994d2-1660">The `path` parameter is permitted to specify relative or absolute path information.</span></span> <span data-ttu-id="994d2-1661">相对路径信息被解释为相对于当前工作目录。</span><span class="sxs-lookup"><span data-stu-id="994d2-1661">Relative path information is interpreted as relative to the current working directory.</span></span> <span data-ttu-id="994d2-1662">若要获取当前工作目录，请参阅 <xref:System.IO.Directory.GetCurrentDirectory%2A>。</span><span class="sxs-lookup"><span data-stu-id="994d2-1662">To obtain the current working directory, see <xref:System.IO.Directory.GetCurrentDirectory%2A>.</span></span>  
  
 <span data-ttu-id="994d2-1663">`path` 参数不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="994d2-1663">The `path` parameter is not case-sensitive.</span></span>  
  
 <span data-ttu-id="994d2-1664">有关常见 i/o 任务的列表，请参阅[常见 I/o 任务](~/docs/standard/io/common-i-o-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="994d2-1664">For a list of common I/O tasks, see [Common I/O Tasks](~/docs/standard/io/common-i-o-tasks.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="994d2-1665">下面的示例演示使用协调世界时（UTC）输出时的输出差异。</span><span class="sxs-lookup"><span data-stu-id="994d2-1665">The following example illustrates the differences in output when using Coordinated Universal Time (UTC) output.</span></span>  
  
 [!code-cpp[System.IO.UTCExample#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.UTCExample/CPP/example.cpp#1)]
 [!code-csharp[System.IO.UTCExample#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.UTCExample/CS/example.cs#1)]
 [!code-vb[System.IO.UTCExample#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.UTCExample/VB/example.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="994d2-1666">找不到 <paramref name="path" />（例如，目录不存在或在未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1666"><paramref name="path" /> was not found (for example, the directory doesn't exist or it is on an unmapped drive).</span></span></exception>
        <exception cref="T:System.IO.DirectoryNotFoundException"><span data-ttu-id="994d2-1667">找不到 <paramref name="path" />（例如，目录不存在或在未映射的驱动器上）。</span><span class="sxs-lookup"><span data-stu-id="994d2-1667"><paramref name="path" /> was not found (for example, the directory doesn't exist or it is on an unmapped drive).</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="994d2-1668"><paramref name="path" /> 为长度为零的字符串，仅包含空格，或包含一个或多个无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1668"><paramref name="path" /> is a zero-length string, contains only white space, or contains one or more invalid characters.</span></span> <span data-ttu-id="994d2-1669">你可以使用 <see cref="M:System.IO.Path.GetInvalidPathChars" /> 方法查询无效字符。</span><span class="sxs-lookup"><span data-stu-id="994d2-1669">You can query for invalid characters with the  <see cref="M:System.IO.Path.GetInvalidPathChars" /> method.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="994d2-1670"><paramref name="path" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="994d2-1670"><paramref name="path" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.PathTooLongException"><span data-ttu-id="994d2-1671">指定的路径和/或文件名超过了系统定义的最大长度。</span><span class="sxs-lookup"><span data-stu-id="994d2-1671">The specified path, file name, or both exceed the system-defined maximum length.</span></span></exception>
        <exception cref="T:System.UnauthorizedAccessException"><span data-ttu-id="994d2-1672">调用方没有所要求的权限。</span><span class="sxs-lookup"><span data-stu-id="994d2-1672">The caller does not have the required permission.</span></span></exception>
        <exception cref="T:System.PlatformNotSupportedException"><span data-ttu-id="994d2-1673">当前操作系统不是 Windows NT 或更高版本。</span><span class="sxs-lookup"><span data-stu-id="994d2-1673">The current operating system is not Windows NT or later.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="994d2-1674"><paramref name="lastWriteTimeUtc" /> 指定一个超出该操作允许的日期或时间范围的值。</span><span class="sxs-lookup"><span data-stu-id="994d2-1674"><paramref name="lastWriteTimeUtc" /> specifies a value outside the range of dates or times permitted for this operation.</span></span></exception>
        <altmember cref="T:System.IO.FileSystemWatcher" />
        <related type="Article" href="~/docs/standard/io/index.md"><span data-ttu-id="994d2-1675">文件和流 I/O</span><span class="sxs-lookup"><span data-stu-id="994d2-1675">File and Stream I/O</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-read-text-from-a-file.md"><span data-ttu-id="994d2-1676">如何：从文件读取文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1676">How to: Read Text from a File</span></span></related>
        <related type="Article" href="~/docs/standard/io/how-to-write-text-to-a-file.md"><span data-ttu-id="994d2-1677">如何：向文件写入文本</span><span class="sxs-lookup"><span data-stu-id="994d2-1677">How to: Write Text to a File</span></span></related>
      </Docs>
    </Member>
  </Members>
</Type>
